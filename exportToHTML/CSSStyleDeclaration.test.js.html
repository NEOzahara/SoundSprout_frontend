<html>
<head>
<title>CSSStyleDeclaration.test.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6aab73;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #cf8e6d;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
.s6 { color: #42c3d4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
CSSStyleDeclaration.test.js</font>
</center></td></tr></table>
<pre><span class="s0">'use strict'</span><span class="s1">;</span>

<span class="s3">var </span><span class="s1">{ </span><span class="s2">CSSStyleDeclaration </span><span class="s1">} = </span><span class="s2">require</span><span class="s1">(</span><span class="s0">'./CSSStyleDeclaration'</span><span class="s1">);</span>

<span class="s3">var </span><span class="s2">allProperties </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">'./allProperties'</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">allExtraProperties </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">'./allExtraProperties'</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">implementedProperties </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">'./implementedProperties'</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">parsers </span><span class="s1">= </span><span class="s2">require</span><span class="s1">(</span><span class="s0">'./parsers'</span><span class="s1">);</span>

<span class="s3">var </span><span class="s2">dashedProperties </span><span class="s1">= [</span><span class="s2">...allProperties</span><span class="s1">, </span><span class="s2">...allExtraProperties</span><span class="s1">];</span>
<span class="s3">var </span><span class="s2">allowedProperties </span><span class="s1">= </span><span class="s2">dashedProperties</span><span class="s1">.</span><span class="s2">map</span><span class="s1">(</span><span class="s2">parsers</span><span class="s1">.</span><span class="s2">dashedToCamelCase</span><span class="s1">);</span>
<span class="s2">implementedProperties </span><span class="s1">= </span><span class="s2">Array</span><span class="s1">.</span><span class="s2">from</span><span class="s1">(</span><span class="s2">implementedProperties</span><span class="s1">).</span><span class="s2">map</span><span class="s1">(</span><span class="s2">parsers</span><span class="s1">.</span><span class="s2">dashedToCamelCase</span><span class="s1">);</span>
<span class="s3">var </span><span class="s2">invalidProperties </span><span class="s1">= </span><span class="s2">implementedProperties</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">(</span><span class="s2">prop </span><span class="s1">=&gt; !</span><span class="s2">allowedProperties</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">prop</span><span class="s1">));</span>

<span class="s2">describe</span><span class="s1">(</span><span class="s0">'CSSStyleDeclaration'</span><span class="s1">, () =&gt; {</span>
  <span class="s2">test</span><span class="s1">(</span><span class="s0">'has only valid properties implemented'</span><span class="s1">, () =&gt; {</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">invalidProperties</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">0</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'has all properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">allProperties</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">(</span><span class="s2">property </span><span class="s1">=&gt; {</span>
      <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupGetter__</span><span class="s1">(</span><span class="s2">property</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
      <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupSetter__</span><span class="s1">(</span><span class="s2">property</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
    <span class="s1">});</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'has dashed properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">dashedProperties</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">(</span><span class="s2">property </span><span class="s1">=&gt; {</span>
      <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupGetter__</span><span class="s1">(</span><span class="s2">property</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
      <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupSetter__</span><span class="s1">(</span><span class="s2">property</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
    <span class="s1">});</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'has all functions'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>

    <span class="s2">expect</span><span class="s1">(</span><span class="s3">typeof </span><span class="s2">style</span><span class="s1">.</span><span class="s2">item</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'function'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s3">typeof </span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'function'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s3">typeof </span><span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'function'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s3">typeof </span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyPriority</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'function'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s3">typeof </span><span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'function'</span><span class="s1">);</span>

    <span class="s5">// TODO - deprecated according to MDN and not implemented at all, can we remove?</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s3">typeof </span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyCSSValue</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'function'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'has special properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>

    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupGetter__</span><span class="s1">(</span><span class="s0">'cssText'</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupSetter__</span><span class="s1">(</span><span class="s0">'cssText'</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupGetter__</span><span class="s1">(</span><span class="s0">'length'</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupSetter__</span><span class="s1">(</span><span class="s0">'length'</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">__lookupGetter__</span><span class="s1">(</span><span class="s0">'parentRule'</span><span class="s1">)).</span><span class="s2">toBeTruthy</span><span class="s1">();</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'from style string'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'color: blue; background-color: red; width: 78%; height: 50vh;'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">4</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color: blue; background-color: red; width: 78%; height: 50vh;'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'color'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'blue'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">item</span><span class="s1">(</span><span class="s4">0</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s4">1</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'background-color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundColor</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'red'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">0</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'from properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'blue'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">1</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s4">0</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color: blue;'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">item</span><span class="s1">(</span><span class="s4">0</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'blue'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundColor </span><span class="s1">= </span><span class="s0">'red'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">2</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s4">0</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s4">1</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'background-color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'color: blue; background-color: red;'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundColor</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'red'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'color'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s4">0</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'background-color'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'shorthand properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">background </span><span class="s1">= </span><span class="s0">'blue url(http://www.example.com/some_img.jpg)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundColor</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'blue'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'url(http://www.example.com/some_img.jpg)'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">background</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'blue url(http://www.example.com/some_img.jpg)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">'0 solid black'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderStyle</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'solid'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderColor</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'black'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderLeftStyle</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'solid'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderBottomColor</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'black'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">font </span><span class="s1">= </span><span class="s0">'12em monospace'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'12em'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'monospace'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'width and height properties and null and empty strings'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">height </span><span class="s1">= </span><span class="s4">6</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">height</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">width </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">width</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">height </span><span class="s1">= </span><span class="s0">'34%'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">height</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'34%'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">height </span><span class="s1">= </span><span class="s0">'100vh'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">height</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'100vh'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">height </span><span class="s1">= </span><span class="s0">'100vw'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">height</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'100vw'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">height </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s4">1</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'width: 0px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">width </span><span class="s1">= </span><span class="s3">null</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s4">0</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'implicit properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderWidth </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">1</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderBottomWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderLeftWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderRightWidth</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-width: 0px;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'top, left, right, bottom properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">top </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">left </span><span class="s1">= </span><span class="s0">'0%'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">right </span><span class="s1">= </span><span class="s0">'5em'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">bottom </span><span class="s1">= </span><span class="s0">'12pt'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">top</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">left</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0%'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">right</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'5em'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">bottom</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'12pt'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">4</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'top: 0px; left: 0%; right: 5em; bottom: 12pt;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'clear and clip properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clear </span><span class="s1">= </span><span class="s0">'none'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'none'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clear </span><span class="s1">= </span><span class="s0">'lfet'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'none'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clear </span><span class="s1">= </span><span class="s0">'left'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'left'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clear </span><span class="s1">= </span><span class="s0">'right'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'right'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clear </span><span class="s1">= </span><span class="s0">'both'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'both'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clip </span><span class="s1">= </span><span class="s0">'elipse(5px, 10px)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clip</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">1</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">clip </span><span class="s1">= </span><span class="s0">'rect(0, 3Em, 2pt, 50%)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">clip</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rect(0px, 3em, 2pt, 50%)'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s4">2</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'clear: both; clip: rect(0px, 3em, 2pt, 50%);'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'colors'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'rgba(0,0,0,0)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgba(0, 0, 0, 0)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'rgba(5%, 10%, 20%, 0.4)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgba(12, 25, 51, 0.4)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'rgb(33%, 34%, 33%)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgb(84, 86, 84)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'rgba(300, 200, 100, 1.5)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgb(255, 200, 100)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'hsla(0, 1%, 2%, 0.5)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgba(5, 5, 5, 0.5)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'hsl(0, 1%, 2%)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgb(5, 5, 5)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'rebeccapurple'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rebeccapurple'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'transparent'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'transparent'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'currentcolor'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'currentcolor'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'#ffffffff'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgba(255, 255, 255, 1)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'#fffa'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgba(255, 255, 255, 0.667)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'#ffffff66'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">color</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgba(255, 255, 255, 0.4)'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'short hand properties with embedded spaces'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">background </span><span class="s1">= </span><span class="s0">'rgb(0, 0, 0) url(/something/somewhere.jpg)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundColor</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'rgb(0, 0, 0)'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'url(/something/somewhere.jpg)'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'background: rgb(0, 0, 0) url(/something/somewhere.jpg);'</span><span class="s1">);</span>
    <span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">'  1px  solid   black  '</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">border</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'1px solid black'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting shorthand properties to an empty string should clear all dependent properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting implicit properties to an empty string should clear all dependent properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderWidth </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting a shorthand property, whose shorthands are implicit properties, to an empty string should clear all dependent properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTop </span><span class="s1">= </span><span class="s0">'1px solid black'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top: 1px solid black;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting border values to &quot;none&quot; should clear dependent values'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">'none'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopStyle </span><span class="s1">= </span><span class="s0">'none'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTop </span><span class="s1">= </span><span class="s0">'none'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTopWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderLeftWidth </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-top-width: 1px; border-left-width: 1px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderTop </span><span class="s1">= </span><span class="s0">'none'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-left-width: 1px;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting border to 0 should be okay'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border: 0px;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting values implicit and shorthand properties via csstext and setproperty should propagate to dependent properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'border: 1px solid black;'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border: 1px solid black;'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">borderTop</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'1px solid black'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">border </span><span class="s1">= </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'border'</span><span class="s1">, </span><span class="s0">'1px solid black'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border: 1px solid black;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting opacity should work'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'opacity'</span><span class="s1">, </span><span class="s4">0.75</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'opacity: 0.75;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">opacity </span><span class="s1">= </span><span class="s0">'0.50'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'opacity: 0.5;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">opacity </span><span class="s1">= </span><span class="s4">1</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'opacity: 1;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'width and height of auto should work'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">width </span><span class="s1">= </span><span class="s0">'auto'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'width: auto;'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">width</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'auto'</span><span class="s1">);</span>
    <span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">height </span><span class="s1">= </span><span class="s0">'auto'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'height: auto;'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">height</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'auto'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'padding and margin should set/clear shorthand properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s3">var </span><span class="s2">parts </span><span class="s1">= [</span><span class="s0">'Top'</span><span class="s1">, </span><span class="s0">'Right'</span><span class="s1">, </span><span class="s0">'Bottom'</span><span class="s1">, </span><span class="s0">'Left'</span><span class="s1">];</span>
    <span class="s3">var </span><span class="s2">testParts </span><span class="s1">= </span><span class="s3">function</span><span class="s1">(</span><span class="s2">name</span><span class="s1">, </span><span class="s2">v</span><span class="s1">, </span><span class="s2">V</span><span class="s1">) {</span>
      <span class="s2">style</span><span class="s1">[</span><span class="s2">name</span><span class="s1">] = </span><span class="s2">v</span><span class="s1">;</span>
      <span class="s3">for </span><span class="s1">(</span><span class="s3">var </span><span class="s2">i </span><span class="s1">= </span><span class="s4">0</span><span class="s1">; </span><span class="s2">i </span><span class="s1">&lt; </span><span class="s4">4</span><span class="s1">; </span><span class="s2">i</span><span class="s1">++) {</span>
        <span class="s3">var </span><span class="s2">part </span><span class="s1">= </span><span class="s2">name </span><span class="s1">+ </span><span class="s2">parts</span><span class="s1">[</span><span class="s2">i</span><span class="s1">];</span>
        <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s2">part</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">V</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]);</span>
      <span class="s1">}</span>

      <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s2">name</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">v</span><span class="s1">);</span>
      <span class="s2">style</span><span class="s1">[</span><span class="s2">name</span><span class="s1">] = </span><span class="s0">''</span><span class="s1">;</span>
    <span class="s1">};</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'padding'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'padding'</span><span class="s1">, </span><span class="s0">'1px 2%'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'2%'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'2%'</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'padding'</span><span class="s1">, </span><span class="s0">'1px 2px 3px'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'2px'</span><span class="s1">, </span><span class="s0">'3px'</span><span class="s1">, </span><span class="s0">'2px'</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'padding'</span><span class="s1">, </span><span class="s0">'1px 2px 3px 4px'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'2px'</span><span class="s1">, </span><span class="s0">'3px'</span><span class="s1">, </span><span class="s0">'4px'</span><span class="s1">]);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">paddingTop </span><span class="s1">= </span><span class="s2">style</span><span class="s1">.</span><span class="s2">paddingRight </span><span class="s1">= </span><span class="s2">style</span><span class="s1">.</span><span class="s2">paddingBottom </span><span class="s1">= </span><span class="s2">style</span><span class="s1">.</span><span class="s2">paddingLeft </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'padding'</span><span class="s1">, </span><span class="s0">''</span><span class="s1">, [</span><span class="s0">''</span><span class="s1">, </span><span class="s0">''</span><span class="s1">, </span><span class="s0">''</span><span class="s1">, </span><span class="s0">''</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">'1px auto'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'auto'</span><span class="s1">, </span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'auto'</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">'1px 2% 3px'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'2%'</span><span class="s1">, </span><span class="s0">'3px'</span><span class="s1">, </span><span class="s0">'2%'</span><span class="s1">]);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">'1px 2px 3px 4px'</span><span class="s1">, [</span><span class="s0">'1px'</span><span class="s1">, </span><span class="s0">'2px'</span><span class="s1">, </span><span class="s0">'3px'</span><span class="s1">, </span><span class="s0">'4px'</span><span class="s1">]);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">marginTop </span><span class="s1">= </span><span class="s2">style</span><span class="s1">.</span><span class="s2">marginRight </span><span class="s1">= </span><span class="s2">style</span><span class="s1">.</span><span class="s2">marginBottom </span><span class="s1">= </span><span class="s2">style</span><span class="s1">.</span><span class="s2">marginLeft </span><span class="s1">= </span><span class="s0">'1px'</span><span class="s1">;</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">''</span><span class="s1">, [</span><span class="s0">''</span><span class="s1">, </span><span class="s0">''</span><span class="s1">, </span><span class="s0">''</span><span class="s1">, </span><span class="s0">''</span><span class="s1">]);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'padding and margin shorthands should set main properties'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s3">var </span><span class="s2">parts </span><span class="s1">= [</span><span class="s0">'Top'</span><span class="s1">, </span><span class="s0">'Right'</span><span class="s1">, </span><span class="s0">'Bottom'</span><span class="s1">, </span><span class="s0">'Left'</span><span class="s1">];</span>
    <span class="s3">var </span><span class="s2">testParts </span><span class="s1">= </span><span class="s3">function</span><span class="s1">(</span><span class="s2">name</span><span class="s1">, </span><span class="s2">v</span><span class="s1">, </span><span class="s2">V</span><span class="s1">) {</span>
      <span class="s3">var </span><span class="s2">expected</span><span class="s1">;</span>
      <span class="s3">for </span><span class="s1">(</span><span class="s3">var </span><span class="s2">i </span><span class="s1">= </span><span class="s4">0</span><span class="s1">; </span><span class="s2">i </span><span class="s1">&lt; </span><span class="s4">4</span><span class="s1">; </span><span class="s2">i</span><span class="s1">++) {</span>
        <span class="s2">style</span><span class="s1">[</span><span class="s2">name</span><span class="s1">] = </span><span class="s2">v</span><span class="s1">;</span>
        <span class="s2">style</span><span class="s1">[</span><span class="s2">name </span><span class="s1">+ </span><span class="s2">parts</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]] = </span><span class="s2">V</span><span class="s1">;</span>
        <span class="s2">expected </span><span class="s1">= </span><span class="s2">v</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s6">/ /</span><span class="s1">);</span>
        <span class="s2">expected</span><span class="s1">[</span><span class="s2">i</span><span class="s1">] = </span><span class="s2">V</span><span class="s1">;</span>
        <span class="s2">expected </span><span class="s1">= </span><span class="s2">expected</span><span class="s1">.</span><span class="s2">join</span><span class="s1">(</span><span class="s0">' '</span><span class="s1">);</span>

        <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s2">name</span><span class="s1">]).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">expected</span><span class="s1">);</span>
      <span class="s1">}</span>
    <span class="s1">};</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'padding'</span><span class="s1">, </span><span class="s0">'1px 2px 3px 4px'</span><span class="s1">, </span><span class="s0">'10px'</span><span class="s1">);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">'1px 2px 3px 4px'</span><span class="s1">, </span><span class="s0">'10px'</span><span class="s1">);</span>
    <span class="s2">testParts</span><span class="s1">(</span><span class="s0">'margin'</span><span class="s1">, </span><span class="s0">'1px 2px 3px 4px'</span><span class="s1">, </span><span class="s0">'auto'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting a value to 0 should return the string value'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'fill-opacity'</span><span class="s1">, </span><span class="s4">0</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">fillOpacity</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'onchange callback should be called when the csstext changes'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">(</span><span class="s3">function</span><span class="s1">(</span><span class="s2">cssText</span><span class="s1">) {</span>
      <span class="s2">expect</span><span class="s1">(</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'opacity: 0;'</span><span class="s1">);</span>
    <span class="s1">});</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'opacity'</span><span class="s1">, </span><span class="s4">0</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting float should work the same as cssfloat'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">float </span><span class="s1">= </span><span class="s0">'left'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssFloat</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'left'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting improper css to csstext should not throw'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'color: '</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">color </span><span class="s1">= </span><span class="s0">'black'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'float: '</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'url parsing works with quotes'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage </span><span class="s1">= </span><span class="s0">'url(http://some/url/here1.png)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'url(http://some/url/here1.png)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage </span><span class="s1">= </span><span class="s0">&quot;url('http://some/url/here2.png')&quot;</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'url(http://some/url/here2.png)'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage </span><span class="s1">= </span><span class="s0">'url(&quot;http://some/url/here3.png&quot;)'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">backgroundImage</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'url(http://some/url/here3.png)'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting 0 to a padding or margin works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">padding </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'padding: 0px;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">margin </span><span class="s1">= </span><span class="s0">'1em'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">marginTop </span><span class="s1">= </span><span class="s0">'0'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">marginTop</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting ex units to a padding or margin works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">padding </span><span class="s1">= </span><span class="s0">'1ex'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'padding: 1ex;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">margin </span><span class="s1">= </span><span class="s0">'1em'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">marginTop </span><span class="s1">= </span><span class="s0">'0.5ex'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">marginTop</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0.5ex'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'setting null to background works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">background </span><span class="s1">= </span><span class="s0">'red'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'background: red;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">background </span><span class="s1">= </span><span class="s3">null</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'flex properties should keep their values'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">flexDirection </span><span class="s1">= </span><span class="s0">'column'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'flex-direction: column;'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">flexDirection </span><span class="s1">= </span><span class="s0">'row'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'flex-direction: row;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'camelcase properties are not assigned with `.setproperty()`'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'fontSize'</span><span class="s1">, </span><span class="s0">'12px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'casing is ignored in `.setproperty()`'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'FoNt-SiZe'</span><span class="s1">, </span><span class="s0">'12px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'12px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'font-size'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'12px'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'support non string entries in border-spacing'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">borderSpacing </span><span class="s1">= </span><span class="s4">0</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'border-spacing: 0px;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'float should be valid property for `.setproperty()`'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'float'</span><span class="s1">, </span><span class="s0">'left'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">float</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'left'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'float'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'left'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'flex-shrink works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">, </span><span class="s4">0</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">, </span><span class="s4">1</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'1'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'flex-shrink: 1;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'flex-grow works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">, </span><span class="s4">2</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'2'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'flex-grow: 2;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'flex-basis works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">, </span><span class="s4">0</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0px'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">, </span><span class="s0">'250px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'250px'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">, </span><span class="s0">'10em'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'10em'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">, </span><span class="s0">'30%'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'30%'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">cssText</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'flex-basis: 30%;'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'shorthand flex works'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">, </span><span class="s0">'none'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'auto'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">, </span><span class="s0">'auto'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'auto'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">, </span><span class="s0">'0 1 250px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0 1 250px'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'0'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'1'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'250px'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">, </span><span class="s0">'2'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'2'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">, </span><span class="s0">'20%'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'20%'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">, </span><span class="s0">'2 2'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-grow'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'2'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-shrink'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'2'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'flex-basis'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">removeProperty</span><span class="s1">(</span><span class="s0">'flex'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'font-size get a valid value'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">var </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s3">const </span><span class="s2">invalidValue </span><span class="s1">= </span><span class="s0">'1r5px'</span><span class="s1">;</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'font-size: 15px'</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s4">1</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">`font-size: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">invalidValue</span><span class="s1">}</span><span class="s0">`</span><span class="s1">;</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s4">0</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">undefined</span><span class="s1">).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s2">style</span><span class="s1">[</span><span class="s4">0</span><span class="s1">]);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'getPropertyValue for custom properties in cssText'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">const </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'--foo: red'</span><span class="s1">;</span>

    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'--foo'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'red'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'getPropertyValue for custom properties with setProperty'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">const </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'--bar'</span><span class="s1">, </span><span class="s0">'blue'</span><span class="s1">);</span>

    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'--bar'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'blue'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'getPropertyValue for custom properties with object setter'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">const </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">[</span><span class="s0">'--baz'</span><span class="s1">] = </span><span class="s0">'yellow'</span><span class="s1">;</span>

    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'--baz'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'custom properties are case-sensitive'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">const </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">cssText </span><span class="s1">= </span><span class="s0">'--fOo: purple'</span><span class="s1">;</span>

    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'--foo'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">''</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'--fOo'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'purple'</span><span class="s1">);</span>
  <span class="s1">});</span>

  <span class="s2">test</span><span class="s1">(</span><span class="s0">'supports calc'</span><span class="s1">, () =&gt; {</span>
    <span class="s3">const </span><span class="s2">style </span><span class="s1">= </span><span class="s3">new </span><span class="s2">CSSStyleDeclaration</span><span class="s1">();</span>
    <span class="s2">style</span><span class="s1">.</span><span class="s2">setProperty</span><span class="s1">(</span><span class="s0">'width'</span><span class="s1">, </span><span class="s0">'calc(100% - 100px)'</span><span class="s1">);</span>
    <span class="s2">expect</span><span class="s1">(</span><span class="s2">style</span><span class="s1">.</span><span class="s2">getPropertyValue</span><span class="s1">(</span><span class="s0">'width'</span><span class="s1">)).</span><span class="s2">toEqual</span><span class="s1">(</span><span class="s0">'calc(100% - 100px)'</span><span class="s1">);</span>
  <span class="s1">});</span>
<span class="s1">});</span>
</pre>
</body>
</html>