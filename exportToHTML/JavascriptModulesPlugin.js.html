<html>
<head>
<title>JavascriptModulesPlugin.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #6aab73;}
.s3 { color: #bcbec4;}
.s4 { color: #cf8e6d;}
.s5 { color: #5f826b; font-style: italic;}
.s6 { color: #67a37c; font-style: italic;}
.s7 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
JavascriptModulesPlugin.js</font>
</center></td></tr></table>
<pre><span class="s0">/* 
    MIT License http://www.opensource.org/licenses/mit-license.php 
    Author Tobias Koppers @sokra 
*/</span>

<span class="s2">&quot;use strict&quot;</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">eslintScope </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;eslint-scope&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{ </span><span class="s1">SyncWaterfallHook</span><span class="s3">, </span><span class="s1">SyncHook</span><span class="s3">, </span><span class="s1">SyncBailHook </span><span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;tapable&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">vm </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;vm&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{</span>
	<span class="s1">ConcatSource</span><span class="s3">,</span>
	<span class="s1">OriginalSource</span><span class="s3">,</span>
	<span class="s1">PrefixSource</span><span class="s3">,</span>
	<span class="s1">RawSource</span><span class="s3">,</span>
	<span class="s1">CachedSource</span><span class="s3">,</span>
	<span class="s1">ReplaceSource</span>
<span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;webpack-sources&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">Compilation </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../Compilation&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{ </span><span class="s1">tryRunOrWebpackError </span><span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../HookWebpackError&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">HotUpdateChunk </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../HotUpdateChunk&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">InitFragment </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../InitFragment&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{</span>
	<span class="s1">JAVASCRIPT_MODULE_TYPE_AUTO</span><span class="s3">,</span>
	<span class="s1">JAVASCRIPT_MODULE_TYPE_DYNAMIC</span><span class="s3">,</span>
	<span class="s1">JAVASCRIPT_MODULE_TYPE_ESM</span><span class="s3">,</span>
	<span class="s1">WEBPACK_MODULE_TYPE_RUNTIME</span>
<span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../ModuleTypeConstants&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">NormalModule </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../NormalModule&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">RuntimeGlobals </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../RuntimeGlobals&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">Template </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../Template&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{ </span><span class="s1">last</span><span class="s3">, </span><span class="s1">someInIterable </span><span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/IterableHelpers&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">StringXor </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/StringXor&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{ </span><span class="s1">compareModulesByIdOrIdentifier </span><span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/comparators&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{</span>
	<span class="s1">getPathInAst</span><span class="s3">,</span>
	<span class="s1">getAllReferences</span><span class="s3">,</span>
	<span class="s1">RESERVED_NAMES</span><span class="s3">,</span>
	<span class="s1">findNewName</span><span class="s3">,</span>
	<span class="s1">addScopeSymbols</span><span class="s3">,</span>
	<span class="s1">getUsedNamesInScopeInfo</span>
<span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/concatenate&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">createHash </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/createHash&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">nonNumericOnlyHash </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/nonNumericOnlyHash&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">removeBOM </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/removeBOM&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s3">{ </span><span class="s1">intersectRuntime </span><span class="s3">} = </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;../util/runtime&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">JavascriptGenerator </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;./JavascriptGenerator&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">JavascriptParser </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">&quot;./JavascriptParser&quot;</span><span class="s3">);</span>

<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;eslint-scope&quot;).Reference} Reference */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;eslint-scope&quot;).Scope} Scope */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;eslint-scope&quot;).Variable} Variable */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;estree&quot;).Program} Program */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;webpack-sources&quot;).Source} Source */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../../declarations/WebpackOptions&quot;).Output} OutputOptions */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Chunk&quot;)} Chunk */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../ChunkGraph&quot;)} ChunkGraph */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../CodeGenerationResults&quot;)} CodeGenerationResults */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Compilation&quot;).ChunkHashContext} ChunkHashContext */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Compilation&quot;).ExecuteModuleObject} ExecuteModuleObject */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Compiler&quot;)} Compiler */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../DependencyTemplates&quot;)} DependencyTemplates */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Entrypoint&quot;)} Entrypoint */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Module&quot;)} Module */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../Module&quot;).BuildInfo} BuildInfo */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../ModuleGraph&quot;)} ModuleGraph */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../RuntimeTemplate&quot;)} RuntimeTemplate */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../TemplatedPathPlugin&quot;).TemplatePath} TemplatePath */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../WebpackError&quot;)} WebpackError */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../javascript/JavascriptParser&quot;).Range} Range */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../util/Hash&quot;)} Hash */</span>
<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{import(&quot;../util/createHash&quot;).Algorithm} Algorithm */</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Chunk} chunk a chunk</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{ChunkGraph} chunkGraph the chunk graph</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{boolean} true, when a JS file is needed for this chunk</span>
 <span class="s5">*/</span>
<span class="s4">const </span><span class="s1">chunkHasJs </span><span class="s3">= (</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">chunkGraph</span><span class="s3">) =&gt; {</span>
	<span class="s4">if </span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getNumberOfEntryModules</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">) &gt; </span><span class="s7">0</span><span class="s3">) </span><span class="s4">return true</span><span class="s3">;</span>

	<span class="s4">return </span><span class="s1">Boolean</span><span class="s3">(</span>
		<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkModulesIterableBySourceType</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s2">&quot;javascript&quot;</span><span class="s3">)</span>
	<span class="s3">);</span>
<span class="s3">};</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Chunk} chunk a chunk</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{ChunkGraph} chunkGraph the chunk graph</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{boolean} true, when a JS file is needed for this chunk</span>
 <span class="s5">*/</span>
<span class="s4">const </span><span class="s1">chunkHasRuntimeOrJs </span><span class="s3">= (</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">chunkGraph</span><span class="s3">) =&gt; {</span>
	<span class="s4">if </span><span class="s3">(</span>
		<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkModulesIterableBySourceType</span><span class="s3">(</span>
			<span class="s1">chunk</span><span class="s3">,</span>
			<span class="s1">WEBPACK_MODULE_TYPE_RUNTIME</span>
		<span class="s3">)</span>
	<span class="s3">)</span>
		<span class="s4">return true</span><span class="s3">;</span>

	<span class="s4">return </span><span class="s1">Boolean</span><span class="s3">(</span>
		<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkModulesIterableBySourceType</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s2">&quot;javascript&quot;</span><span class="s3">)</span>
	<span class="s3">);</span>
<span class="s3">};</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Module} module a module</span>
 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{string} code the code</span>
 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{string} generated code for the stack</span>
 <span class="s5">*/</span>
<span class="s4">const </span><span class="s1">printGeneratedCodeForStack </span><span class="s3">= (</span><span class="s1">module</span><span class="s3">, </span><span class="s1">code</span><span class="s3">) =&gt; {</span>
	<span class="s4">const </span><span class="s1">lines </span><span class="s3">= </span><span class="s1">code</span><span class="s3">.</span><span class="s1">split</span><span class="s3">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
	<span class="s4">const </span><span class="s1">n </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">lines</span><span class="s3">.</span><span class="s1">length</span><span class="s3">}</span><span class="s2">`</span><span class="s3">.</span><span class="s1">length</span><span class="s3">;</span>
	<span class="s4">return </span><span class="s2">`</span><span class="s4">\n\n</span><span class="s2">Generated code for </span><span class="s1">$</span><span class="s3">{</span><span class="s1">module</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">()}</span><span class="s4">\n</span><span class="s1">$</span><span class="s3">{</span><span class="s1">lines</span>
		<span class="s3">.</span><span class="s1">map</span><span class="s3">(</span>
			<span class="s5">/**</span>
			 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{string} line the line</span>
			 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{number} i the index</span>
			 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{string[]} lines the lines</span>
			 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{string} the line with line number</span>
			 <span class="s5">*/</span>
			<span class="s3">(</span><span class="s1">line</span><span class="s3">, </span><span class="s1">i</span><span class="s3">, </span><span class="s1">lines</span><span class="s3">) =&gt; {</span>
				<span class="s4">const </span><span class="s1">iStr </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">i </span><span class="s3">+ </span><span class="s7">1</span><span class="s3">}</span><span class="s2">`</span><span class="s3">;</span>
				<span class="s4">return </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s2">&quot; &quot;</span><span class="s3">.</span><span class="s1">repeat</span><span class="s3">(</span><span class="s1">n </span><span class="s3">- </span><span class="s1">iStr</span><span class="s3">.</span><span class="s1">length</span><span class="s3">)}</span><span class="s1">$</span><span class="s3">{</span><span class="s1">iStr</span><span class="s3">} </span><span class="s2">| </span><span class="s1">$</span><span class="s3">{</span><span class="s1">line</span><span class="s3">}</span><span class="s2">`</span><span class="s3">;</span>
			<span class="s3">}</span>
		<span class="s3">)</span>
		<span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">)}</span><span class="s2">`</span><span class="s3">;</span>
<span class="s3">};</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@typedef </span><span class="s5">{object} RenderContext</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{Chunk} chunk the chunk</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{DependencyTemplates} dependencyTemplates the dependency templates</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{RuntimeTemplate} runtimeTemplate the runtime template</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ModuleGraph} moduleGraph the module graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ChunkGraph} chunkGraph the chunk graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{CodeGenerationResults} codeGenerationResults results of code generation</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{boolean | undefined} strictMode rendering in strict context</span>
 <span class="s5">*/</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@typedef </span><span class="s5">{object} MainRenderContext</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{Chunk} chunk the chunk</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{DependencyTemplates} dependencyTemplates the dependency templates</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{RuntimeTemplate} runtimeTemplate the runtime template</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ModuleGraph} moduleGraph the module graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ChunkGraph} chunkGraph the chunk graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{CodeGenerationResults} codeGenerationResults results of code generation</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{string} hash hash to be used for render call</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{boolean | undefined} strictMode rendering in strict context</span>
 <span class="s5">*/</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@typedef </span><span class="s5">{object} ChunkRenderContext</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{Chunk} chunk the chunk</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{DependencyTemplates} dependencyTemplates the dependency templates</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{RuntimeTemplate} runtimeTemplate the runtime template</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ModuleGraph} moduleGraph the module graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ChunkGraph} chunkGraph the chunk graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{CodeGenerationResults} codeGenerationResults results of code generation</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{InitFragment&lt;ChunkRenderContext&gt;[]} chunkInitFragments init fragments for the chunk</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{boolean | undefined} strictMode rendering in strict context</span>
 <span class="s5">*/</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@typedef </span><span class="s5">{object} RenderBootstrapContext</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{Chunk} chunk the chunk</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{CodeGenerationResults} codeGenerationResults results of code generation</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{RuntimeTemplate} runtimeTemplate the runtime template</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ModuleGraph} moduleGraph the module graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{ChunkGraph} chunkGraph the chunk graph</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{string} hash hash to be used for render call</span>
 <span class="s5">*/</span>

<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{RenderContext &amp; { inlined: boolean }} StartupRenderContext */</span>

<span class="s5">/**</span>
 <span class="s5">* </span><span class="s6">@typedef </span><span class="s5">{object} CompilationHooks</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, Module, ChunkRenderContext]&gt;} renderModuleContent</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, Module, ChunkRenderContext]&gt;} renderModuleContainer</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, Module, ChunkRenderContext]&gt;} renderModulePackage</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, RenderContext]&gt;} renderChunk</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, RenderContext]&gt;} renderMain</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, RenderContext]&gt;} renderContent</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, RenderContext]&gt;} render</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[Source, Module, StartupRenderContext]&gt;} renderStartup</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncWaterfallHook&lt;[string, RenderBootstrapContext]&gt;} renderRequire</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncBailHook&lt;[Module, RenderBootstrapContext], string | void&gt;} inlineInRuntimeBailout</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncBailHook&lt;[Module, RenderContext], string | void&gt;} embedInRuntimeBailout</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncBailHook&lt;[RenderContext], string | void&gt;} strictRuntimeBailout</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncHook&lt;[Chunk, Hash, ChunkHashContext]&gt;} chunkHash</span>
 <span class="s5">* </span><span class="s6">@property </span><span class="s5">{SyncBailHook&lt;[Chunk, RenderContext], boolean | void&gt;} useSourceMap</span>
 <span class="s5">*/</span>

<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{WeakMap&lt;Compilation, CompilationHooks&gt;} */</span>
<span class="s4">const </span><span class="s1">compilationHooksMap </span><span class="s3">= </span><span class="s4">new </span><span class="s1">WeakMap</span><span class="s3">();</span>

<span class="s4">const </span><span class="s1">PLUGIN_NAME </span><span class="s3">= </span><span class="s2">&quot;JavascriptModulesPlugin&quot;</span><span class="s3">;</span>

<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{{ header: string[], beforeStartup: string[], startup: string[], afterStartup: string[], allowInlineStartup: boolean }} Bootstrap */</span>

<span class="s4">class </span><span class="s1">JavascriptModulesPlugin </span><span class="s3">{</span>
	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Compilation} compilation the compilation</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{CompilationHooks} the attached hooks</span>
	 <span class="s5">*/</span>
	<span class="s4">static </span><span class="s1">getCompilationHooks</span><span class="s3">(</span><span class="s1">compilation</span><span class="s3">) {</span>
		<span class="s4">if </span><span class="s3">(!(</span><span class="s1">compilation </span><span class="s4">instanceof </span><span class="s1">Compilation</span><span class="s3">)) {</span>
			<span class="s4">throw new </span><span class="s1">TypeError</span><span class="s3">(</span>
				<span class="s2">&quot;The 'compilation' argument must be an instance of Compilation&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s4">let </span><span class="s1">hooks </span><span class="s3">= </span><span class="s1">compilationHooksMap</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">compilation</span><span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">hooks </span><span class="s3">=== </span><span class="s1">undefined</span><span class="s3">) {</span>
			<span class="s1">hooks </span><span class="s3">= {</span>
				<span class="s1">renderModuleContent</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span>
					<span class="s2">&quot;source&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;module&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;renderContext&quot;</span>
				<span class="s3">]),</span>
				<span class="s1">renderModuleContainer</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span>
					<span class="s2">&quot;source&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;module&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;renderContext&quot;</span>
				<span class="s3">]),</span>
				<span class="s1">renderModulePackage</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span>
					<span class="s2">&quot;source&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;module&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;renderContext&quot;</span>
				<span class="s3">]),</span>
				<span class="s1">render</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span><span class="s2">&quot;source&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">renderContent</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span><span class="s2">&quot;source&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">renderStartup</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span>
					<span class="s2">&quot;source&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;module&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;startupRenderContext&quot;</span>
				<span class="s3">]),</span>
				<span class="s1">renderChunk</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span><span class="s2">&quot;source&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">renderMain</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span><span class="s2">&quot;source&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">renderRequire</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncWaterfallHook</span><span class="s3">([</span><span class="s2">&quot;code&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">inlineInRuntimeBailout</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncBailHook</span><span class="s3">([</span><span class="s2">&quot;module&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">embedInRuntimeBailout</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncBailHook</span><span class="s3">([</span><span class="s2">&quot;module&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">strictRuntimeBailout</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncBailHook</span><span class="s3">([</span><span class="s2">&quot;renderContext&quot;</span><span class="s3">]),</span>
				<span class="s1">chunkHash</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncHook</span><span class="s3">([</span><span class="s2">&quot;chunk&quot;</span><span class="s3">, </span><span class="s2">&quot;hash&quot;</span><span class="s3">, </span><span class="s2">&quot;context&quot;</span><span class="s3">]),</span>
				<span class="s1">useSourceMap</span><span class="s3">: </span><span class="s4">new </span><span class="s1">SyncBailHook</span><span class="s3">([</span><span class="s2">&quot;chunk&quot;</span><span class="s3">, </span><span class="s2">&quot;renderContext&quot;</span><span class="s3">])</span>
			<span class="s3">};</span>
			<span class="s1">compilationHooksMap</span><span class="s3">.</span><span class="s1">set</span><span class="s3">(</span><span class="s1">compilation</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s4">return </span><span class="s1">hooks</span><span class="s3">;</span>
	<span class="s3">}</span>

	<span class="s1">constructor</span><span class="s3">(</span><span class="s1">options </span><span class="s3">= {}) {</span>
		<span class="s4">this</span><span class="s3">.</span><span class="s1">options </span><span class="s3">= </span><span class="s1">options</span><span class="s3">;</span>
		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{WeakMap&lt;Source, { source: Source, needModule:boolean, needExports: boolean, needRequire: boolean, needThisAsExports: boolean, needStrict: boolean | undefined }&gt;} */</span>
		<span class="s4">this</span><span class="s3">.</span><span class="s1">_moduleFactoryCache </span><span class="s3">= </span><span class="s4">new </span><span class="s1">WeakMap</span><span class="s3">();</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* Apply the plugin</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Compiler} compiler the compiler instance</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{void}</span>
	 <span class="s5">*/</span>
	<span class="s1">apply</span><span class="s3">(</span><span class="s1">compiler</span><span class="s3">) {</span>
		<span class="s1">compiler</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">compilation</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span>
			<span class="s1">PLUGIN_NAME</span><span class="s3">,</span>
			<span class="s3">(</span><span class="s1">compilation</span><span class="s3">, { </span><span class="s1">normalModuleFactory </span><span class="s3">}) =&gt; {</span>
				<span class="s4">const </span><span class="s1">hooks </span><span class="s3">= </span><span class="s1">JavascriptModulesPlugin</span><span class="s3">.</span><span class="s1">getCompilationHooks</span><span class="s3">(</span><span class="s1">compilation</span><span class="s3">);</span>

				<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">type of </span><span class="s3">[</span>
					<span class="s1">JAVASCRIPT_MODULE_TYPE_AUTO</span><span class="s3">,</span>
					<span class="s1">JAVASCRIPT_MODULE_TYPE_DYNAMIC</span><span class="s3">,</span>
					<span class="s1">JAVASCRIPT_MODULE_TYPE_ESM</span>
				<span class="s3">]) {</span>
					<span class="s1">normalModuleFactory</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">createParser</span>
						<span class="s3">.</span><span class="s1">for</span><span class="s3">(</span><span class="s1">type</span><span class="s3">)</span>
						<span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, </span><span class="s1">_options </span><span class="s3">=&gt; {</span>
							<span class="s4">switch </span><span class="s3">(</span><span class="s1">type</span><span class="s3">) {</span>
								<span class="s4">case </span><span class="s1">JAVASCRIPT_MODULE_TYPE_AUTO</span><span class="s3">: {</span>
									<span class="s4">return new </span><span class="s1">JavascriptParser</span><span class="s3">(</span><span class="s2">&quot;auto&quot;</span><span class="s3">);</span>
								<span class="s3">}</span>
								<span class="s4">case </span><span class="s1">JAVASCRIPT_MODULE_TYPE_DYNAMIC</span><span class="s3">: {</span>
									<span class="s4">return new </span><span class="s1">JavascriptParser</span><span class="s3">(</span><span class="s2">&quot;script&quot;</span><span class="s3">);</span>
								<span class="s3">}</span>
								<span class="s4">case </span><span class="s1">JAVASCRIPT_MODULE_TYPE_ESM</span><span class="s3">: {</span>
									<span class="s4">return new </span><span class="s1">JavascriptParser</span><span class="s3">(</span><span class="s2">&quot;module&quot;</span><span class="s3">);</span>
								<span class="s3">}</span>
							<span class="s3">}</span>
						<span class="s3">});</span>
					<span class="s1">normalModuleFactory</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">createGenerator</span>
						<span class="s3">.</span><span class="s1">for</span><span class="s3">(</span><span class="s1">type</span><span class="s3">)</span>
						<span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, () =&gt; </span><span class="s4">new </span><span class="s1">JavascriptGenerator</span><span class="s3">());</span>

					<span class="s1">NormalModule</span><span class="s3">.</span><span class="s1">getCompilationHooks</span><span class="s3">(</span><span class="s1">compilation</span><span class="s3">).</span><span class="s1">processResult</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span>
						<span class="s1">PLUGIN_NAME</span><span class="s3">,</span>
						<span class="s3">(</span><span class="s1">result</span><span class="s3">, </span><span class="s1">module</span><span class="s3">) =&gt; {</span>
							<span class="s4">if </span><span class="s3">(</span><span class="s1">module</span><span class="s3">.</span><span class="s1">type </span><span class="s3">=== </span><span class="s1">type</span><span class="s3">) {</span>
								<span class="s4">const </span><span class="s3">[</span><span class="s1">source</span><span class="s3">, </span><span class="s1">...rest</span><span class="s3">] = </span><span class="s1">result</span><span class="s3">;</span>

								<span class="s4">return </span><span class="s3">[</span><span class="s1">removeBOM</span><span class="s3">(</span><span class="s1">source</span><span class="s3">), </span><span class="s1">...rest</span><span class="s3">];</span>
							<span class="s3">}</span>

							<span class="s4">return </span><span class="s1">result</span><span class="s3">;</span>
						<span class="s3">}</span>
					<span class="s3">);</span>
				<span class="s3">}</span>

				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderManifest</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, (</span><span class="s1">result</span><span class="s3">, </span><span class="s1">options</span><span class="s3">) =&gt; {</span>
					<span class="s4">const </span><span class="s3">{</span>
						<span class="s1">hash</span><span class="s3">,</span>
						<span class="s1">chunk</span><span class="s3">,</span>
						<span class="s1">chunkGraph</span><span class="s3">,</span>
						<span class="s1">moduleGraph</span><span class="s3">,</span>
						<span class="s1">runtimeTemplate</span><span class="s3">,</span>
						<span class="s1">dependencyTemplates</span><span class="s3">,</span>
						<span class="s1">outputOptions</span><span class="s3">,</span>
						<span class="s1">codeGenerationResults</span>
					<span class="s3">} = </span><span class="s1">options</span><span class="s3">;</span>

					<span class="s4">const </span><span class="s1">hotUpdateChunk </span><span class="s3">= </span><span class="s1">chunk </span><span class="s4">instanceof </span><span class="s1">HotUpdateChunk </span><span class="s3">? </span><span class="s1">chunk </span><span class="s3">: </span><span class="s4">null</span><span class="s3">;</span>
					<span class="s4">const </span><span class="s1">filenameTemplate </span><span class="s3">=</span>
						<span class="s1">JavascriptModulesPlugin</span><span class="s3">.</span><span class="s1">getChunkFilenameTemplate</span><span class="s3">(</span>
							<span class="s1">chunk</span><span class="s3">,</span>
							<span class="s1">outputOptions</span>
						<span class="s3">);</span>

					<span class="s4">let </span><span class="s1">render</span><span class="s3">;</span>

					<span class="s4">if </span><span class="s3">(</span><span class="s1">hotUpdateChunk</span><span class="s3">) {</span>
						<span class="s1">render </span><span class="s3">= () =&gt;</span>
							<span class="s4">this</span><span class="s3">.</span><span class="s1">renderChunk</span><span class="s3">(</span>
								<span class="s3">{</span>
									<span class="s1">chunk</span><span class="s3">,</span>
									<span class="s1">dependencyTemplates</span><span class="s3">,</span>
									<span class="s1">runtimeTemplate</span><span class="s3">,</span>
									<span class="s1">moduleGraph</span><span class="s3">,</span>
									<span class="s1">chunkGraph</span><span class="s3">,</span>
									<span class="s1">codeGenerationResults</span><span class="s3">,</span>
									<span class="s1">strictMode</span><span class="s3">: </span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">isModule</span><span class="s3">()</span>
								<span class="s3">},</span>
								<span class="s1">hooks</span>
							<span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">hasRuntime</span><span class="s3">()) {</span>
						<span class="s4">if </span><span class="s3">(!</span><span class="s1">chunkHasRuntimeOrJs</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">chunkGraph</span><span class="s3">)) {</span>
							<span class="s4">return </span><span class="s1">result</span><span class="s3">;</span>
						<span class="s3">}</span>

						<span class="s1">render </span><span class="s3">= () =&gt;</span>
							<span class="s4">this</span><span class="s3">.</span><span class="s1">renderMain</span><span class="s3">(</span>
								<span class="s3">{</span>
									<span class="s1">hash</span><span class="s3">,</span>
									<span class="s1">chunk</span><span class="s3">,</span>
									<span class="s1">dependencyTemplates</span><span class="s3">,</span>
									<span class="s1">runtimeTemplate</span><span class="s3">,</span>
									<span class="s1">moduleGraph</span><span class="s3">,</span>
									<span class="s1">chunkGraph</span><span class="s3">,</span>
									<span class="s1">codeGenerationResults</span><span class="s3">,</span>
									<span class="s1">strictMode</span><span class="s3">: </span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">isModule</span><span class="s3">()</span>
								<span class="s3">},</span>
								<span class="s1">hooks</span><span class="s3">,</span>
								<span class="s1">compilation</span>
							<span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
						<span class="s4">if </span><span class="s3">(!</span><span class="s1">chunkHasJs</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">chunkGraph</span><span class="s3">)) {</span>
							<span class="s4">return </span><span class="s1">result</span><span class="s3">;</span>
						<span class="s3">}</span>

						<span class="s1">render </span><span class="s3">= () =&gt;</span>
							<span class="s4">this</span><span class="s3">.</span><span class="s1">renderChunk</span><span class="s3">(</span>
								<span class="s3">{</span>
									<span class="s1">chunk</span><span class="s3">,</span>
									<span class="s1">dependencyTemplates</span><span class="s3">,</span>
									<span class="s1">runtimeTemplate</span><span class="s3">,</span>
									<span class="s1">moduleGraph</span><span class="s3">,</span>
									<span class="s1">chunkGraph</span><span class="s3">,</span>
									<span class="s1">codeGenerationResults</span><span class="s3">,</span>
									<span class="s1">strictMode</span><span class="s3">: </span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">isModule</span><span class="s3">()</span>
								<span class="s3">},</span>
								<span class="s1">hooks</span>
							<span class="s3">);</span>
					<span class="s3">}</span>

					<span class="s1">result</span><span class="s3">.</span><span class="s1">push</span><span class="s3">({</span>
						<span class="s1">render</span><span class="s3">,</span>
						<span class="s1">filenameTemplate</span><span class="s3">,</span>
						<span class="s1">pathOptions</span><span class="s3">: {</span>
							<span class="s1">hash</span><span class="s3">,</span>
							<span class="s1">runtime</span><span class="s3">: </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">,</span>
							<span class="s1">chunk</span><span class="s3">,</span>
							<span class="s1">contentHashType</span><span class="s3">: </span><span class="s2">&quot;javascript&quot;</span>
						<span class="s3">},</span>
						<span class="s1">info</span><span class="s3">: {</span>
							<span class="s1">javascriptModule</span><span class="s3">: </span><span class="s1">compilation</span><span class="s3">.</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">isModule</span><span class="s3">()</span>
						<span class="s3">},</span>
						<span class="s1">identifier</span><span class="s3">: </span><span class="s1">hotUpdateChunk</span>
							<span class="s3">? </span><span class="s2">`hotupdatechunk</span><span class="s1">$</span><span class="s3">{</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">id</span><span class="s3">}</span><span class="s2">`</span>
							<span class="s3">: </span><span class="s2">`chunk</span><span class="s1">$</span><span class="s3">{</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">id</span><span class="s3">}</span><span class="s2">`</span><span class="s3">,</span>
						<span class="s1">hash</span><span class="s3">: </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">contentHash</span><span class="s3">.</span><span class="s1">javascript</span>
					<span class="s3">});</span>

					<span class="s4">return </span><span class="s1">result</span><span class="s3">;</span>
				<span class="s3">});</span>
				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">chunkHash</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, (</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">hash</span><span class="s3">, </span><span class="s1">context</span><span class="s3">) =&gt; {</span>
					<span class="s1">hooks</span><span class="s3">.</span><span class="s1">chunkHash</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">hash</span><span class="s3">, </span><span class="s1">context</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">hasRuntime</span><span class="s3">()) {</span>
						<span class="s4">this</span><span class="s3">.</span><span class="s1">updateHashWithBootstrap</span><span class="s3">(</span>
							<span class="s1">hash</span><span class="s3">,</span>
							<span class="s3">{</span>
								<span class="s1">hash</span><span class="s3">: </span><span class="s2">&quot;0000&quot;</span><span class="s3">,</span>
								<span class="s1">chunk</span><span class="s3">,</span>
								<span class="s1">codeGenerationResults</span><span class="s3">: </span><span class="s1">context</span><span class="s3">.</span><span class="s1">codeGenerationResults</span><span class="s3">,</span>
								<span class="s1">chunkGraph</span><span class="s3">: </span><span class="s1">context</span><span class="s3">.</span><span class="s1">chunkGraph</span><span class="s3">,</span>
								<span class="s1">moduleGraph</span><span class="s3">: </span><span class="s1">context</span><span class="s3">.</span><span class="s1">moduleGraph</span><span class="s3">,</span>
								<span class="s1">runtimeTemplate</span><span class="s3">: </span><span class="s1">context</span><span class="s3">.</span><span class="s1">runtimeTemplate</span>
							<span class="s3">},</span>
							<span class="s1">hooks</span>
						<span class="s3">);</span>
					<span class="s3">}</span>
				<span class="s3">});</span>
				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">contentHash</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, </span><span class="s1">chunk </span><span class="s3">=&gt; {</span>
					<span class="s4">const </span><span class="s3">{</span>
						<span class="s1">chunkGraph</span><span class="s3">,</span>
						<span class="s1">codeGenerationResults</span><span class="s3">,</span>
						<span class="s1">moduleGraph</span><span class="s3">,</span>
						<span class="s1">runtimeTemplate</span><span class="s3">,</span>
						<span class="s1">outputOptions</span><span class="s3">: {</span>
							<span class="s1">hashSalt</span><span class="s3">,</span>
							<span class="s1">hashDigest</span><span class="s3">,</span>
							<span class="s1">hashDigestLength</span><span class="s3">,</span>
							<span class="s1">hashFunction</span>
						<span class="s3">}</span>
					<span class="s3">} = </span><span class="s1">compilation</span><span class="s3">;</span>
					<span class="s4">const </span><span class="s1">hash </span><span class="s3">= </span><span class="s1">createHash</span><span class="s3">(</span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Algorithm} */ </span><span class="s3">(</span><span class="s1">hashFunction</span><span class="s3">));</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">hashSalt</span><span class="s3">) </span><span class="s1">hash</span><span class="s3">.</span><span class="s1">update</span><span class="s3">(</span><span class="s1">hashSalt</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">hasRuntime</span><span class="s3">()) {</span>
						<span class="s4">this</span><span class="s3">.</span><span class="s1">updateHashWithBootstrap</span><span class="s3">(</span>
							<span class="s1">hash</span><span class="s3">,</span>
							<span class="s3">{</span>
								<span class="s1">hash</span><span class="s3">: </span><span class="s2">&quot;0000&quot;</span><span class="s3">,</span>
								<span class="s1">chunk</span><span class="s3">,</span>
								<span class="s1">codeGenerationResults</span><span class="s3">,</span>
								<span class="s1">chunkGraph</span><span class="s3">: </span><span class="s1">compilation</span><span class="s3">.</span><span class="s1">chunkGraph</span><span class="s3">,</span>
								<span class="s1">moduleGraph</span><span class="s3">: </span><span class="s1">compilation</span><span class="s3">.</span><span class="s1">moduleGraph</span><span class="s3">,</span>
								<span class="s1">runtimeTemplate</span><span class="s3">: </span><span class="s1">compilation</span><span class="s3">.</span><span class="s1">runtimeTemplate</span>
							<span class="s3">},</span>
							<span class="s1">hooks</span>
						<span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
						<span class="s1">hash</span><span class="s3">.</span><span class="s1">update</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">id</span><span class="s3">} </span><span class="s2">`</span><span class="s3">);</span>
						<span class="s1">hash</span><span class="s3">.</span><span class="s1">update</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">ids </span><span class="s3">? </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">ids</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">&quot;,&quot;</span><span class="s3">) : </span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s1">hooks</span><span class="s3">.</span><span class="s1">chunkHash</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">hash</span><span class="s3">, {</span>
						<span class="s1">chunkGraph</span><span class="s3">,</span>
						<span class="s1">codeGenerationResults</span><span class="s3">,</span>
						<span class="s1">moduleGraph</span><span class="s3">,</span>
						<span class="s1">runtimeTemplate</span>
					<span class="s3">});</span>
					<span class="s4">const </span><span class="s1">modules </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkModulesIterableBySourceType</span><span class="s3">(</span>
						<span class="s1">chunk</span><span class="s3">,</span>
						<span class="s2">&quot;javascript&quot;</span>
					<span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">modules</span><span class="s3">) {</span>
						<span class="s4">const </span><span class="s1">xor </span><span class="s3">= </span><span class="s4">new </span><span class="s1">StringXor</span><span class="s3">();</span>
						<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">m of modules</span><span class="s3">) {</span>
							<span class="s1">xor</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleHash</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">));</span>
						<span class="s3">}</span>
						<span class="s1">xor</span><span class="s3">.</span><span class="s1">updateHash</span><span class="s3">(</span><span class="s1">hash</span><span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s4">const </span><span class="s1">runtimeModules </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkModulesIterableBySourceType</span><span class="s3">(</span>
						<span class="s1">chunk</span><span class="s3">,</span>
						<span class="s1">WEBPACK_MODULE_TYPE_RUNTIME</span>
					<span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeModules</span><span class="s3">) {</span>
						<span class="s4">const </span><span class="s1">xor </span><span class="s3">= </span><span class="s4">new </span><span class="s1">StringXor</span><span class="s3">();</span>
						<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">m of runtimeModules</span><span class="s3">) {</span>
							<span class="s1">xor</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleHash</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">));</span>
						<span class="s3">}</span>
						<span class="s1">xor</span><span class="s3">.</span><span class="s1">updateHash</span><span class="s3">(</span><span class="s1">hash</span><span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s4">const </span><span class="s1">digest </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{string} */ </span><span class="s3">(</span><span class="s1">hash</span><span class="s3">.</span><span class="s1">digest</span><span class="s3">(</span><span class="s1">hashDigest</span><span class="s3">));</span>
					<span class="s1">chunk</span><span class="s3">.</span><span class="s1">contentHash</span><span class="s3">.</span><span class="s1">javascript </span><span class="s3">= </span><span class="s1">nonNumericOnlyHash</span><span class="s3">(</span>
						<span class="s1">digest</span><span class="s3">,</span>
						<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{number} */</span>
						<span class="s3">(</span><span class="s1">hashDigestLength</span><span class="s3">)</span>
					<span class="s3">);</span>
				<span class="s3">});</span>
				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">additionalTreeRuntimeRequirements</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span>
					<span class="s1">PLUGIN_NAME</span><span class="s3">,</span>
					<span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">set</span><span class="s3">, { </span><span class="s1">chunkGraph </span><span class="s3">}) =&gt; {</span>
						<span class="s4">if </span><span class="s3">(</span>
							<span class="s3">!</span><span class="s1">set</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupNoDefault</span><span class="s3">) &amp;&amp;</span>
							<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">hasChunkEntryDependentChunks</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">)</span>
						<span class="s3">) {</span>
							<span class="s1">set</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">onChunksLoaded</span><span class="s3">);</span>
							<span class="s1">set</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">);</span>
							<span class="s1">set</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">);</span>
						<span class="s3">}</span>
					<span class="s3">}</span>
				<span class="s3">);</span>
				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">executeModule</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, (</span><span class="s1">options</span><span class="s3">, </span><span class="s1">context</span><span class="s3">) =&gt; {</span>
					<span class="s4">const </span><span class="s1">source </span><span class="s3">= </span><span class="s1">options</span><span class="s3">.</span><span class="s1">codeGenerationResult</span><span class="s3">.</span><span class="s1">sources</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s2">&quot;javascript&quot;</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">source </span><span class="s3">=== </span><span class="s1">undefined</span><span class="s3">) </span><span class="s4">return</span><span class="s3">;</span>
					<span class="s4">const </span><span class="s3">{ </span><span class="s1">module </span><span class="s3">} = </span><span class="s1">options</span><span class="s3">;</span>
					<span class="s4">const </span><span class="s1">code </span><span class="s3">= </span><span class="s1">source</span><span class="s3">.</span><span class="s1">source</span><span class="s3">();</span>

					<span class="s4">const </span><span class="s1">fn </span><span class="s3">= </span><span class="s1">vm</span><span class="s3">.</span><span class="s1">runInThisContext</span><span class="s3">(</span>
						<span class="s2">`(function(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">module</span><span class="s3">.</span><span class="s1">moduleArgument</span><span class="s3">}</span><span class="s2">, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">module</span><span class="s3">.</span><span class="s1">exportsArgument</span><span class="s3">}</span><span class="s2">, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">) {</span><span class="s4">\n</span><span class="s1">$</span><span class="s3">{</span><span class="s1">code</span><span class="s3">}</span><span class="s4">\n</span><span class="s2">/**/})`</span><span class="s3">,</span>
						<span class="s3">{</span>
							<span class="s1">filename</span><span class="s3">: </span><span class="s1">module</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">(),</span>
							<span class="s1">lineOffset</span><span class="s3">: -</span><span class="s7">1</span>
						<span class="s3">}</span>
					<span class="s3">);</span>

					<span class="s4">const </span><span class="s1">moduleObject </span><span class="s3">=</span>
						<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{ExecuteModuleObject} */</span>
						<span class="s3">(</span><span class="s1">options</span><span class="s3">.</span><span class="s1">moduleObject</span><span class="s3">);</span>

					<span class="s4">try </span><span class="s3">{</span>
						<span class="s1">fn</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span>
							<span class="s1">moduleObject</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">,</span>
							<span class="s1">moduleObject</span><span class="s3">,</span>
							<span class="s1">moduleObject</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">,</span>
							<span class="s1">context</span><span class="s3">.</span><span class="s1">__webpack_require__</span>
						<span class="s3">);</span>
					<span class="s3">} </span><span class="s4">catch </span><span class="s3">(</span><span class="s1">err</span><span class="s3">) {</span>
						<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Error} */</span>
						<span class="s3">(</span><span class="s1">err</span><span class="s3">).</span><span class="s1">stack </span><span class="s3">+= </span><span class="s1">printGeneratedCodeForStack</span><span class="s3">(</span>
							<span class="s1">options</span><span class="s3">.</span><span class="s1">module</span><span class="s3">,</span>
							<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{string} */ </span><span class="s3">(</span><span class="s1">code</span><span class="s3">)</span>
						<span class="s3">);</span>
						<span class="s4">throw </span><span class="s1">err</span><span class="s3">;</span>
					<span class="s3">}</span>
				<span class="s3">});</span>
				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">executeModule</span><span class="s3">.</span><span class="s1">tap</span><span class="s3">(</span><span class="s1">PLUGIN_NAME</span><span class="s3">, (</span><span class="s1">options</span><span class="s3">, </span><span class="s1">context</span><span class="s3">) =&gt; {</span>
					<span class="s4">const </span><span class="s1">source </span><span class="s3">= </span><span class="s1">options</span><span class="s3">.</span><span class="s1">codeGenerationResult</span><span class="s3">.</span><span class="s1">sources</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s2">&quot;runtime&quot;</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">source </span><span class="s3">=== </span><span class="s1">undefined</span><span class="s3">) </span><span class="s4">return</span><span class="s3">;</span>
					<span class="s4">let </span><span class="s1">code </span><span class="s3">= </span><span class="s1">source</span><span class="s3">.</span><span class="s1">source</span><span class="s3">();</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s4">typeof </span><span class="s1">code </span><span class="s3">!== </span><span class="s2">&quot;string&quot;</span><span class="s3">) </span><span class="s1">code </span><span class="s3">= </span><span class="s1">code</span><span class="s3">.</span><span class="s1">toString</span><span class="s3">();</span>

					<span class="s4">const </span><span class="s1">fn </span><span class="s3">= </span><span class="s1">vm</span><span class="s3">.</span><span class="s1">runInThisContext</span><span class="s3">(</span>
						<span class="s2">`(function(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">) {</span><span class="s4">\n</span><span class="s1">$</span><span class="s3">{</span><span class="s1">code</span><span class="s3">}</span><span class="s4">\n</span><span class="s2">/**/})`</span><span class="s3">,</span>
						<span class="s3">{</span>
							<span class="s1">filename</span><span class="s3">: </span><span class="s1">options</span><span class="s3">.</span><span class="s1">module</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">(),</span>
							<span class="s1">lineOffset</span><span class="s3">: -</span><span class="s7">1</span>
						<span class="s3">}</span>
					<span class="s3">);</span>
					<span class="s4">try </span><span class="s3">{</span>
						<span class="s0">// eslint-disable-next-line no-useless-call</span>
						<span class="s1">fn</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s4">null</span><span class="s3">, </span><span class="s1">context</span><span class="s3">.</span><span class="s1">__webpack_require__</span><span class="s3">);</span>
					<span class="s3">} </span><span class="s4">catch </span><span class="s3">(</span><span class="s1">err</span><span class="s3">) {</span>
						<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Error} */</span>
						<span class="s3">(</span><span class="s1">err</span><span class="s3">).</span><span class="s1">stack </span><span class="s3">+= </span><span class="s1">printGeneratedCodeForStack</span><span class="s3">(</span><span class="s1">options</span><span class="s3">.</span><span class="s1">module</span><span class="s3">, </span><span class="s1">code</span><span class="s3">);</span>
						<span class="s4">throw </span><span class="s1">err</span><span class="s3">;</span>
					<span class="s3">}</span>
				<span class="s3">});</span>
			<span class="s3">}</span>
		<span class="s3">);</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Chunk} chunk chunk</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{OutputOptions} outputOptions output options</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{TemplatePath} used filename template</span>
	 <span class="s5">*/</span>
	<span class="s4">static </span><span class="s1">getChunkFilenameTemplate</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">outputOptions</span><span class="s3">) {</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">filenameTemplate</span><span class="s3">) {</span>
			<span class="s4">return </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">filenameTemplate</span><span class="s3">;</span>
		<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">chunk </span><span class="s4">instanceof </span><span class="s1">HotUpdateChunk</span><span class="s3">) {</span>
			<span class="s4">return </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{TemplatePath} */ </span><span class="s3">(</span><span class="s1">outputOptions</span><span class="s3">.</span><span class="s1">hotUpdateChunkFilename</span><span class="s3">);</span>
		<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">canBeInitial</span><span class="s3">()) {</span>
			<span class="s4">return </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{TemplatePath} */ </span><span class="s3">(</span><span class="s1">outputOptions</span><span class="s3">.</span><span class="s1">filename</span><span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s4">return </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{TemplatePath} */ </span><span class="s3">(</span><span class="s1">outputOptions</span><span class="s3">.</span><span class="s1">chunkFilename</span><span class="s3">);</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Module} module the rendered module</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{ChunkRenderContext} renderContext options object</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{boolean} factory true: renders as factory method, false: pure module content</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{Source | null} the newly generated source from rendering</span>
	 <span class="s5">*/</span>
	<span class="s1">renderModule</span><span class="s3">(</span><span class="s1">module</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">, </span><span class="s1">factory</span><span class="s3">) {</span>
		<span class="s4">const </span><span class="s3">{</span>
			<span class="s1">chunk</span><span class="s3">,</span>
			<span class="s1">chunkGraph</span><span class="s3">,</span>
			<span class="s1">runtimeTemplate</span><span class="s3">,</span>
			<span class="s1">codeGenerationResults</span><span class="s3">,</span>
			<span class="s1">strictMode</span>
		<span class="s3">} = </span><span class="s1">renderContext</span><span class="s3">;</span>
		<span class="s4">try </span><span class="s3">{</span>
			<span class="s4">const </span><span class="s1">codeGenResult </span><span class="s3">= </span><span class="s1">codeGenerationResults</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">module</span><span class="s3">, </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">);</span>
			<span class="s4">const </span><span class="s1">moduleSource </span><span class="s3">= </span><span class="s1">codeGenResult</span><span class="s3">.</span><span class="s1">sources</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s2">&quot;javascript&quot;</span><span class="s3">);</span>
			<span class="s4">if </span><span class="s3">(!</span><span class="s1">moduleSource</span><span class="s3">) </span><span class="s4">return null</span><span class="s3">;</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">codeGenResult</span><span class="s3">.</span><span class="s1">data </span><span class="s3">!== </span><span class="s1">undefined</span><span class="s3">) {</span>
				<span class="s4">const </span><span class="s1">chunkInitFragments </span><span class="s3">= </span><span class="s1">codeGenResult</span><span class="s3">.</span><span class="s1">data</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s2">&quot;chunkInitFragments&quot;</span><span class="s3">);</span>
				<span class="s4">if </span><span class="s3">(</span><span class="s1">chunkInitFragments</span><span class="s3">) {</span>
					<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">i of chunkInitFragments</span><span class="s3">)</span>
						<span class="s1">renderContext</span><span class="s3">.</span><span class="s1">chunkInitFragments</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">i</span><span class="s3">);</span>
				<span class="s3">}</span>
			<span class="s3">}</span>
			<span class="s4">const </span><span class="s1">moduleSourcePostContent </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
				<span class="s3">() =&gt;</span>
					<span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderModuleContent</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">moduleSource</span><span class="s3">, </span><span class="s1">module</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">),</span>
				<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderModuleContent&quot;</span>
			<span class="s3">);</span>
			<span class="s4">let </span><span class="s1">moduleSourcePostContainer</span><span class="s3">;</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">factory</span><span class="s3">) {</span>
				<span class="s4">const </span><span class="s1">runtimeRequirements </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleRuntimeRequirements</span><span class="s3">(</span>
					<span class="s1">module</span><span class="s3">,</span>
					<span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span>
				<span class="s3">);</span>
				<span class="s4">const </span><span class="s1">needModule </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">module</span><span class="s3">);</span>
				<span class="s4">const </span><span class="s1">needExports </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">);</span>
				<span class="s4">const </span><span class="s1">needRequire </span><span class="s3">=</span>
					<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">) ||</span>
					<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">requireScope</span><span class="s3">);</span>
				<span class="s4">const </span><span class="s1">needThisAsExports </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span>
					<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">thisAsExports</span>
				<span class="s3">);</span>
				<span class="s4">const </span><span class="s1">needStrict </span><span class="s3">=</span>
					<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{BuildInfo} */</span>
					<span class="s3">(</span><span class="s1">module</span><span class="s3">.</span><span class="s1">buildInfo</span><span class="s3">).</span><span class="s1">strict </span><span class="s3">&amp;&amp; !</span><span class="s1">strictMode</span><span class="s3">;</span>
				<span class="s4">const </span><span class="s1">cacheEntry </span><span class="s3">= </span><span class="s4">this</span><span class="s3">.</span><span class="s1">_moduleFactoryCache</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span>
					<span class="s1">moduleSourcePostContent</span>
				<span class="s3">);</span>
				<span class="s4">let </span><span class="s1">source</span><span class="s3">;</span>
				<span class="s4">if </span><span class="s3">(</span>
					<span class="s1">cacheEntry </span><span class="s3">&amp;&amp;</span>
					<span class="s1">cacheEntry</span><span class="s3">.</span><span class="s1">needModule </span><span class="s3">=== </span><span class="s1">needModule </span><span class="s3">&amp;&amp;</span>
					<span class="s1">cacheEntry</span><span class="s3">.</span><span class="s1">needExports </span><span class="s3">=== </span><span class="s1">needExports </span><span class="s3">&amp;&amp;</span>
					<span class="s1">cacheEntry</span><span class="s3">.</span><span class="s1">needRequire </span><span class="s3">=== </span><span class="s1">needRequire </span><span class="s3">&amp;&amp;</span>
					<span class="s1">cacheEntry</span><span class="s3">.</span><span class="s1">needThisAsExports </span><span class="s3">=== </span><span class="s1">needThisAsExports </span><span class="s3">&amp;&amp;</span>
					<span class="s1">cacheEntry</span><span class="s3">.</span><span class="s1">needStrict </span><span class="s3">=== </span><span class="s1">needStrict</span>
				<span class="s3">) {</span>
					<span class="s1">source </span><span class="s3">= </span><span class="s1">cacheEntry</span><span class="s3">.</span><span class="s1">source</span><span class="s3">;</span>
				<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
					<span class="s4">const </span><span class="s1">factorySource </span><span class="s3">= </span><span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">();</span>
					<span class="s4">const </span><span class="s1">args </span><span class="s3">= [];</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">needExports </span><span class="s3">|| </span><span class="s1">needRequire </span><span class="s3">|| </span><span class="s1">needModule</span><span class="s3">)</span>
						<span class="s1">args</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s1">needModule</span>
								<span class="s3">? </span><span class="s1">module</span><span class="s3">.</span><span class="s1">moduleArgument</span>
								<span class="s3">: </span><span class="s2">`__unused_webpack_</span><span class="s1">$</span><span class="s3">{</span><span class="s1">module</span><span class="s3">.</span><span class="s1">moduleArgument</span><span class="s3">}</span><span class="s2">`</span>
						<span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">needExports </span><span class="s3">|| </span><span class="s1">needRequire</span><span class="s3">)</span>
						<span class="s1">args</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s1">needExports</span>
								<span class="s3">? </span><span class="s1">module</span><span class="s3">.</span><span class="s1">exportsArgument</span>
								<span class="s3">: </span><span class="s2">`__unused_webpack_</span><span class="s1">$</span><span class="s3">{</span><span class="s1">module</span><span class="s3">.</span><span class="s1">exportsArgument</span><span class="s3">}</span><span class="s2">`</span>
						<span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">needRequire</span><span class="s3">) </span><span class="s1">args</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(!</span><span class="s1">needThisAsExports </span><span class="s3">&amp;&amp; </span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">supportsArrowFunction</span><span class="s3">()) {</span>
						<span class="s1">factorySource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`/***/ ((</span><span class="s1">$</span><span class="s3">{</span><span class="s1">args</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">&quot;, &quot;</span><span class="s3">)}</span><span class="s2">) =&gt; {</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
						<span class="s1">factorySource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`/***/ (function(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">args</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">&quot;, &quot;</span><span class="s3">)}</span><span class="s2">) {</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">needStrict</span><span class="s3">) {</span>
						<span class="s1">factorySource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">'&quot;use strict&quot;;</span><span class="s4">\n</span><span class="s2">'</span><span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s1">factorySource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">moduleSourcePostContent</span><span class="s3">);</span>
					<span class="s1">factorySource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;</span><span class="s4">\n\n</span><span class="s2">/***/ })&quot;</span><span class="s3">);</span>
					<span class="s1">source </span><span class="s3">= </span><span class="s4">new </span><span class="s1">CachedSource</span><span class="s3">(</span><span class="s1">factorySource</span><span class="s3">);</span>
					<span class="s4">this</span><span class="s3">.</span><span class="s1">_moduleFactoryCache</span><span class="s3">.</span><span class="s1">set</span><span class="s3">(</span><span class="s1">moduleSourcePostContent</span><span class="s3">, {</span>
						<span class="s1">source</span><span class="s3">,</span>
						<span class="s1">needModule</span><span class="s3">,</span>
						<span class="s1">needExports</span><span class="s3">,</span>
						<span class="s1">needRequire</span><span class="s3">,</span>
						<span class="s1">needThisAsExports</span><span class="s3">,</span>
						<span class="s1">needStrict</span>
					<span class="s3">});</span>
				<span class="s3">}</span>
				<span class="s1">moduleSourcePostContainer </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
					<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderModuleContainer</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">source</span><span class="s3">, </span><span class="s1">module</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">),</span>
					<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderModuleContainer&quot;</span>
				<span class="s3">);</span>
			<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
				<span class="s1">moduleSourcePostContainer </span><span class="s3">= </span><span class="s1">moduleSourcePostContent</span><span class="s3">;</span>
			<span class="s3">}</span>
			<span class="s4">return </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
				<span class="s3">() =&gt;</span>
					<span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderModulePackage</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span>
						<span class="s1">moduleSourcePostContainer</span><span class="s3">,</span>
						<span class="s1">module</span><span class="s3">,</span>
						<span class="s1">renderContext</span>
					<span class="s3">),</span>
				<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderModulePackage&quot;</span>
			<span class="s3">);</span>
		<span class="s3">} </span><span class="s4">catch </span><span class="s3">(</span><span class="s1">err</span><span class="s3">) {</span>
			<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{WebpackError} */</span>
			<span class="s3">(</span><span class="s1">err</span><span class="s3">).</span><span class="s1">module </span><span class="s3">= </span><span class="s1">module</span><span class="s3">;</span>
			<span class="s4">throw </span><span class="s1">err</span><span class="s3">;</span>
		<span class="s3">}</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RenderContext} renderContext the render context</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{Source} the rendered source</span>
	 <span class="s5">*/</span>
	<span class="s1">renderChunk</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">) {</span>
		<span class="s4">const </span><span class="s3">{ </span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">chunkGraph </span><span class="s3">} = </span><span class="s1">renderContext</span><span class="s3">;</span>
		<span class="s4">const </span><span class="s1">modules </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getOrderedChunkModulesIterableBySourceType</span><span class="s3">(</span>
			<span class="s1">chunk</span><span class="s3">,</span>
			<span class="s2">&quot;javascript&quot;</span><span class="s3">,</span>
			<span class="s1">compareModulesByIdOrIdentifier</span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">)</span>
		<span class="s3">);</span>
		<span class="s4">const </span><span class="s1">allModules </span><span class="s3">= </span><span class="s1">modules </span><span class="s3">? </span><span class="s1">Array</span><span class="s3">.</span><span class="s1">from</span><span class="s3">(</span><span class="s1">modules</span><span class="s3">) : [];</span>
		<span class="s4">let </span><span class="s1">strictHeader</span><span class="s3">;</span>
		<span class="s4">let </span><span class="s1">allStrict </span><span class="s3">= </span><span class="s1">renderContext</span><span class="s3">.</span><span class="s1">strictMode</span><span class="s3">;</span>
		<span class="s4">if </span><span class="s3">(</span>
			<span class="s3">!</span><span class="s1">allStrict </span><span class="s3">&amp;&amp;</span>
			<span class="s1">allModules</span><span class="s3">.</span><span class="s1">every</span><span class="s3">(</span><span class="s1">m </span><span class="s3">=&gt; </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{BuildInfo} */ </span><span class="s3">(</span><span class="s1">m</span><span class="s3">.</span><span class="s1">buildInfo</span><span class="s3">).</span><span class="s1">strict</span><span class="s3">)</span>
		<span class="s3">) {</span>
			<span class="s4">const </span><span class="s1">strictBailout </span><span class="s3">= </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">strictRuntimeBailout</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">);</span>
			<span class="s1">strictHeader </span><span class="s3">= </span><span class="s1">strictBailout</span>
				<span class="s3">? </span><span class="s2">`// runtime can't be in strict mode because </span><span class="s1">$</span><span class="s3">{</span><span class="s1">strictBailout</span><span class="s3">}</span><span class="s2">.</span><span class="s4">\n</span><span class="s2">`</span>
				<span class="s3">: </span><span class="s2">'&quot;use strict&quot;;</span><span class="s4">\n</span><span class="s2">'</span><span class="s3">;</span>
			<span class="s4">if </span><span class="s3">(!</span><span class="s1">strictBailout</span><span class="s3">) </span><span class="s1">allStrict </span><span class="s3">= </span><span class="s4">true</span><span class="s3">;</span>
		<span class="s3">}</span>
		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{ChunkRenderContext} */</span>
		<span class="s4">const </span><span class="s1">chunkRenderContext </span><span class="s3">= {</span>
			<span class="s1">...renderContext</span><span class="s3">,</span>
			<span class="s1">chunkInitFragments</span><span class="s3">: [],</span>
			<span class="s1">strictMode</span><span class="s3">: </span><span class="s1">allStrict</span>
		<span class="s3">};</span>
		<span class="s4">const </span><span class="s1">moduleSources </span><span class="s3">=</span>
			<span class="s1">Template</span><span class="s3">.</span><span class="s1">renderChunkModules</span><span class="s3">(</span><span class="s1">chunkRenderContext</span><span class="s3">, </span><span class="s1">allModules</span><span class="s3">, </span><span class="s1">module </span><span class="s3">=&gt;</span>
				<span class="s4">this</span><span class="s3">.</span><span class="s1">renderModule</span><span class="s3">(</span><span class="s1">module</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">, </span><span class="s4">true</span><span class="s3">)</span>
			<span class="s3">) || </span><span class="s4">new </span><span class="s1">RawSource</span><span class="s3">(</span><span class="s2">&quot;{}&quot;</span><span class="s3">);</span>
		<span class="s4">let </span><span class="s1">source </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderChunk</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">moduleSources</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderChunk&quot;</span>
		<span class="s3">);</span>
		<span class="s1">source </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderContent</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">source</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderContent&quot;</span>
		<span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(!</span><span class="s1">source</span><span class="s3">) {</span>
			<span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span>
				<span class="s2">&quot;JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderContent plugins should return something&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s1">source </span><span class="s3">= </span><span class="s1">InitFragment</span><span class="s3">.</span><span class="s1">addToSource</span><span class="s3">(</span>
			<span class="s1">source</span><span class="s3">,</span>
			<span class="s1">chunkRenderContext</span><span class="s3">.</span><span class="s1">chunkInitFragments</span><span class="s3">,</span>
			<span class="s1">chunkRenderContext</span>
		<span class="s3">);</span>
		<span class="s1">source </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">render</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">source</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().render&quot;</span>
		<span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(!</span><span class="s1">source</span><span class="s3">) {</span>
			<span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span>
				<span class="s2">&quot;JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().render plugins should return something&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s1">chunk</span><span class="s3">.</span><span class="s1">rendered </span><span class="s3">= </span><span class="s4">true</span><span class="s3">;</span>
		<span class="s4">return </span><span class="s1">strictHeader</span>
			<span class="s3">? </span><span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">(</span><span class="s1">strictHeader</span><span class="s3">, </span><span class="s1">source</span><span class="s3">, </span><span class="s2">&quot;;&quot;</span><span class="s3">)</span>
			<span class="s3">: </span><span class="s1">renderContext</span><span class="s3">.</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">isModule</span><span class="s3">()</span>
				<span class="s3">? </span><span class="s1">source</span>
				<span class="s3">: </span><span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">(</span><span class="s1">source</span><span class="s3">, </span><span class="s2">&quot;;&quot;</span><span class="s3">);</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{MainRenderContext} renderContext options object</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Compilation} compilation the compilation</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{Source} the newly generated source from rendering</span>
	 <span class="s5">*/</span>
	<span class="s1">renderMain</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">, </span><span class="s1">compilation</span><span class="s3">) {</span>
		<span class="s4">const </span><span class="s3">{ </span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">chunkGraph</span><span class="s3">, </span><span class="s1">runtimeTemplate </span><span class="s3">} = </span><span class="s1">renderContext</span><span class="s3">;</span>

		<span class="s4">const </span><span class="s1">runtimeRequirements </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getTreeRuntimeRequirements</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">iife </span><span class="s3">= </span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">isIIFE</span><span class="s3">();</span>

		<span class="s4">const </span><span class="s1">bootstrap </span><span class="s3">= </span><span class="s4">this</span><span class="s3">.</span><span class="s1">renderBootstrap</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">useSourceMap </span><span class="s3">= </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">useSourceMap</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">);</span>

		<span class="s4">const </span><span class="s1">allModules </span><span class="s3">= </span><span class="s1">Array</span><span class="s3">.</span><span class="s1">from</span><span class="s3">(</span>
			<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getOrderedChunkModulesIterableBySourceType</span><span class="s3">(</span>
				<span class="s1">chunk</span><span class="s3">,</span>
				<span class="s2">&quot;javascript&quot;</span><span class="s3">,</span>
				<span class="s1">compareModulesByIdOrIdentifier</span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">)</span>
			<span class="s3">) || []</span>
		<span class="s3">);</span>

		<span class="s4">const </span><span class="s1">hasEntryModules </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getNumberOfEntryModules</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">) &gt; </span><span class="s7">0</span><span class="s3">;</span>
		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Set&lt;Module&gt; | undefined} */</span>
		<span class="s4">let </span><span class="s1">inlinedModules</span><span class="s3">;</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp; </span><span class="s1">hasEntryModules</span><span class="s3">) {</span>
			<span class="s1">inlinedModules </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkEntryModulesIterable</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">));</span>
		<span class="s3">}</span>

		<span class="s4">const </span><span class="s1">source </span><span class="s3">= </span><span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">();</span>
		<span class="s4">let </span><span class="s1">prefix</span><span class="s3">;</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">iife</span><span class="s3">) {</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">supportsArrowFunction</span><span class="s3">()) {</span>
				<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;/******/ (() =&gt; { // webpackBootstrap</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
			<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
				<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;/******/ (function() { // webpackBootstrap</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
			<span class="s3">}</span>
			<span class="s1">prefix </span><span class="s3">= </span><span class="s2">&quot;/******/ </span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s3">;</span>
		<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
			<span class="s1">prefix </span><span class="s3">= </span><span class="s2">&quot;/******/ &quot;</span><span class="s3">;</span>
		<span class="s3">}</span>
		<span class="s4">let </span><span class="s1">allStrict </span><span class="s3">= </span><span class="s1">renderContext</span><span class="s3">.</span><span class="s1">strictMode</span><span class="s3">;</span>
		<span class="s4">if </span><span class="s3">(</span>
			<span class="s3">!</span><span class="s1">allStrict </span><span class="s3">&amp;&amp;</span>
			<span class="s1">allModules</span><span class="s3">.</span><span class="s1">every</span><span class="s3">(</span><span class="s1">m </span><span class="s3">=&gt; </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{BuildInfo} */ </span><span class="s3">(</span><span class="s1">m</span><span class="s3">.</span><span class="s1">buildInfo</span><span class="s3">).</span><span class="s1">strict</span><span class="s3">)</span>
		<span class="s3">) {</span>
			<span class="s4">const </span><span class="s1">strictBailout </span><span class="s3">= </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">strictRuntimeBailout</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">);</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">strictBailout</span><span class="s3">) {</span>
				<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
					<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span>
						<span class="s1">prefix</span>
					<span class="s3">}</span><span class="s2">// runtime can't be in strict mode because </span><span class="s1">$</span><span class="s3">{</span><span class="s1">strictBailout</span><span class="s3">}</span><span class="s2">.</span><span class="s4">\n</span><span class="s2">`</span>
				<span class="s3">);</span>
			<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
				<span class="s1">allStrict </span><span class="s3">= </span><span class="s4">true</span><span class="s3">;</span>
				<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">prefix</span><span class="s3">}</span><span class="s2">&quot;use strict&quot;;</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">);</span>
			<span class="s3">}</span>
		<span class="s3">}</span>

		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{ChunkRenderContext} */</span>
		<span class="s4">const </span><span class="s1">chunkRenderContext </span><span class="s3">= {</span>
			<span class="s1">...renderContext</span><span class="s3">,</span>
			<span class="s1">chunkInitFragments</span><span class="s3">: [],</span>
			<span class="s1">strictMode</span><span class="s3">: </span><span class="s1">allStrict</span>
		<span class="s3">};</span>

		<span class="s4">const </span><span class="s1">chunkModules </span><span class="s3">= </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">renderChunkModules</span><span class="s3">(</span>
			<span class="s1">chunkRenderContext</span><span class="s3">,</span>
			<span class="s1">inlinedModules</span>
				<span class="s3">? </span><span class="s1">allModules</span><span class="s3">.</span><span class="s1">filter</span><span class="s3">(</span>
						<span class="s1">m </span><span class="s3">=&gt; !(</span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Set&lt;Module&gt;} */ </span><span class="s3">(</span><span class="s1">inlinedModules</span><span class="s3">).</span><span class="s1">has</span><span class="s3">(</span><span class="s1">m</span><span class="s3">))</span>
					<span class="s3">)</span>
				<span class="s3">: </span><span class="s1">allModules</span><span class="s3">,</span>
			<span class="s1">module </span><span class="s3">=&gt; </span><span class="s4">this</span><span class="s3">.</span><span class="s1">renderModule</span><span class="s3">(</span><span class="s1">module</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">, </span><span class="s4">true</span><span class="s3">),</span>
			<span class="s1">prefix</span>
		<span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(</span>
			<span class="s1">chunkModules </span><span class="s3">||</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleFactories</span><span class="s3">) ||</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleFactoriesAddOnly</span><span class="s3">) ||</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">)</span>
		<span class="s3">) {</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">prefix</span><span class="s3">}</span><span class="s2">var __webpack_modules__ = (`</span><span class="s3">);</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">chunkModules </span><span class="s3">|| </span><span class="s2">&quot;{}&quot;</span><span class="s3">);</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;);</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s2">&quot;/************************************************************************/</span><span class="s4">\n</span><span class="s2">&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">header</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">0</span><span class="s3">) {</span>
			<span class="s4">const </span><span class="s1">header </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">header</span><span class="s3">)}</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">;</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s4">new </span><span class="s1">PrefixSource</span><span class="s3">(</span>
					<span class="s1">prefix</span><span class="s3">,</span>
					<span class="s1">useSourceMap</span>
						<span class="s3">? </span><span class="s4">new </span><span class="s1">OriginalSource</span><span class="s3">(</span><span class="s1">header</span><span class="s3">, </span><span class="s2">&quot;webpack/bootstrap&quot;</span><span class="s3">)</span>
						<span class="s3">: </span><span class="s4">new </span><span class="s1">RawSource</span><span class="s3">(</span><span class="s1">header</span><span class="s3">)</span>
				<span class="s3">)</span>
			<span class="s3">);</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s2">&quot;/************************************************************************/</span><span class="s4">\n</span><span class="s2">&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">const </span><span class="s1">runtimeModules </span><span class="s3">=</span>
			<span class="s1">renderContext</span><span class="s3">.</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkRuntimeModulesInOrder</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">);</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeModules</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">0</span><span class="s3">) {</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s4">new </span><span class="s1">PrefixSource</span><span class="s3">(</span>
					<span class="s1">prefix</span><span class="s3">,</span>
					<span class="s1">Template</span><span class="s3">.</span><span class="s1">renderRuntimeModules</span><span class="s3">(</span><span class="s1">runtimeModules</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">)</span>
				<span class="s3">)</span>
			<span class="s3">);</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s2">&quot;/************************************************************************/</span><span class="s4">\n</span><span class="s2">&quot;</span>
			<span class="s3">);</span>
			<span class="s0">// runtimeRuntimeModules calls codeGeneration</span>
			<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">module of runtimeModules</span><span class="s3">) {</span>
				<span class="s1">compilation</span><span class="s3">.</span><span class="s1">codeGeneratedModules</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">module</span><span class="s3">);</span>
			<span class="s3">}</span>
		<span class="s3">}</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">inlinedModules</span><span class="s3">) {</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">beforeStartup</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">0</span><span class="s3">) {</span>
				<span class="s4">const </span><span class="s1">beforeStartup </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">beforeStartup</span><span class="s3">)}</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">;</span>
				<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
					<span class="s4">new </span><span class="s1">PrefixSource</span><span class="s3">(</span>
						<span class="s1">prefix</span><span class="s3">,</span>
						<span class="s1">useSourceMap</span>
							<span class="s3">? </span><span class="s4">new </span><span class="s1">OriginalSource</span><span class="s3">(</span><span class="s1">beforeStartup</span><span class="s3">, </span><span class="s2">&quot;webpack/before-startup&quot;</span><span class="s3">)</span>
							<span class="s3">: </span><span class="s4">new </span><span class="s1">RawSource</span><span class="s3">(</span><span class="s1">beforeStartup</span><span class="s3">)</span>
					<span class="s3">)</span>
				<span class="s3">);</span>
			<span class="s3">}</span>
			<span class="s4">const </span><span class="s1">lastInlinedModule </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Module} */ </span><span class="s3">(</span><span class="s1">last</span><span class="s3">(</span><span class="s1">inlinedModules</span><span class="s3">));</span>
			<span class="s4">const </span><span class="s1">startupSource </span><span class="s3">= </span><span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">();</span>

			<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">)) {</span>
				<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= {};</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">);</span>
			<span class="s3">}</span>

			<span class="s4">const </span><span class="s1">avoidEntryIife </span><span class="s3">= </span><span class="s1">compilation</span><span class="s3">.</span><span class="s1">options</span><span class="s3">.</span><span class="s1">optimization</span><span class="s3">.</span><span class="s1">avoidEntryIife</span><span class="s3">;</span>
			<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Map&lt;Module, Source&gt; | false} */</span>
			<span class="s4">let </span><span class="s1">renamedInlinedModule </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">avoidEntryIife</span><span class="s3">) {</span>
				<span class="s1">renamedInlinedModule </span><span class="s3">= </span><span class="s4">this</span><span class="s3">.</span><span class="s1">getRenamedInlineModule</span><span class="s3">(</span>
					<span class="s1">allModules</span><span class="s3">,</span>
					<span class="s1">renderContext</span><span class="s3">,</span>
					<span class="s1">inlinedModules</span><span class="s3">,</span>
					<span class="s1">chunkRenderContext</span><span class="s3">,</span>
					<span class="s1">hooks</span><span class="s3">,</span>
					<span class="s1">allStrict</span><span class="s3">,</span>
					<span class="s1">Boolean</span><span class="s3">(</span><span class="s1">chunkModules</span><span class="s3">)</span>
				<span class="s3">);</span>
			<span class="s3">}</span>

			<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">m of inlinedModules</span><span class="s3">) {</span>
				<span class="s4">const </span><span class="s1">renderedModule </span><span class="s3">= </span><span class="s1">renamedInlinedModule</span>
					<span class="s3">? </span><span class="s1">renamedInlinedModule</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">m</span><span class="s3">)</span>
					<span class="s3">: </span><span class="s4">this</span><span class="s3">.</span><span class="s1">renderModule</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">chunkRenderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">, </span><span class="s4">false</span><span class="s3">);</span>

				<span class="s4">if </span><span class="s3">(</span><span class="s1">renderedModule</span><span class="s3">) {</span>
					<span class="s4">const </span><span class="s1">innerStrict </span><span class="s3">=</span>
						<span class="s3">!</span><span class="s1">allStrict </span><span class="s3">&amp;&amp; </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{BuildInfo} */ </span><span class="s3">(</span><span class="s1">m</span><span class="s3">.</span><span class="s1">buildInfo</span><span class="s3">).</span><span class="s1">strict</span><span class="s3">;</span>
					<span class="s4">const </span><span class="s1">runtimeRequirements </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleRuntimeRequirements</span><span class="s3">(</span>
						<span class="s1">m</span><span class="s3">,</span>
						<span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span>
					<span class="s3">);</span>
					<span class="s4">const </span><span class="s1">exports </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">);</span>
					<span class="s4">const </span><span class="s1">webpackExports </span><span class="s3">=</span>
						<span class="s1">exports </span><span class="s3">&amp;&amp; </span><span class="s1">m</span><span class="s3">.</span><span class="s1">exportsArgument </span><span class="s3">=== </span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">;</span>
					<span class="s4">const </span><span class="s1">iife </span><span class="s3">= </span><span class="s1">innerStrict</span>
						<span class="s3">? </span><span class="s2">&quot;it needs to be in strict mode.&quot;</span>
						<span class="s3">: </span><span class="s1">inlinedModules</span><span class="s3">.</span><span class="s1">size </span><span class="s3">&gt; </span><span class="s7">1</span>
							<span class="s3">? </span><span class="s0">// TODO check globals and top-level declarations of other entries and chunk modules</span>
								<span class="s0">// to make a better decision</span>
								<span class="s2">&quot;it needs to be isolated against other entry modules.&quot;</span>
							<span class="s3">: </span><span class="s1">chunkModules </span><span class="s3">&amp;&amp; !</span><span class="s1">renamedInlinedModule</span>
								<span class="s3">? </span><span class="s2">&quot;it needs to be isolated against other modules in the chunk.&quot;</span>
								<span class="s3">: </span><span class="s1">exports </span><span class="s3">&amp;&amp; !</span><span class="s1">webpackExports</span>
									<span class="s3">? </span><span class="s2">`it uses a non-standard name for the exports (</span><span class="s1">$</span><span class="s3">{</span><span class="s1">m</span><span class="s3">.</span><span class="s1">exportsArgument</span><span class="s3">}</span><span class="s2">).`</span>
									<span class="s3">: </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">embedInRuntimeBailout</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">);</span>
					<span class="s4">let </span><span class="s1">footer</span><span class="s3">;</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">iife </span><span class="s3">!== </span><span class="s1">undefined</span><span class="s3">) {</span>
						<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
							<span class="s2">`// This entry needs to be wrapped in an IIFE because </span><span class="s1">$</span><span class="s3">{</span><span class="s1">iife</span><span class="s3">}</span><span class="s4">\n</span><span class="s2">`</span>
						<span class="s3">);</span>
						<span class="s4">const </span><span class="s1">arrow </span><span class="s3">= </span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">supportsArrowFunction</span><span class="s3">();</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">arrow</span><span class="s3">) {</span>
							<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;(() =&gt; {</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
							<span class="s1">footer </span><span class="s3">= </span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">})();</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s3">;</span>
						<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
							<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;!function() {</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
							<span class="s1">footer </span><span class="s3">= </span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">}();</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">;</span>
						<span class="s3">}</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">innerStrict</span><span class="s3">) </span><span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">'&quot;use strict&quot;;</span><span class="s4">\n</span><span class="s2">'</span><span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
						<span class="s1">footer </span><span class="s3">= </span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">;</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">exports</span><span class="s3">) {</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">m </span><span class="s3">!== </span><span class="s1">lastInlinedModule</span><span class="s3">)</span>
							<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">m</span><span class="s3">.</span><span class="s1">exportsArgument</span><span class="s3">} </span><span class="s2">= {};</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">);</span>
						<span class="s4">else if </span><span class="s3">(</span><span class="s1">m</span><span class="s3">.</span><span class="s1">exportsArgument </span><span class="s3">!== </span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">)</span>
							<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
								<span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">m</span><span class="s3">.</span><span class="s1">exportsArgument</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">}</span><span class="s2">;</span><span class="s4">\n</span><span class="s2">`</span>
							<span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">renderedModule</span><span class="s3">);</span>
					<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">footer</span><span class="s3">);</span>
				<span class="s3">}</span>
			<span class="s3">}</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">onChunksLoaded</span><span class="s3">)) {</span>
				<span class="s1">startupSource</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
					<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">onChunksLoaded</span><span class="s3">}</span><span class="s2">(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">}</span><span class="s2">);</span><span class="s4">\n</span><span class="s2">`</span>
				<span class="s3">);</span>
			<span class="s3">}</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderStartup</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">startupSource</span><span class="s3">, </span><span class="s1">lastInlinedModule</span><span class="s3">, {</span>
					<span class="s1">...renderContext</span><span class="s3">,</span>
					<span class="s1">inlined</span><span class="s3">: </span><span class="s4">true</span>
				<span class="s3">})</span>
			<span class="s3">);</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">afterStartup</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">0</span><span class="s3">) {</span>
				<span class="s4">const </span><span class="s1">afterStartup </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">afterStartup</span><span class="s3">)}</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">;</span>
				<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
					<span class="s4">new </span><span class="s1">PrefixSource</span><span class="s3">(</span>
						<span class="s1">prefix</span><span class="s3">,</span>
						<span class="s1">useSourceMap</span>
							<span class="s3">? </span><span class="s4">new </span><span class="s1">OriginalSource</span><span class="s3">(</span><span class="s1">afterStartup</span><span class="s3">, </span><span class="s2">&quot;webpack/after-startup&quot;</span><span class="s3">)</span>
							<span class="s3">: </span><span class="s4">new </span><span class="s1">RawSource</span><span class="s3">(</span><span class="s1">afterStartup</span><span class="s3">)</span>
					<span class="s3">)</span>
				<span class="s3">);</span>
			<span class="s3">}</span>
		<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
			<span class="s4">const </span><span class="s1">lastEntryModule </span><span class="s3">=</span>
				<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Module} */</span>
				<span class="s3">(</span><span class="s1">last</span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getChunkEntryModulesIterable</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">)));</span>
			<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{(content: string[], name: string) =&gt; Source} */</span>
			<span class="s4">const </span><span class="s1">toSource </span><span class="s3">= </span><span class="s1">useSourceMap</span>
				<span class="s3">? (</span><span class="s1">content</span><span class="s3">, </span><span class="s1">name</span><span class="s3">) =&gt;</span>
						<span class="s4">new </span><span class="s1">OriginalSource</span><span class="s3">(</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">content</span><span class="s3">), </span><span class="s1">name</span><span class="s3">)</span>
				<span class="s3">: </span><span class="s1">content </span><span class="s3">=&gt; </span><span class="s4">new </span><span class="s1">RawSource</span><span class="s3">(</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">content</span><span class="s3">));</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span>
				<span class="s4">new </span><span class="s1">PrefixSource</span><span class="s3">(</span>
					<span class="s1">prefix</span><span class="s3">,</span>
					<span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">(</span>
						<span class="s1">toSource</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">beforeStartup</span><span class="s3">, </span><span class="s2">&quot;webpack/before-startup&quot;</span><span class="s3">),</span>
						<span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">,</span>
						<span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderStartup</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span>
							<span class="s1">toSource</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">.</span><span class="s1">concat</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">), </span><span class="s2">&quot;webpack/startup&quot;</span><span class="s3">),</span>
							<span class="s1">lastEntryModule</span><span class="s3">,</span>
							<span class="s3">{</span>
								<span class="s1">...renderContext</span><span class="s3">,</span>
								<span class="s1">inlined</span><span class="s3">: </span><span class="s4">false</span>
							<span class="s3">}</span>
						<span class="s3">),</span>
						<span class="s1">toSource</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">.</span><span class="s1">afterStartup</span><span class="s3">, </span><span class="s2">&quot;webpack/after-startup&quot;</span><span class="s3">),</span>
						<span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span>
					<span class="s3">)</span>
				<span class="s3">)</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s4">if </span><span class="s3">(</span>
			<span class="s1">hasEntryModules </span><span class="s3">&amp;&amp;</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">returnExportsFromRuntime</span><span class="s3">)</span>
		<span class="s3">) {</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">prefix</span><span class="s3">}</span><span class="s2">return </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">}</span><span class="s2">;</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">iife</span><span class="s3">) {</span>
			<span class="s1">source</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s2">&quot;/******/ })()</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Source} */</span>
		<span class="s4">let </span><span class="s1">finalSource </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderMain</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">source</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderMain&quot;</span>
		<span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(!</span><span class="s1">finalSource</span><span class="s3">) {</span>
			<span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span>
				<span class="s2">&quot;JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderMain plugins should return something&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s1">finalSource </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderContent</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">finalSource</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderContent&quot;</span>
		<span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(!</span><span class="s1">finalSource</span><span class="s3">) {</span>
			<span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span>
				<span class="s2">&quot;JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderContent plugins should return something&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s1">finalSource </span><span class="s3">= </span><span class="s1">InitFragment</span><span class="s3">.</span><span class="s1">addToSource</span><span class="s3">(</span>
			<span class="s1">finalSource</span><span class="s3">,</span>
			<span class="s1">chunkRenderContext</span><span class="s3">.</span><span class="s1">chunkInitFragments</span><span class="s3">,</span>
			<span class="s1">chunkRenderContext</span>
		<span class="s3">);</span>
		<span class="s1">finalSource </span><span class="s3">= </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">render</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">finalSource</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().render&quot;</span>
		<span class="s3">);</span>
		<span class="s4">if </span><span class="s3">(!</span><span class="s1">finalSource</span><span class="s3">) {</span>
			<span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span>
				<span class="s2">&quot;JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().render plugins should return something&quot;</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s1">chunk</span><span class="s3">.</span><span class="s1">rendered </span><span class="s3">= </span><span class="s4">true</span><span class="s3">;</span>
		<span class="s4">return </span><span class="s1">iife </span><span class="s3">? </span><span class="s4">new </span><span class="s1">ConcatSource</span><span class="s3">(</span><span class="s1">finalSource</span><span class="s3">, </span><span class="s2">&quot;;&quot;</span><span class="s3">) : </span><span class="s1">finalSource</span><span class="s3">;</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Hash} hash the hash to be updated</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RenderBootstrapContext} renderContext options object</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">*/</span>
	<span class="s1">updateHashWithBootstrap</span><span class="s3">(</span><span class="s1">hash</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">) {</span>
		<span class="s4">const </span><span class="s1">bootstrap </span><span class="s3">= </span><span class="s4">this</span><span class="s3">.</span><span class="s1">renderBootstrap</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">);</span>
		<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">_k of Object</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">)) {</span>
			<span class="s4">const </span><span class="s1">key </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{keyof Bootstrap} */ </span><span class="s3">(</span><span class="s1">_k</span><span class="s3">);</span>
			<span class="s1">hash</span><span class="s3">.</span><span class="s1">update</span><span class="s3">(</span><span class="s1">key</span><span class="s3">);</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">Array</span><span class="s3">.</span><span class="s1">isArray</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">[</span><span class="s1">key</span><span class="s3">])) {</span>
				<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">line of bootstrap</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]) {</span>
					<span class="s1">hash</span><span class="s3">.</span><span class="s1">update</span><span class="s3">(</span><span class="s1">line</span><span class="s3">);</span>
				<span class="s3">}</span>
			<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
				<span class="s1">hash</span><span class="s3">.</span><span class="s1">update</span><span class="s3">(</span><span class="s1">JSON</span><span class="s3">.</span><span class="s1">stringify</span><span class="s3">(</span><span class="s1">bootstrap</span><span class="s3">[</span><span class="s1">key</span><span class="s3">]));</span>
			<span class="s3">}</span>
		<span class="s3">}</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RenderBootstrapContext} renderContext options object</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{Bootstrap} the generated source of the bootstrap code</span>
	 <span class="s5">*/</span>
	<span class="s1">renderBootstrap</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">) {</span>
		<span class="s4">const </span><span class="s3">{</span>
			<span class="s1">chunkGraph</span><span class="s3">,</span>
			<span class="s1">codeGenerationResults</span><span class="s3">,</span>
			<span class="s1">moduleGraph</span><span class="s3">,</span>
			<span class="s1">chunk</span><span class="s3">,</span>
			<span class="s1">runtimeTemplate</span>
		<span class="s3">} = </span><span class="s1">renderContext</span><span class="s3">;</span>

		<span class="s4">const </span><span class="s1">runtimeRequirements </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getTreeRuntimeRequirements</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">);</span>

		<span class="s4">const </span><span class="s1">requireFunction </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">moduleCache </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleCache</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">moduleFactories </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span>
			<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleFactories</span>
		<span class="s3">);</span>
		<span class="s4">const </span><span class="s1">moduleUsed </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">module</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">requireScopeUsed </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span>
			<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">requireScope</span>
		<span class="s3">);</span>
		<span class="s4">const </span><span class="s1">interceptModuleExecution </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span>
			<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">interceptModuleExecution</span>
		<span class="s3">);</span>

		<span class="s4">const </span><span class="s1">useRequire </span><span class="s3">=</span>
			<span class="s1">requireFunction </span><span class="s3">|| </span><span class="s1">interceptModuleExecution </span><span class="s3">|| </span><span class="s1">moduleUsed</span><span class="s3">;</span>

		<span class="s5">/**</span>
		 <span class="s5">* </span><span class="s6">@type </span><span class="s5">{{startup: string[], beforeStartup: string[], header: string[], afterStartup: string[], allowInlineStartup: boolean}}</span>
		 <span class="s5">*/</span>
		<span class="s4">const </span><span class="s1">result </span><span class="s3">= {</span>
			<span class="s1">header</span><span class="s3">: [],</span>
			<span class="s1">beforeStartup</span><span class="s3">: [],</span>
			<span class="s1">startup</span><span class="s3">: [],</span>
			<span class="s1">afterStartup</span><span class="s3">: [],</span>
			<span class="s1">allowInlineStartup</span><span class="s3">: </span><span class="s4">true</span>
		<span class="s3">};</span>

		<span class="s4">const </span><span class="s3">{ </span><span class="s1">header</span><span class="s3">: </span><span class="s1">buf</span><span class="s3">, </span><span class="s1">startup</span><span class="s3">, </span><span class="s1">beforeStartup</span><span class="s3">, </span><span class="s1">afterStartup </span><span class="s3">} = </span><span class="s1">result</span><span class="s3">;</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp; </span><span class="s1">moduleFactories</span><span class="s3">) {</span>
			<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
				<span class="s2">&quot;// module factories are used so entry inlining is disabled&quot;</span>
			<span class="s3">);</span>
			<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
		<span class="s3">}</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp; </span><span class="s1">moduleCache</span><span class="s3">) {</span>
			<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// module cache are used so entry inlining is disabled&quot;</span><span class="s3">);</span>
			<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
		<span class="s3">}</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp; </span><span class="s1">interceptModuleExecution</span><span class="s3">) {</span>
			<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
				<span class="s2">&quot;// module execution is intercepted so entry inlining is disabled&quot;</span>
			<span class="s3">);</span>
			<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">useRequire </span><span class="s3">|| </span><span class="s1">moduleCache</span><span class="s3">) {</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// The module cache&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;var __webpack_module_cache__ = {};&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">useRequire</span><span class="s3">) {</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// The require function&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`function </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">(moduleId) {`</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">(</span><span class="s4">this</span><span class="s3">.</span><span class="s1">renderRequire</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">)));</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;}&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
		<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">requireScope</span><span class="s3">)) {</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// The require scope&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">} </span><span class="s2">= {};`</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(</span>
			<span class="s1">moduleFactories </span><span class="s3">||</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleFactoriesAddOnly</span><span class="s3">)</span>
		<span class="s3">) {</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// expose the modules object (__webpack_modules__)&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleFactories</span><span class="s3">} </span><span class="s2">= __webpack_modules__;`</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">moduleCache</span><span class="s3">) {</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// expose the module cache&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleCache</span><span class="s3">} </span><span class="s2">= __webpack_module_cache__;`</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(</span><span class="s1">interceptModuleExecution</span><span class="s3">) {</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// expose the module execution interceptor&quot;</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">interceptModuleExecution</span><span class="s3">} </span><span class="s2">= [];`</span><span class="s3">);</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">if </span><span class="s3">(!</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupNoDefault</span><span class="s3">)) {</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getNumberOfEntryModules</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">) &gt; </span><span class="s7">0</span><span class="s3">) {</span>
				<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{string[]} */</span>
				<span class="s4">const </span><span class="s1">buf2 </span><span class="s3">= [];</span>
				<span class="s4">const </span><span class="s1">runtimeRequirements </span><span class="s3">=</span>
					<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getTreeRuntimeRequirements</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">);</span>
				<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// Load entry module and return exports&quot;</span><span class="s3">);</span>
				<span class="s4">let </span><span class="s1">i </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getNumberOfEntryModules</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">);</span>
				<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">[</span>
					<span class="s1">entryModule</span><span class="s3">,</span>
					<span class="s1">entrypoint</span>
				<span class="s3">] </span><span class="s1">of chunkGraph</span><span class="s3">.</span><span class="s1">getChunkEntryModulesWithChunkGroupIterable</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">)) {</span>
					<span class="s4">if </span><span class="s3">(!</span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleSourceTypes</span><span class="s3">(</span><span class="s1">entryModule</span><span class="s3">).</span><span class="s1">has</span><span class="s3">(</span><span class="s2">&quot;javascript&quot;</span><span class="s3">)) {</span>
						<span class="s1">i</span><span class="s3">--;</span>
						<span class="s4">continue</span><span class="s3">;</span>
					<span class="s3">}</span>
					<span class="s4">const </span><span class="s1">chunks </span><span class="s3">=</span>
						<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Entrypoint} */</span>
						<span class="s3">(</span><span class="s1">entrypoint</span><span class="s3">).</span><span class="s1">chunks</span><span class="s3">.</span><span class="s1">filter</span><span class="s3">(</span><span class="s1">c </span><span class="s3">=&gt; </span><span class="s1">c </span><span class="s3">!== </span><span class="s1">chunk</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp; </span><span class="s1">chunks</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">0</span><span class="s3">) {</span>
						<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s2">&quot;// This entry module depends on other loaded chunks and execution need to be delayed&quot;</span>
						<span class="s3">);</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp;</span>
						<span class="s1">someInIterable</span><span class="s3">(</span>
							<span class="s1">moduleGraph</span><span class="s3">.</span><span class="s1">getIncomingConnectionsByOriginModule</span><span class="s3">(</span><span class="s1">entryModule</span><span class="s3">),</span>
							<span class="s3">([</span><span class="s1">originModule</span><span class="s3">, </span><span class="s1">connections</span><span class="s3">]) =&gt;</span>
								<span class="s1">originModule </span><span class="s3">&amp;&amp;</span>
								<span class="s1">connections</span><span class="s3">.</span><span class="s1">some</span><span class="s3">(</span><span class="s1">c </span><span class="s3">=&gt; </span><span class="s1">c</span><span class="s3">.</span><span class="s1">isTargetActive</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">)) &amp;&amp;</span>
								<span class="s1">someInIterable</span><span class="s3">(</span>
									<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleRuntimes</span><span class="s3">(</span><span class="s1">originModule</span><span class="s3">),</span>
									<span class="s1">runtime </span><span class="s3">=&gt;</span>
										<span class="s1">intersectRuntime</span><span class="s3">(</span><span class="s1">runtime</span><span class="s3">, </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">) !== </span><span class="s1">undefined</span>
								<span class="s3">)</span>
						<span class="s3">)</span>
					<span class="s3">) {</span>
						<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s2">&quot;// This entry module is referenced by other modules so it can't be inlined&quot;</span>
						<span class="s3">);</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
					<span class="s3">}</span>

					<span class="s4">let </span><span class="s1">data</span><span class="s3">;</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">codeGenerationResults</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">entryModule</span><span class="s3">, </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">)) {</span>
						<span class="s4">const </span><span class="s1">result </span><span class="s3">= </span><span class="s1">codeGenerationResults</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span>
							<span class="s1">entryModule</span><span class="s3">,</span>
							<span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span>
						<span class="s3">);</span>
						<span class="s1">data </span><span class="s3">= </span><span class="s1">result</span><span class="s3">.</span><span class="s1">data</span><span class="s3">;</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp;</span>
						<span class="s3">(!</span><span class="s1">data </span><span class="s3">|| !</span><span class="s1">data</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s2">&quot;topLevelDeclarations&quot;</span><span class="s3">)) &amp;&amp;</span>
						<span class="s3">(!</span><span class="s1">entryModule</span><span class="s3">.</span><span class="s1">buildInfo </span><span class="s3">||</span>
							<span class="s3">!</span><span class="s1">entryModule</span><span class="s3">.</span><span class="s1">buildInfo</span><span class="s3">.</span><span class="s1">topLevelDeclarations</span><span class="s3">)</span>
					<span class="s3">) {</span>
						<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s2">&quot;// This entry module doesn't tell about it's top-level declarations so it can't be inlined&quot;</span>
						<span class="s3">);</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup</span><span class="s3">) {</span>
						<span class="s4">const </span><span class="s1">bailout </span><span class="s3">= </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">inlineInRuntimeBailout</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span>
							<span class="s1">entryModule</span><span class="s3">,</span>
							<span class="s1">renderContext</span>
						<span class="s3">);</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">bailout </span><span class="s3">!== </span><span class="s1">undefined</span><span class="s3">) {</span>
							<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
								<span class="s2">`// This entry module can't be inlined because </span><span class="s1">$</span><span class="s3">{</span><span class="s1">bailout</span><span class="s3">}</span><span class="s2">`</span>
							<span class="s3">);</span>
							<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
						<span class="s3">}</span>
					<span class="s3">}</span>
					<span class="s1">i</span><span class="s3">--;</span>
					<span class="s4">const </span><span class="s1">moduleId </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleId</span><span class="s3">(</span><span class="s1">entryModule</span><span class="s3">);</span>
					<span class="s4">const </span><span class="s1">entryRuntimeRequirements </span><span class="s3">=</span>
						<span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getModuleRuntimeRequirements</span><span class="s3">(</span><span class="s1">entryModule</span><span class="s3">, </span><span class="s1">chunk</span><span class="s3">.</span><span class="s1">runtime</span><span class="s3">);</span>
					<span class="s4">let </span><span class="s1">moduleIdExpr </span><span class="s3">= </span><span class="s1">JSON</span><span class="s3">.</span><span class="s1">stringify</span><span class="s3">(</span><span class="s1">moduleId</span><span class="s3">);</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">entryModuleId</span><span class="s3">)) {</span>
						<span class="s1">moduleIdExpr </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">entryModuleId</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">moduleIdExpr</span><span class="s3">}</span><span class="s2">`</span><span class="s3">;</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">&amp;&amp;</span>
						<span class="s1">entryRuntimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">module</span><span class="s3">)</span>
					<span class="s3">) {</span>
						<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
						<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s2">&quot;// This entry module used 'module' so it can't be inlined&quot;</span>
						<span class="s3">);</span>
					<span class="s3">}</span>
					<span class="s4">if </span><span class="s3">(</span><span class="s1">chunks</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">0</span><span class="s3">) {</span>
						<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">i </span><span class="s3">=== </span><span class="s7">0 </span><span class="s3">? </span><span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= ` </span><span class="s3">: </span><span class="s2">&quot;&quot;</span><span class="s3">}</span><span class="s1">$</span><span class="s3">{</span>
								<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">onChunksLoaded</span>
							<span class="s3">}</span><span class="s2">(undefined, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">JSON</span><span class="s3">.</span><span class="s1">stringify</span><span class="s3">(</span>
								<span class="s1">chunks</span><span class="s3">.</span><span class="s1">map</span><span class="s3">(</span><span class="s1">c </span><span class="s3">=&gt; </span><span class="s1">c</span><span class="s3">.</span><span class="s1">id</span><span class="s3">)</span>
							<span class="s3">)}</span><span class="s2">, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">returningFunction</span><span class="s3">(</span>
								<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">moduleIdExpr</span><span class="s3">}</span><span class="s2">)`</span>
							<span class="s3">)}</span><span class="s2">)`</span>
						<span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">useRequire</span><span class="s3">) {</span>
						<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
							<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">i </span><span class="s3">=== </span><span class="s7">0 </span><span class="s3">? </span><span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= ` </span><span class="s3">: </span><span class="s2">&quot;&quot;</span><span class="s3">}</span><span class="s1">$</span><span class="s3">{</span>
								<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span>
							<span class="s3">}</span><span class="s2">(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">moduleIdExpr</span><span class="s3">}</span><span class="s2">);`</span>
						<span class="s3">);</span>
					<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">i </span><span class="s3">=== </span><span class="s7">0</span><span class="s3">) </span><span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= {};`</span><span class="s3">);</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">requireScopeUsed</span><span class="s3">) {</span>
							<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
								<span class="s2">`__webpack_modules__[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">moduleIdExpr</span><span class="s3">}</span><span class="s2">](0, </span><span class="s1">$</span><span class="s3">{</span>
									<span class="s1">i </span><span class="s3">=== </span><span class="s7">0 </span><span class="s3">? </span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports </span><span class="s3">: </span><span class="s2">&quot;{}&quot;</span>
								<span class="s3">}</span><span class="s2">, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">);`</span>
							<span class="s3">);</span>
						<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">entryRuntimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">)) {</span>
							<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
								<span class="s2">`__webpack_modules__[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">moduleIdExpr</span><span class="s3">}</span><span class="s2">](0, </span><span class="s1">$</span><span class="s3">{</span>
									<span class="s1">i </span><span class="s3">=== </span><span class="s7">0 </span><span class="s3">? </span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports </span><span class="s3">: </span><span class="s2">&quot;{}&quot;</span>
								<span class="s3">}</span><span class="s2">);`</span>
							<span class="s3">);</span>
						<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
							<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`__webpack_modules__[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">moduleIdExpr</span><span class="s3">}</span><span class="s2">]();`</span><span class="s3">);</span>
						<span class="s3">}</span>
					<span class="s3">}</span>
				<span class="s3">}</span>
				<span class="s4">if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">onChunksLoaded</span><span class="s3">)) {</span>
					<span class="s1">buf2</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
						<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">onChunksLoaded</span><span class="s3">}</span><span class="s2">(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">}</span><span class="s2">);`</span>
					<span class="s3">);</span>
				<span class="s3">}</span>
				<span class="s4">if </span><span class="s3">(</span>
					<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">) ||</span>
					<span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyBefore</span><span class="s3">) &amp;&amp;</span>
						<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyAfter</span><span class="s3">))</span>
				<span class="s3">) {</span>
					<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// the startup function&quot;</span><span class="s3">);</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
						<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">basicFunction</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">, [</span>
							<span class="s1">...buf2</span><span class="s3">,</span>
							<span class="s2">`return </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">}</span><span class="s2">;`</span>
						<span class="s3">])}</span><span class="s2">;`</span>
					<span class="s3">);</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;&quot;</span><span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// run startup&quot;</span><span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
						<span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">}</span><span class="s2">();`</span>
					<span class="s3">);</span>
				<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyBefore</span><span class="s3">)) {</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// the startup function&quot;</span><span class="s3">);</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
						<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">emptyFunction</span><span class="s3">()}</span><span class="s2">;`</span>
					<span class="s3">);</span>
					<span class="s1">beforeStartup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// run runtime startup&quot;</span><span class="s3">);</span>
					<span class="s1">beforeStartup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">}</span><span class="s2">();`</span><span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// startup&quot;</span><span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">buf2</span><span class="s3">));</span>
				<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyAfter</span><span class="s3">)) {</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// the startup function&quot;</span><span class="s3">);</span>
					<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
						<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">emptyFunction</span><span class="s3">()}</span><span class="s2">;`</span>
					<span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// startup&quot;</span><span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">buf2</span><span class="s3">));</span>
					<span class="s1">afterStartup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// run runtime startup&quot;</span><span class="s3">);</span>
					<span class="s1">afterStartup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">}</span><span class="s2">();`</span><span class="s3">);</span>
				<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// startup&quot;</span><span class="s3">);</span>
					<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">(</span><span class="s1">buf2</span><span class="s3">));</span>
				<span class="s3">}</span>
			<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span>
				<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">) ||</span>
				<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyBefore</span><span class="s3">) ||</span>
				<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyAfter</span><span class="s3">)</span>
			<span class="s3">) {</span>
				<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
					<span class="s2">&quot;// the startup function&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;// It's empty as no entry modules are in this chunk&quot;</span><span class="s3">,</span>
					<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">emptyFunction</span><span class="s3">()}</span><span class="s2">;`</span><span class="s3">,</span>
					<span class="s2">&quot;&quot;</span>
				<span class="s3">);</span>
			<span class="s3">}</span>
		<span class="s3">} </span><span class="s4">else if </span><span class="s3">(</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">) ||</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyBefore</span><span class="s3">) ||</span>
			<span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startupOnlyAfter</span><span class="s3">)</span>
		<span class="s3">) {</span>
			<span class="s1">result</span><span class="s3">.</span><span class="s1">allowInlineStartup </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
			<span class="s1">buf</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
				<span class="s2">&quot;// the startup function&quot;</span><span class="s3">,</span>
				<span class="s2">&quot;// It's empty as some runtime module handles the default behavior&quot;</span><span class="s3">,</span>
				<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">emptyFunction</span><span class="s3">()}</span><span class="s2">;`</span>
			<span class="s3">);</span>
			<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s2">&quot;// run startup&quot;</span><span class="s3">);</span>
			<span class="s1">startup</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span>
				<span class="s2">`var </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">} </span><span class="s2">= </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">startup</span><span class="s3">}</span><span class="s2">();`</span>
			<span class="s3">);</span>
		<span class="s3">}</span>
		<span class="s4">return </span><span class="s1">result</span><span class="s3">;</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{RenderBootstrapContext} renderContext options object</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{string} the generated source of the require function</span>
	 <span class="s5">*/</span>
	<span class="s1">renderRequire</span><span class="s3">(</span><span class="s1">renderContext</span><span class="s3">, </span><span class="s1">hooks</span><span class="s3">) {</span>
		<span class="s4">const </span><span class="s3">{</span>
			<span class="s1">chunk</span><span class="s3">,</span>
			<span class="s1">chunkGraph</span><span class="s3">,</span>
			<span class="s1">runtimeTemplate</span><span class="s3">: { </span><span class="s1">outputOptions </span><span class="s3">}</span>
		<span class="s3">} = </span><span class="s1">renderContext</span><span class="s3">;</span>
		<span class="s4">const </span><span class="s1">runtimeRequirements </span><span class="s3">= </span><span class="s1">chunkGraph</span><span class="s3">.</span><span class="s1">getTreeRuntimeRequirements</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">moduleExecution </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span>
			<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">interceptModuleExecution</span>
		<span class="s3">)</span>
			<span class="s3">? </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
					<span class="s2">`var execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">} </span><span class="s2">};`</span><span class="s3">,</span>
					<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">interceptModuleExecution</span><span class="s3">}</span><span class="s2">.forEach(function(handler) { handler(execOptions); });`</span><span class="s3">,</span>
					<span class="s2">&quot;module = execOptions.module;&quot;</span><span class="s3">,</span>
					<span class="s2">&quot;execOptions.factory.call(module.exports, module, module.exports, execOptions.require);&quot;</span>
				<span class="s3">])</span>
			<span class="s3">: </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">thisAsExports</span><span class="s3">)</span>
				<span class="s3">? </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
						<span class="s2">`__webpack_modules__[moduleId].call(module.exports, module, module.exports, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">);`</span>
					<span class="s3">])</span>
				<span class="s3">: </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
						<span class="s2">`__webpack_modules__[moduleId](module, module.exports, </span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">require</span><span class="s3">}</span><span class="s2">);`</span>
					<span class="s3">]);</span>
		<span class="s4">const </span><span class="s1">needModuleId </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleId</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">needModuleLoaded </span><span class="s3">= </span><span class="s1">runtimeRequirements</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span>
			<span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleLoaded</span>
		<span class="s3">);</span>
		<span class="s4">const </span><span class="s1">content </span><span class="s3">= </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
			<span class="s2">&quot;// Check if module is in cache&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;var cachedModule = __webpack_module_cache__[moduleId];&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;if (cachedModule !== undefined) {&quot;</span><span class="s3">,</span>
			<span class="s1">outputOptions</span><span class="s3">.</span><span class="s1">strictModuleErrorHandling</span>
				<span class="s3">? </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">([</span>
						<span class="s2">&quot;if (cachedModule.error !== undefined) throw cachedModule.error;&quot;</span><span class="s3">,</span>
						<span class="s2">&quot;return cachedModule.exports;&quot;</span>
					<span class="s3">])</span>
				<span class="s3">: </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">(</span><span class="s2">&quot;return cachedModule.exports;&quot;</span><span class="s3">),</span>
			<span class="s2">&quot;}&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;// Create a new module (and put it into the cache)&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;var module = __webpack_module_cache__[moduleId] = {&quot;</span><span class="s3">,</span>
			<span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">([</span>
				<span class="s1">needModuleId </span><span class="s3">? </span><span class="s2">&quot;id: moduleId,&quot; </span><span class="s3">: </span><span class="s2">&quot;// no module.id needed&quot;</span><span class="s3">,</span>
				<span class="s1">needModuleLoaded </span><span class="s3">? </span><span class="s2">&quot;loaded: false,&quot; </span><span class="s3">: </span><span class="s2">&quot;// no module.loaded needed&quot;</span><span class="s3">,</span>
				<span class="s2">&quot;exports: {}&quot;</span>
			<span class="s3">]),</span>
			<span class="s2">&quot;};&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;&quot;</span><span class="s3">,</span>
			<span class="s1">outputOptions</span><span class="s3">.</span><span class="s1">strictModuleExceptionHandling</span>
				<span class="s3">? </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
						<span class="s2">&quot;// Execute the module function&quot;</span><span class="s3">,</span>
						<span class="s2">&quot;var threw = true;&quot;</span><span class="s3">,</span>
						<span class="s2">&quot;try {&quot;</span><span class="s3">,</span>
						<span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">([</span><span class="s1">moduleExecution</span><span class="s3">, </span><span class="s2">&quot;threw = false;&quot;</span><span class="s3">]),</span>
						<span class="s2">&quot;} finally {&quot;</span><span class="s3">,</span>
						<span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">([</span>
							<span class="s2">&quot;if(threw) delete __webpack_module_cache__[moduleId];&quot;</span>
						<span class="s3">]),</span>
						<span class="s2">&quot;}&quot;</span>
					<span class="s3">])</span>
				<span class="s3">: </span><span class="s1">outputOptions</span><span class="s3">.</span><span class="s1">strictModuleErrorHandling</span>
					<span class="s3">? </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
							<span class="s2">&quot;// Execute the module function&quot;</span><span class="s3">,</span>
							<span class="s2">&quot;try {&quot;</span><span class="s3">,</span>
							<span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">(</span><span class="s1">moduleExecution</span><span class="s3">),</span>
							<span class="s2">&quot;} catch(e) {&quot;</span><span class="s3">,</span>
							<span class="s1">Template</span><span class="s3">.</span><span class="s1">indent</span><span class="s3">([</span><span class="s2">&quot;module.error = e;&quot;</span><span class="s3">, </span><span class="s2">&quot;throw e;&quot;</span><span class="s3">]),</span>
							<span class="s2">&quot;}&quot;</span>
						<span class="s3">])</span>
					<span class="s3">: </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
							<span class="s2">&quot;// Execute the module function&quot;</span><span class="s3">,</span>
							<span class="s1">moduleExecution</span>
						<span class="s3">]),</span>
			<span class="s1">needModuleLoaded</span>
				<span class="s3">? </span><span class="s1">Template</span><span class="s3">.</span><span class="s1">asString</span><span class="s3">([</span>
						<span class="s2">&quot;&quot;</span><span class="s3">,</span>
						<span class="s2">&quot;// Flag the module as loaded&quot;</span><span class="s3">,</span>
						<span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">RuntimeGlobals</span><span class="s3">.</span><span class="s1">moduleLoaded</span><span class="s3">} </span><span class="s2">= true;`</span><span class="s3">,</span>
						<span class="s2">&quot;&quot;</span>
					<span class="s3">])</span>
				<span class="s3">: </span><span class="s2">&quot;&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;// Return the exports of the module&quot;</span><span class="s3">,</span>
			<span class="s2">&quot;return module.exports;&quot;</span>
		<span class="s3">]);</span>
		<span class="s4">return </span><span class="s1">tryRunOrWebpackError</span><span class="s3">(</span>
			<span class="s3">() =&gt; </span><span class="s1">hooks</span><span class="s3">.</span><span class="s1">renderRequire</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">content</span><span class="s3">, </span><span class="s1">renderContext</span><span class="s3">),</span>
			<span class="s2">&quot;JavascriptModulesPlugin.getCompilationHooks().renderRequire&quot;</span>
		<span class="s3">);</span>
	<span class="s3">}</span>

	<span class="s5">/**</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Module[]} allModules allModules</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{MainRenderContext} renderContext renderContext</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{Set&lt;Module&gt;} inlinedModules inlinedModules</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{ChunkRenderContext} chunkRenderContext chunkRenderContext</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{CompilationHooks} hooks hooks</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{boolean | undefined} allStrict allStrict</span>
	 <span class="s5">* </span><span class="s6">@param </span><span class="s5">{boolean} hasChunkModules hasChunkModules</span>
	 <span class="s5">* </span><span class="s6">@returns </span><span class="s5">{Map&lt;Module, Source&gt; | false} renamed inlined modules</span>
	 <span class="s5">*/</span>
	<span class="s1">getRenamedInlineModule</span><span class="s3">(</span>
		<span class="s1">allModules</span><span class="s3">,</span>
		<span class="s1">renderContext</span><span class="s3">,</span>
		<span class="s1">inlinedModules</span><span class="s3">,</span>
		<span class="s1">chunkRenderContext</span><span class="s3">,</span>
		<span class="s1">hooks</span><span class="s3">,</span>
		<span class="s1">allStrict</span><span class="s3">,</span>
		<span class="s1">hasChunkModules</span>
	<span class="s3">) {</span>
		<span class="s4">const </span><span class="s1">innerStrict </span><span class="s3">=</span>
			<span class="s3">!</span><span class="s1">allStrict </span><span class="s3">&amp;&amp;</span>
			<span class="s1">allModules</span><span class="s3">.</span><span class="s1">every</span><span class="s3">(</span><span class="s1">m </span><span class="s3">=&gt; </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{BuildInfo} */ </span><span class="s3">(</span><span class="s1">m</span><span class="s3">.</span><span class="s1">buildInfo</span><span class="s3">).</span><span class="s1">strict</span><span class="s3">);</span>
		<span class="s4">const </span><span class="s1">isMultipleEntries </span><span class="s3">= </span><span class="s1">inlinedModules</span><span class="s3">.</span><span class="s1">size </span><span class="s3">&gt; </span><span class="s7">1</span><span class="s3">;</span>
		<span class="s4">const </span><span class="s1">singleEntryWithModules </span><span class="s3">= </span><span class="s1">inlinedModules</span><span class="s3">.</span><span class="s1">size </span><span class="s3">=== </span><span class="s7">1 </span><span class="s3">&amp;&amp; </span><span class="s1">hasChunkModules</span><span class="s3">;</span>

		<span class="s0">// TODO:</span>
		<span class="s0">// This step is before the IIFE reason calculation. Ideally, it should only be executed when this function can optimize the</span>
		<span class="s0">// IIFE reason. Otherwise, it should directly return false. There are four reasons now, we have skipped two already, the left</span>
		<span class="s0">// one is 'it uses a non-standard name for the exports'.</span>
		<span class="s4">if </span><span class="s3">(</span><span class="s1">isMultipleEntries </span><span class="s3">|| </span><span class="s1">innerStrict </span><span class="s3">|| !</span><span class="s1">singleEntryWithModules</span><span class="s3">) {</span>
			<span class="s4">return false</span><span class="s3">;</span>
		<span class="s3">}</span>

		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Map&lt;Module, Source&gt;} */</span>
		<span class="s4">const </span><span class="s1">renamedInlinedModules </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Map</span><span class="s3">();</span>
		<span class="s4">const </span><span class="s3">{ </span><span class="s1">runtimeTemplate </span><span class="s3">} = </span><span class="s1">renderContext</span><span class="s3">;</span>

		<span class="s5">/** </span><span class="s6">@typedef </span><span class="s5">{{ source: Source, module: Module, ast: Program, variables: Set&lt;Variable&gt;, through: Set&lt;Reference&gt;, usedInNonInlined: Set&lt;Variable&gt;, moduleScope: Scope }} Info */</span>
		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Map&lt;Module, Info&gt;} */</span>
		<span class="s4">const </span><span class="s1">inlinedModulesToInfo </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Map</span><span class="s3">();</span>
		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Set&lt;string&gt;} */</span>
		<span class="s4">const </span><span class="s1">nonInlinedModuleThroughIdentifiers </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">();</span>
		<span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Map&lt;Module, Source&gt;} */</span>

		<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">m of allModules</span><span class="s3">) {</span>
			<span class="s4">const </span><span class="s1">isInlinedModule </span><span class="s3">= </span><span class="s1">inlinedModules </span><span class="s3">&amp;&amp; </span><span class="s1">inlinedModules</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">m</span><span class="s3">);</span>
			<span class="s4">const </span><span class="s1">moduleSource </span><span class="s3">= </span><span class="s4">this</span><span class="s3">.</span><span class="s1">renderModule</span><span class="s3">(</span>
				<span class="s1">m</span><span class="s3">,</span>
				<span class="s1">chunkRenderContext</span><span class="s3">,</span>
				<span class="s1">hooks</span><span class="s3">,</span>
				<span class="s3">!</span><span class="s1">isInlinedModule</span>
			<span class="s3">);</span>

			<span class="s4">if </span><span class="s3">(!</span><span class="s1">moduleSource</span><span class="s3">) </span><span class="s4">continue</span><span class="s3">;</span>
			<span class="s4">const </span><span class="s1">code </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{string} */ </span><span class="s3">(</span><span class="s1">moduleSource</span><span class="s3">.</span><span class="s1">source</span><span class="s3">());</span>
			<span class="s4">const </span><span class="s1">ast </span><span class="s3">= </span><span class="s1">JavascriptParser</span><span class="s3">.</span><span class="s1">_parse</span><span class="s3">(</span><span class="s1">code</span><span class="s3">, {</span>
				<span class="s1">sourceType</span><span class="s3">: </span><span class="s2">&quot;auto&quot;</span>
			<span class="s3">});</span>

			<span class="s4">const </span><span class="s1">scopeManager </span><span class="s3">= </span><span class="s1">eslintScope</span><span class="s3">.</span><span class="s1">analyze</span><span class="s3">(</span><span class="s1">ast</span><span class="s3">, {</span>
				<span class="s1">ecmaVersion</span><span class="s3">: </span><span class="s7">6</span><span class="s3">,</span>
				<span class="s1">sourceType</span><span class="s3">: </span><span class="s2">&quot;module&quot;</span><span class="s3">,</span>
				<span class="s1">optimistic</span><span class="s3">: </span><span class="s4">true</span><span class="s3">,</span>
				<span class="s1">ignoreEval</span><span class="s3">: </span><span class="s4">true</span>
			<span class="s3">});</span>

			<span class="s4">const </span><span class="s1">globalScope </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Scope} */ </span><span class="s3">(</span><span class="s1">scopeManager</span><span class="s3">.</span><span class="s1">acquire</span><span class="s3">(</span><span class="s1">ast</span><span class="s3">));</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">inlinedModules </span><span class="s3">&amp;&amp; </span><span class="s1">inlinedModules</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">m</span><span class="s3">)) {</span>
				<span class="s4">const </span><span class="s1">moduleScope </span><span class="s3">= </span><span class="s1">globalScope</span><span class="s3">.</span><span class="s1">childScopes</span><span class="s3">[</span><span class="s7">0</span><span class="s3">];</span>
				<span class="s1">inlinedModulesToInfo</span><span class="s3">.</span><span class="s1">set</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, {</span>
					<span class="s1">source</span><span class="s3">: </span><span class="s1">moduleSource</span><span class="s3">,</span>
					<span class="s1">ast</span><span class="s3">,</span>
					<span class="s1">module</span><span class="s3">: </span><span class="s1">m</span><span class="s3">,</span>
					<span class="s1">variables</span><span class="s3">: </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(</span><span class="s1">moduleScope</span><span class="s3">.</span><span class="s1">variables</span><span class="s3">),</span>
					<span class="s1">through</span><span class="s3">: </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(</span><span class="s1">moduleScope</span><span class="s3">.</span><span class="s1">through</span><span class="s3">),</span>
					<span class="s1">usedInNonInlined</span><span class="s3">: </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(),</span>
					<span class="s1">moduleScope</span>
				<span class="s3">});</span>
			<span class="s3">} </span><span class="s4">else </span><span class="s3">{</span>
				<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">ref of globalScope</span><span class="s3">.</span><span class="s1">through</span><span class="s3">) {</span>
					<span class="s1">nonInlinedModuleThroughIdentifiers</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">ref</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">.</span><span class="s1">name</span><span class="s3">);</span>
				<span class="s3">}</span>
			<span class="s3">}</span>
		<span class="s3">}</span>

		<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">[, { </span><span class="s1">variables</span><span class="s3">, </span><span class="s1">usedInNonInlined </span><span class="s3">}] </span><span class="s1">of inlinedModulesToInfo</span><span class="s3">) {</span>
			<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">variable of variables</span><span class="s3">) {</span>
				<span class="s4">if </span><span class="s3">(</span>
					<span class="s1">nonInlinedModuleThroughIdentifiers</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">variable</span><span class="s3">.</span><span class="s1">name</span><span class="s3">) ||</span>
					<span class="s1">RESERVED_NAMES</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">variable</span><span class="s3">.</span><span class="s1">name</span><span class="s3">)</span>
				<span class="s3">) {</span>
					<span class="s1">usedInNonInlined</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">variable</span><span class="s3">);</span>
				<span class="s3">}</span>
			<span class="s3">}</span>
		<span class="s3">}</span>

		<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">[</span><span class="s1">m</span><span class="s3">, </span><span class="s1">moduleInfo</span><span class="s3">] </span><span class="s1">of inlinedModulesToInfo</span><span class="s3">) {</span>
			<span class="s4">const </span><span class="s3">{ </span><span class="s1">ast</span><span class="s3">, </span><span class="s1">source</span><span class="s3">: </span><span class="s1">_source</span><span class="s3">, </span><span class="s1">usedInNonInlined </span><span class="s3">} = </span><span class="s1">moduleInfo</span><span class="s3">;</span>
			<span class="s4">const </span><span class="s1">source </span><span class="s3">= </span><span class="s4">new </span><span class="s1">ReplaceSource</span><span class="s3">(</span><span class="s1">_source</span><span class="s3">);</span>
			<span class="s4">if </span><span class="s3">(</span><span class="s1">usedInNonInlined</span><span class="s3">.</span><span class="s1">size </span><span class="s3">=== </span><span class="s7">0</span><span class="s3">) {</span>
				<span class="s1">renamedInlinedModules</span><span class="s3">.</span><span class="s1">set</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">source</span><span class="s3">);</span>
				<span class="s4">continue</span><span class="s3">;</span>
			<span class="s3">}</span>

			<span class="s4">const </span><span class="s1">info </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Info} */ </span><span class="s3">(</span><span class="s1">inlinedModulesToInfo</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">m</span><span class="s3">));</span>
			<span class="s4">const </span><span class="s1">allUsedNames </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(</span>
				<span class="s1">Array</span><span class="s3">.</span><span class="s1">from</span><span class="s3">(</span><span class="s1">info</span><span class="s3">.</span><span class="s1">through</span><span class="s3">, </span><span class="s1">v </span><span class="s3">=&gt; </span><span class="s1">v</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">.</span><span class="s1">name</span><span class="s3">)</span>
			<span class="s3">);</span>

			<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">variable of usedInNonInlined</span><span class="s3">) {</span>
				<span class="s1">allUsedNames</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">variable</span><span class="s3">.</span><span class="s1">name</span><span class="s3">);</span>
			<span class="s3">}</span>

			<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">variable of info</span><span class="s3">.</span><span class="s1">variables</span><span class="s3">) {</span>
				<span class="s4">const </span><span class="s1">usedNamesInScopeInfo </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Map</span><span class="s3">();</span>
				<span class="s4">const </span><span class="s1">ignoredScopes </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">();</span>

				<span class="s4">const </span><span class="s1">name </span><span class="s3">= </span><span class="s1">variable</span><span class="s3">.</span><span class="s1">name</span><span class="s3">;</span>
				<span class="s4">const </span><span class="s3">{ </span><span class="s1">usedNames</span><span class="s3">, </span><span class="s1">alreadyCheckedScopes </span><span class="s3">} = </span><span class="s1">getUsedNamesInScopeInfo</span><span class="s3">(</span>
					<span class="s1">usedNamesInScopeInfo</span><span class="s3">,</span>
					<span class="s1">info</span><span class="s3">.</span><span class="s1">module</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">(),</span>
					<span class="s1">name</span>
				<span class="s3">);</span>

				<span class="s4">if </span><span class="s3">(</span><span class="s1">allUsedNames</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">name</span><span class="s3">) || </span><span class="s1">usedNames</span><span class="s3">.</span><span class="s1">has</span><span class="s3">(</span><span class="s1">name</span><span class="s3">)) {</span>
					<span class="s4">const </span><span class="s1">references </span><span class="s3">= </span><span class="s1">getAllReferences</span><span class="s3">(</span><span class="s1">variable</span><span class="s3">);</span>
					<span class="s4">const </span><span class="s1">allIdentifiers </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(</span>
						<span class="s1">references</span><span class="s3">.</span><span class="s1">map</span><span class="s3">(</span><span class="s1">r </span><span class="s3">=&gt; </span><span class="s1">r</span><span class="s3">.</span><span class="s1">identifier</span><span class="s3">).</span><span class="s1">concat</span><span class="s3">(</span><span class="s1">variable</span><span class="s3">.</span><span class="s1">identifiers</span><span class="s3">)</span>
					<span class="s3">);</span>
					<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">ref of references</span><span class="s3">) {</span>
						<span class="s1">addScopeSymbols</span><span class="s3">(</span>
							<span class="s1">ref</span><span class="s3">.</span><span class="s1">from</span><span class="s3">,</span>
							<span class="s1">usedNames</span><span class="s3">,</span>
							<span class="s1">alreadyCheckedScopes</span><span class="s3">,</span>
							<span class="s1">ignoredScopes</span>
						<span class="s3">);</span>
					<span class="s3">}</span>

					<span class="s4">const </span><span class="s1">newName </span><span class="s3">= </span><span class="s1">findNewName</span><span class="s3">(</span>
						<span class="s1">variable</span><span class="s3">.</span><span class="s1">name</span><span class="s3">,</span>
						<span class="s1">allUsedNames</span><span class="s3">,</span>
						<span class="s1">usedNames</span><span class="s3">,</span>
						<span class="s1">m</span><span class="s3">.</span><span class="s1">readableIdentifier</span><span class="s3">(</span><span class="s1">runtimeTemplate</span><span class="s3">.</span><span class="s1">requestShortener</span><span class="s3">)</span>
					<span class="s3">);</span>
					<span class="s1">allUsedNames</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">newName</span><span class="s3">);</span>
					<span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">identifier of allIdentifiers</span><span class="s3">) {</span>
						<span class="s4">const </span><span class="s1">r </span><span class="s3">= </span><span class="s5">/** </span><span class="s6">@type </span><span class="s5">{Range} */ </span><span class="s3">(</span><span class="s1">identifier</span><span class="s3">.</span><span class="s1">range</span><span class="s3">);</span>
						<span class="s4">const </span><span class="s1">path </span><span class="s3">= </span><span class="s1">getPathInAst</span><span class="s3">(</span><span class="s1">ast</span><span class="s3">, </span><span class="s1">identifier</span><span class="s3">);</span>
						<span class="s4">if </span><span class="s3">(</span><span class="s1">path </span><span class="s3">&amp;&amp; </span><span class="s1">path</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s7">1</span><span class="s3">) {</span>
							<span class="s4">const </span><span class="s1">maybeProperty </span><span class="s3">=</span>
								<span class="s1">path</span><span class="s3">[</span><span class="s7">1</span><span class="s3">].</span><span class="s1">type </span><span class="s3">=== </span><span class="s2">&quot;AssignmentPattern&quot; </span><span class="s3">&amp;&amp; </span><span class="s1">path</span><span class="s3">[</span><span class="s7">1</span><span class="s3">].</span><span class="s1">left </span><span class="s3">=== </span><span class="s1">path</span><span class="s3">[</span><span class="s7">0</span><span class="s3">]</span>
									<span class="s3">? </span><span class="s1">path</span><span class="s3">[</span><span class="s7">2</span><span class="s3">]</span>
									<span class="s3">: </span><span class="s1">path</span><span class="s3">[</span><span class="s7">1</span><span class="s3">];</span>
							<span class="s4">if </span><span class="s3">(</span>
								<span class="s1">maybeProperty</span><span class="s3">.</span><span class="s1">type </span><span class="s3">=== </span><span class="s2">&quot;Property&quot; </span><span class="s3">&amp;&amp;</span>
								<span class="s1">maybeProperty</span><span class="s3">.</span><span class="s1">shorthand</span>
							<span class="s3">) {</span>
								<span class="s1">source</span><span class="s3">.</span><span class="s1">insert</span><span class="s3">(</span><span class="s1">r</span><span class="s3">[</span><span class="s7">1</span><span class="s3">], </span><span class="s2">`: </span><span class="s1">$</span><span class="s3">{</span><span class="s1">newName</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
								<span class="s4">continue</span><span class="s3">;</span>
							<span class="s3">}</span>
						<span class="s3">}</span>
						<span class="s1">source</span><span class="s3">.</span><span class="s1">replace</span><span class="s3">(</span><span class="s1">r</span><span class="s3">[</span><span class="s7">0</span><span class="s3">], </span><span class="s1">r</span><span class="s3">[</span><span class="s7">1</span><span class="s3">] - </span><span class="s7">1</span><span class="s3">, </span><span class="s1">newName</span><span class="s3">);</span>
					<span class="s3">}</span>
				<span class="s3">}</span>
				<span class="s1">allUsedNames</span><span class="s3">.</span><span class="s1">add</span><span class="s3">(</span><span class="s1">name</span><span class="s3">);</span>
			<span class="s3">}</span>

			<span class="s1">renamedInlinedModules</span><span class="s3">.</span><span class="s1">set</span><span class="s3">(</span><span class="s1">m</span><span class="s3">, </span><span class="s1">source</span><span class="s3">);</span>
		<span class="s3">}</span>

		<span class="s4">return </span><span class="s1">renamedInlinedModules</span><span class="s3">;</span>
	<span class="s3">}</span>
<span class="s3">}</span>

<span class="s1">module</span><span class="s3">.</span><span class="s1">exports </span><span class="s3">= </span><span class="s1">JavascriptModulesPlugin</span><span class="s3">;</span>
<span class="s1">module</span><span class="s3">.</span><span class="s1">exports</span><span class="s3">.</span><span class="s1">chunkHasJs </span><span class="s3">= </span><span class="s1">chunkHasJs</span><span class="s3">;</span>
</pre>
</body>
</html>