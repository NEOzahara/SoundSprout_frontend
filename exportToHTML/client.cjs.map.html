<html>
<head>
<title>client.cjs.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
client.cjs.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;ACTIONS&quot;</span><span class="s0">,</span><span class="s1">&quot;exports&quot;</span><span class="s0">,</span><span class="s1">&quot;GET_VERSION&quot;</span><span class="s0">,</span><span class="s1">&quot;GET_TYPES_INFO&quot;</span><span class="s0">,</span><span class="s1">&quot;GET_VISITOR_KEYS&quot;</span><span class="s0">,</span><span class="s1">&quot;GET_TOKEN_LABELS&quot;</span><span class="s0">,</span><span class="s1">&quot;MAYBE_PARSE&quot;</span><span class="s0">,</span><span class="s1">&quot;MAYBE_PARSE_SYNC&quot;</span><span class="s0">,</span><span class="s1">&quot;_send&quot;</span><span class="s0">,</span><span class="s1">&quot;WeakMap&quot;</span><span class="s0">,</span><span class="s1">&quot;_vCache&quot;</span><span class="s0">,</span><span class="s1">&quot;_tiCache&quot;</span><span class="s0">,</span><span class="s1">&quot;_vkCache&quot;</span><span class="s0">,</span><span class="s1">&quot;_tlCache&quot;</span><span class="s0">,</span><span class="s1">&quot;Client&quot;</span><span class="s0">,</span><span class="s1">&quot;constructor&quot;</span><span class="s0">,</span><span class="s1">&quot;send&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldInitSpec&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldSet&quot;</span><span class="s0">,</span><span class="s1">&quot;getVersion&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet2&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;getTypesInfo&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet3&quot;</span><span class="s0">,</span><span class="s1">&quot;getVisitorKeys&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet4&quot;</span><span class="s0">,</span><span class="s1">&quot;getTokLabels&quot;</span><span class="s0">,</span><span class="s1">&quot;_classPrivateFieldGet5&quot;</span><span class="s0">,</span><span class="s1">&quot;maybeParse&quot;</span><span class="s0">,</span><span class="s1">&quot;code&quot;</span><span class="s0">,</span><span class="s1">&quot;options&quot;</span><span class="s0">,</span><span class="s1">&quot;_worker&quot;</span><span class="s0">,</span><span class="s1">&quot;WorkerClient&quot;</span><span class="s0">,</span><span class="s1">&quot;action&quot;</span><span class="s0">,</span><span class="s1">&quot;payload&quot;</span><span class="s0">,</span><span class="s1">&quot;signal&quot;</span><span class="s0">,</span><span class="s1">&quot;Int32Array&quot;</span><span class="s0">,</span><span class="s1">&quot;SharedArrayBuffer&quot;</span><span class="s0">,</span><span class="s1">&quot;subChannel&quot;</span><span class="s0">,</span><span class="s1">&quot;_get_worker_threads&quot;</span><span class="s0">,</span><span class="s1">&quot;MessageChannel&quot;</span><span class="s0">,</span><span class="s1">&quot;postMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;port&quot;</span><span class="s0">,</span><span class="s1">&quot;port1&quot;</span><span class="s0">,</span><span class="s1">&quot;Atomics&quot;</span><span class="s0">,</span><span class="s1">&quot;wait&quot;</span><span class="s0">,</span><span class="s1">&quot;message&quot;</span><span class="s0">,</span><span class="s1">&quot;receiveMessageOnPort&quot;</span><span class="s0">,</span><span class="s1">&quot;port2&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;assign&quot;</span><span class="s0">,</span><span class="s1">&quot;errorData&quot;</span><span class="s0">,</span><span class="s1">&quot;result&quot;</span><span class="s0">,</span><span class="s1">&quot;Worker&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;__dirname&quot;</span><span class="s0">,</span><span class="s1">&quot;env&quot;</span><span class="s0">,</span><span class="s1">&quot;SHARE_ENV&quot;</span><span class="s0">,</span><span class="s1">&quot;unref&quot;</span><span class="s0">,</span><span class="s1">&quot;_this&quot;</span><span class="s0">,</span><span class="s1">&quot;_worker_threads_cache2&quot;</span><span class="s0">,</span><span class="s1">&quot;_worker_threads_cache&quot;</span><span class="s0">,</span><span class="s1">&quot;_&quot;</span><span class="s0">,</span><span class="s1">&quot;_LocalClient&quot;</span><span class="s0">,</span><span class="s1">&quot;_handleMessage&quot;</span><span class="s0">,</span><span class="s1">&quot;LocalClient&quot;</span><span class="s0">,</span><span class="s1">&quot;_assertClassBrand$_&quot;</span><span class="s0">,</span><span class="s1">&quot;_assertClassBrand&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../src/client.cts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;import type { Options } from </span><span class="s3">\&quot;</span><span class="s1">./types.cts</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import path = require(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export const enum ACTIONS {</span><span class="s3">\n  </span><span class="s1">GET_VERSION = </span><span class="s3">\&quot;</span><span class="s1">GET_VERSION</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">GET_TYPES_INFO = </span><span class="s3">\&quot;</span><span class="s1">GET_TYPES_INFO</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">GET_VISITOR_KEYS = </span><span class="s3">\&quot;</span><span class="s1">GET_VISITOR_KEYS</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">GET_TOKEN_LABELS = </span><span class="s3">\&quot;</span><span class="s1">GET_TOKEN_LABELS</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">MAYBE_PARSE = </span><span class="s3">\&quot;</span><span class="s1">MAYBE_PARSE</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">MAYBE_PARSE_SYNC = </span><span class="s3">\&quot;</span><span class="s1">MAYBE_PARSE_SYNC</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export class Client {</span><span class="s3">\n  </span><span class="s1">#send;</span><span class="s3">\n\n  </span><span class="s1">constructor(send: Function) {</span><span class="s3">\n    </span><span class="s1">this.#send = send;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#vCache: string;</span><span class="s3">\n  </span><span class="s1">getVersion() {</span><span class="s3">\n    </span><span class="s1">return (this.#vCache ??= this.#send(ACTIONS.GET_VERSION, undefined));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#tiCache: any;</span><span class="s3">\n  </span><span class="s1">getTypesInfo() {</span><span class="s3">\n    </span><span class="s1">return (this.#tiCache ??= this.#send(ACTIONS.GET_TYPES_INFO, undefined));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#vkCache: any;</span><span class="s3">\n  </span><span class="s1">getVisitorKeys() {</span><span class="s3">\n    </span><span class="s1">return (this.#vkCache ??= this.#send(ACTIONS.GET_VISITOR_KEYS, undefined));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#tlCache: any;</span><span class="s3">\n  </span><span class="s1">getTokLabels() {</span><span class="s3">\n    </span><span class="s1">return (this.#tlCache ??= this.#send(ACTIONS.GET_TOKEN_LABELS, undefined));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">maybeParse(code: string, options: Options) {</span><span class="s3">\n    </span><span class="s1">return this.#send(ACTIONS.MAYBE_PARSE, { code, options });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// We need to run Babel in a worker for two reasons:</span><span class="s3">\n</span><span class="s1">// 1. ESLint workers must be CJS files, and this is a problem</span><span class="s3">\n</span><span class="s1">//    since Babel 8+ uses native ESM</span><span class="s3">\n</span><span class="s1">// 2. ESLint parsers must run synchronously, but many steps</span><span class="s3">\n</span><span class="s1">//    of Babel's config loading (which is done for each file)</span><span class="s3">\n</span><span class="s1">//    can be asynchronous</span><span class="s3">\n</span><span class="s1">// If ESLint starts supporting async parsers, we can move</span><span class="s3">\n</span><span class="s1">// everything back to the main thread.</span><span class="s3">\n</span><span class="s1">export class WorkerClient extends Client {</span><span class="s3">\n  </span><span class="s1">static #worker_threads_cache: typeof import(</span><span class="s3">\&quot;</span><span class="s1">worker_threads</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">static get #worker_threads() {</span><span class="s3">\n    </span><span class="s1">return (WorkerClient.#worker_threads_cache ??= require(</span><span class="s3">\&quot;</span><span class="s1">worker_threads</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">#worker = new WorkerClient.#worker_threads.Worker(</span><span class="s3">\n    </span><span class="s1">path.resolve(__dirname, </span><span class="s3">\&quot;</span><span class="s1">../lib/worker/index.cjs</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">{ env: WorkerClient.#worker_threads.SHARE_ENV },</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n\n  </span><span class="s1">constructor() {</span><span class="s3">\n    </span><span class="s1">super((action: ACTIONS, payload: any) =&gt; {</span><span class="s3">\n      </span><span class="s1">// We create a new SharedArrayBuffer every time rather than reusing</span><span class="s3">\n      </span><span class="s1">// the same one, otherwise sometimes its contents get corrupted and</span><span class="s3">\n      </span><span class="s1">// Atomics.wait wakes up too early.</span><span class="s3">\n      </span><span class="s1">// https://github.com/babel/babel/pull/14541</span><span class="s3">\n      </span><span class="s1">const signal = new Int32Array(new SharedArrayBuffer(8));</span><span class="s3">\n\n      </span><span class="s1">const subChannel = new WorkerClient.#worker_threads.MessageChannel();</span><span class="s3">\n\n      </span><span class="s1">this.#worker.postMessage(</span><span class="s3">\n        </span><span class="s1">{ signal, port: subChannel.port1, action, payload },</span><span class="s3">\n        </span><span class="s1">[subChannel.port1],</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">Atomics.wait(signal, 0, 0);</span><span class="s3">\n      </span><span class="s1">const { message } = WorkerClient.#worker_threads.receiveMessageOnPort(</span><span class="s3">\n        </span><span class="s1">subChannel.port2,</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">if (message.error) throw Object.assign(message.error, message.errorData);</span><span class="s3">\n      </span><span class="s1">else return message.result;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">// The worker will never exit by itself. Prevent it from keeping</span><span class="s3">\n    </span><span class="s1">// the main process alive.</span><span class="s3">\n    </span><span class="s1">this.#worker.unref();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">if (!USE_ESM) {</span><span class="s3">\n  </span><span class="s1">exports.LocalClient = class LocalClient extends Client {</span><span class="s3">\n    </span><span class="s1">static #handleMessage: Function;</span><span class="s3">\n\n    </span><span class="s1">constructor() {</span><span class="s3">\n      </span><span class="s1">LocalClient.#handleMessage ??= require(</span><span class="s3">\&quot;</span><span class="s1">./worker/handle-message.cjs</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n      </span><span class="s1">super((action: ACTIONS, payload: any) =&gt; {</span><span class="s3">\n        </span><span class="s1">return LocalClient.#handleMessage(</span><span class="s3">\n          </span><span class="s1">action === ACTIONS.MAYBE_PARSE ? ACTIONS.MAYBE_PARSE_SYNC : action,</span><span class="s3">\n          </span><span class="s1">payload,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>