<html>
<head>
<title>eslintrc.cjs.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
eslintrc.cjs.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;eslintrc.cjs&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../lib/config-array/ignore-pattern.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/config-array/extracted-config.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/config-array/config-array.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/config-array/config-dependency.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/config-array/override-tester.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/config-array/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/shared/config-ops.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/shared/deprecation-warnings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/shared/ajv.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../conf/config-schema.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../conf/environments.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/shared/config-validator.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/shared/naming.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/shared/relative-module-resolver.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/config-array-factory.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/cascading-config-array-factory.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/flat-compat.js&quot;</span><span class="s0">,</span><span class="s1">&quot;../lib/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `IgnorePattern` class.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `IgnorePattern` class has the set of glob patterns and the base path.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It provides two static methods.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `IgnorePattern.createDefaultIgnore(cwd)`</span><span class="s3">\n </span><span class="s1">*      Create the default predicate function.</span><span class="s3">\n </span><span class="s1">* - `IgnorePattern.createIgnore(ignorePatterns)`</span><span class="s3">\n </span><span class="s1">*      Create the predicate function from multiple `IgnorePattern` objects.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It provides two properties and a method.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `patterns`</span><span class="s3">\n </span><span class="s1">*      The glob patterns that ignore to lint.</span><span class="s3">\n </span><span class="s1">* - `basePath`</span><span class="s3">\n </span><span class="s1">*      The base path of the glob patterns. If absolute paths existed in the</span><span class="s3">\n </span><span class="s1">*      glob patterns, those are handled as relative paths to the base path.</span><span class="s3">\n </span><span class="s1">* - `getPatternsRelativeTo(basePath)`</span><span class="s3">\n </span><span class="s1">*      Get `patterns` as modified for a given base path. It modifies the</span><span class="s3">\n </span><span class="s1">*      absolute paths in the patterns as prepending the difference of two base</span><span class="s3">\n </span><span class="s1">*      paths.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArrayFactory` creates `IgnorePattern` objects when it processes</span><span class="s3">\n </span><span class="s1">* `ignorePatterns` properties.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import assert from </span><span class="s3">\&quot;</span><span class="s1">assert</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import path from </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ignore from </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import debugOrig from </span><span class="s3">\&quot;</span><span class="s1">debug</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const debug = debugOrig(</span><span class="s3">\&quot;</span><span class="s1">eslintrc:ignore-pattern</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">/** @typedef {ReturnType&lt;import(</span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">).default&gt;} Ignore */</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the path to the common ancestor directory of given paths.</span><span class="s3">\n </span><span class="s1">* @param {string[]} sourcePaths The paths to calculate the common ancestor.</span><span class="s3">\n </span><span class="s1">* @returns {string} The path to the common ancestor directory.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getCommonAncestorPath(sourcePaths) {</span><span class="s3">\n    </span><span class="s1">let result = sourcePaths[0];</span><span class="s3">\n\n    </span><span class="s1">for (let i = 1; i &lt; sourcePaths.length; ++i) {</span><span class="s3">\n        </span><span class="s1">const a = result;</span><span class="s3">\n        </span><span class="s1">const b = sourcePaths[i];</span><span class="s3">\n\n        </span><span class="s1">// Set the shorter one (it's the common ancestor if one includes the other).</span><span class="s3">\n        </span><span class="s1">result = a.length &lt; b.length ? a : b;</span><span class="s3">\n\n        </span><span class="s1">// Set the common ancestor.</span><span class="s3">\n        </span><span class="s1">for (let j = 0, lastSepPos = 0; j &lt; a.length &amp;&amp; j &lt; b.length; ++j) {</span><span class="s3">\n            </span><span class="s1">if (a[j] !== b[j]) {</span><span class="s3">\n                </span><span class="s1">result = a.slice(0, lastSepPos);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (a[j] === path.sep) {</span><span class="s3">\n                </span><span class="s1">lastSepPos = j;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">let resolvedResult = result || path.sep;</span><span class="s3">\n\n    </span><span class="s1">// if Windows common ancestor is root of drive must have trailing slash to be absolute.</span><span class="s3">\n    </span><span class="s1">if (resolvedResult &amp;&amp; resolvedResult.endsWith(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; process.platform === </span><span class="s3">\&quot;</span><span class="s1">win32</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">resolvedResult += path.sep;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return resolvedResult;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Make relative path.</span><span class="s3">\n </span><span class="s1">* @param {string} from The source path to get relative path.</span><span class="s3">\n </span><span class="s1">* @param {string} to The destination path to get relative path.</span><span class="s3">\n </span><span class="s1">* @returns {string} The relative path.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function relative(from, to) {</span><span class="s3">\n    </span><span class="s1">const relPath = path.relative(from, to);</span><span class="s3">\n\n    </span><span class="s1">if (path.sep === </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return relPath;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return relPath.split(path.sep).join(</span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the trailing slash if existed.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The path to check.</span><span class="s3">\n </span><span class="s1">* @returns {string} The trailing slash if existed.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function dirSuffix(filePath) {</span><span class="s3">\n    </span><span class="s1">const isDir = (</span><span class="s3">\n        </span><span class="s1">filePath.endsWith(path.sep) ||</span><span class="s3">\n        </span><span class="s1">(process.platform === </span><span class="s3">\&quot;</span><span class="s1">win32</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; filePath.endsWith(</span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">))</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">return isDir ? </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const DefaultPatterns = Object.freeze([</span><span class="s3">\&quot;</span><span class="s1">/**/node_modules/*</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">const DotPatterns = Object.freeze([</span><span class="s3">\&quot;</span><span class="s1">.*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">!.eslintrc.*</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">!../</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">class IgnorePattern {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The default patterns.</span><span class="s3">\n     </span><span class="s1">* @type {string[]}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static get DefaultPatterns() {</span><span class="s3">\n        </span><span class="s1">return DefaultPatterns;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create the default predicate function.</span><span class="s3">\n     </span><span class="s1">* @param {string} cwd The current working directory.</span><span class="s3">\n     </span><span class="s1">* @returns {((filePath:string, dot:boolean) =&gt; boolean) &amp; {basePath:string; patterns:string[]}}</span><span class="s3">\n     </span><span class="s1">* The preficate function.</span><span class="s3">\n     </span><span class="s1">* The first argument is an absolute path that is checked.</span><span class="s3">\n     </span><span class="s1">* The second argument is the flag to not ignore dotfiles.</span><span class="s3">\n     </span><span class="s1">* If the predicate function returned `true`, it means the path should be ignored.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static createDefaultIgnore(cwd) {</span><span class="s3">\n        </span><span class="s1">return this.createIgnore([new IgnorePattern(DefaultPatterns, cwd)]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create the predicate function from multiple `IgnorePattern` objects.</span><span class="s3">\n     </span><span class="s1">* @param {IgnorePattern[]} ignorePatterns The list of ignore patterns.</span><span class="s3">\n     </span><span class="s1">* @returns {((filePath:string, dot?:boolean) =&gt; boolean) &amp; {basePath:string; patterns:string[]}}</span><span class="s3">\n     </span><span class="s1">* The preficate function.</span><span class="s3">\n     </span><span class="s1">* The first argument is an absolute path that is checked.</span><span class="s3">\n     </span><span class="s1">* The second argument is the flag to not ignore dotfiles.</span><span class="s3">\n     </span><span class="s1">* If the predicate function returned `true`, it means the path should be ignored.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static createIgnore(ignorePatterns) {</span><span class="s3">\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Create with: %o</span><span class="s3">\&quot;</span><span class="s1">, ignorePatterns);</span><span class="s3">\n\n        </span><span class="s1">const basePath = getCommonAncestorPath(ignorePatterns.map(p =&gt; p.basePath));</span><span class="s3">\n        </span><span class="s1">const patterns = [].concat(</span><span class="s3">\n            </span><span class="s1">...ignorePatterns.map(p =&gt; p.getPatternsRelativeTo(basePath))</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const ig = ignore({ allowRelativePaths: true }).add([...DotPatterns, ...patterns]);</span><span class="s3">\n        </span><span class="s1">const dotIg = ignore({ allowRelativePaths: true }).add(patterns);</span><span class="s3">\n\n        </span><span class="s1">debug(</span><span class="s3">\&quot;  </span><span class="s1">processed: %o</span><span class="s3">\&quot;</span><span class="s1">, { basePath, patterns });</span><span class="s3">\n\n        </span><span class="s1">return Object.assign(</span><span class="s3">\n            </span><span class="s1">(filePath, dot = false) =&gt; {</span><span class="s3">\n                </span><span class="s1">assert(path.isAbsolute(filePath), </span><span class="s3">\&quot;</span><span class="s1">'filePath' should be an absolute path.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">const relPathRaw = relative(basePath, filePath);</span><span class="s3">\n                </span><span class="s1">const relPath = relPathRaw &amp;&amp; (relPathRaw + dirSuffix(filePath));</span><span class="s3">\n                </span><span class="s1">const adoptedIg = dot ? dotIg : ig;</span><span class="s3">\n                </span><span class="s1">const result = relPath !== </span><span class="s3">\&quot;\&quot; </span><span class="s1">&amp;&amp; adoptedIg.ignores(relPath);</span><span class="s3">\n\n                </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Check</span><span class="s3">\&quot;</span><span class="s1">, { filePath, dot, relativePath: relPath, result });</span><span class="s3">\n                </span><span class="s1">return result;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">{ basePath, patterns }</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize a new `IgnorePattern` instance.</span><span class="s3">\n     </span><span class="s1">* @param {string[]} patterns The glob patterns that ignore to lint.</span><span class="s3">\n     </span><span class="s1">* @param {string} basePath The base path of `patterns`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(patterns, basePath) {</span><span class="s3">\n        </span><span class="s1">assert(path.isAbsolute(basePath), </span><span class="s3">\&quot;</span><span class="s1">'basePath' should be an absolute path.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The glob patterns that ignore to lint.</span><span class="s3">\n         </span><span class="s1">* @type {string[]}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.patterns = patterns;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The base path of `patterns`.</span><span class="s3">\n         </span><span class="s1">* @type {string}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.basePath = basePath;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* If `true` then patterns which don't start with `/` will match the paths to the outside of `basePath`. Defaults to `false`.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* It's set `true` for `.eslintignore`, `package.json`, and `--ignore-path` for backward compatibility.</span><span class="s3">\n         </span><span class="s1">* It's `false` as-is for `ignorePatterns` property in config files.</span><span class="s3">\n         </span><span class="s1">* @type {boolean}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.loose = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get `patterns` as modified for a given base path. It modifies the</span><span class="s3">\n     </span><span class="s1">* absolute paths in the patterns as prepending the difference of two base</span><span class="s3">\n     </span><span class="s1">* paths.</span><span class="s3">\n     </span><span class="s1">* @param {string} newBasePath The base path.</span><span class="s3">\n     </span><span class="s1">* @returns {string[]} Modifired patterns.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getPatternsRelativeTo(newBasePath) {</span><span class="s3">\n        </span><span class="s1">assert(path.isAbsolute(newBasePath), </span><span class="s3">\&quot;</span><span class="s1">'newBasePath' should be an absolute path.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const { basePath, loose, patterns } = this;</span><span class="s3">\n\n        </span><span class="s1">if (newBasePath === basePath) {</span><span class="s3">\n            </span><span class="s1">return patterns;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const prefix = `/${relative(newBasePath, basePath)}`;</span><span class="s3">\n\n        </span><span class="s1">return patterns.map(pattern =&gt; {</span><span class="s3">\n            </span><span class="s1">const negative = pattern.startsWith(</span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">const head = negative ? </span><span class="s3">\&quot;</span><span class="s1">!</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">const body = negative ? pattern.slice(1) : pattern;</span><span class="s3">\n\n            </span><span class="s1">if (body.startsWith(</span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">) || body.startsWith(</span><span class="s3">\&quot;</span><span class="s1">../</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">return `${head}${prefix}${body}`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return loose ? pattern : `${head}${prefix}/**/${body}`;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { IgnorePattern };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `ExtractedConfig` class.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ExtractedConfig` class expresses a final configuration for a specific file.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It provides one method.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `toCompatibleObjectAsConfigFileContent()`</span><span class="s3">\n </span><span class="s1">*      Convert this configuration to the compatible object as the content of</span><span class="s3">\n </span><span class="s1">*      config files. It converts the loaded parser and plugins to strings.</span><span class="s3">\n </span><span class="s1">*      `CLIEngine#getConfigForFile(filePath)` method uses this method.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArray#extractConfig(filePath)` creates a `ExtractedConfig` instance.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import { IgnorePattern } from </span><span class="s3">\&quot;</span><span class="s1">./ignore-pattern.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// For VSCode intellisense</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).ConfigData} ConfigData */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).GlobalConf} GlobalConf */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).SeverityConf} SeverityConf */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./config-dependency</span><span class="s3">\&quot;</span><span class="s1">).DependentParser} DependentParser */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./config-dependency</span><span class="s3">\&quot;</span><span class="s1">).DependentPlugin} DependentPlugin */</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if `xs` starts with `ys`.</span><span class="s3">\n </span><span class="s1">* @template T</span><span class="s3">\n </span><span class="s1">* @param {T[]} xs The array to check.</span><span class="s3">\n </span><span class="s1">* @param {T[]} ys The array that may be the first part of `xs`.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} `true` if `xs` starts with `ys`.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function startsWith(xs, ys) {</span><span class="s3">\n    </span><span class="s1">return xs.length &gt;= ys.length &amp;&amp; ys.every((y, i) =&gt; y === xs[i]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class for extracted config data.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ExtractedConfig {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The config name what `noInlineConfig` setting came from.</span><span class="s3">\n         </span><span class="s1">* @type {string}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.configNameOfNoInlineConfig = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Environments.</span><span class="s3">\n         </span><span class="s1">* @type {Record&lt;string, boolean&gt;}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.env = {};</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Global variables.</span><span class="s3">\n         </span><span class="s1">* @type {Record&lt;string, GlobalConf&gt;}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.globals = {};</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The glob patterns that ignore to lint.</span><span class="s3">\n         </span><span class="s1">* @type {(((filePath:string, dot?:boolean) =&gt; boolean) &amp; { basePath:string; patterns:string[] }) | undefined}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.ignores = void 0;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The flag that disables directive comments.</span><span class="s3">\n         </span><span class="s1">* @type {boolean|undefined}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.noInlineConfig = void 0;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Parser definition.</span><span class="s3">\n         </span><span class="s1">* @type {DependentParser|null}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.parser = null;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Options for the parser.</span><span class="s3">\n         </span><span class="s1">* @type {Object}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.parserOptions = {};</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Plugin definitions.</span><span class="s3">\n         </span><span class="s1">* @type {Record&lt;string, DependentPlugin&gt;}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.plugins = {};</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Processor ID.</span><span class="s3">\n         </span><span class="s1">* @type {string|null}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.processor = null;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The flag that reports unused `eslint-disable` directive comments.</span><span class="s3">\n         </span><span class="s1">* @type {boolean|undefined}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.reportUnusedDisableDirectives = void 0;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Rule settings.</span><span class="s3">\n         </span><span class="s1">* @type {Record&lt;string, [SeverityConf, ...any[]]&gt;}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.rules = {};</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Shared settings.</span><span class="s3">\n         </span><span class="s1">* @type {Object}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.settings = {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Convert this config to the compatible object as a config file content.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigData} The converted object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toCompatibleObjectAsConfigFileContent() {</span><span class="s3">\n        </span><span class="s1">const {</span><span class="s3">\n            </span><span class="s1">/* eslint-disable no-unused-vars */</span><span class="s3">\n            </span><span class="s1">configNameOfNoInlineConfig: _ignore1,</span><span class="s3">\n            </span><span class="s1">processor: _ignore2,</span><span class="s3">\n            </span><span class="s1">/* eslint-enable no-unused-vars */</span><span class="s3">\n            </span><span class="s1">ignores,</span><span class="s3">\n            </span><span class="s1">...config</span><span class="s3">\n        </span><span class="s1">} = this;</span><span class="s3">\n\n        </span><span class="s1">config.parser = config.parser &amp;&amp; config.parser.filePath;</span><span class="s3">\n        </span><span class="s1">config.plugins = Object.keys(config.plugins).filter(Boolean).reverse();</span><span class="s3">\n        </span><span class="s1">config.ignorePatterns = ignores ? ignores.patterns : [];</span><span class="s3">\n\n        </span><span class="s1">// Strip the default patterns from `ignorePatterns`.</span><span class="s3">\n        </span><span class="s1">if (startsWith(config.ignorePatterns, IgnorePattern.DefaultPatterns)) {</span><span class="s3">\n            </span><span class="s1">config.ignorePatterns =</span><span class="s3">\n                </span><span class="s1">config.ignorePatterns.slice(IgnorePattern.DefaultPatterns.length);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return config;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { ExtractedConfig };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `ConfigArray` class.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArray` class expresses the full of a configuration. It has the entry</span><span class="s3">\n </span><span class="s1">* config file, base config files that were extended, loaded parsers, and loaded</span><span class="s3">\n </span><span class="s1">* plugins.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArray` class provides three properties and two methods.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `pluginEnvironments`</span><span class="s3">\n </span><span class="s1">* - `pluginProcessors`</span><span class="s3">\n </span><span class="s1">* - `pluginRules`</span><span class="s3">\n </span><span class="s1">*      The `Map` objects that contain the members of all plugins that this</span><span class="s3">\n </span><span class="s1">*      config array contains. Those map objects don't have mutation methods.</span><span class="s3">\n </span><span class="s1">*      Those keys are the member ID such as `pluginId/memberName`.</span><span class="s3">\n </span><span class="s1">* - `isRoot()`</span><span class="s3">\n </span><span class="s1">*      If `true` then this configuration has `root:true` property.</span><span class="s3">\n </span><span class="s1">* - `extractConfig(filePath)`</span><span class="s3">\n </span><span class="s1">*      Extract the final configuration for a given file. This means merging</span><span class="s3">\n </span><span class="s1">*      every config array element which that `criteria` property matched. The</span><span class="s3">\n </span><span class="s1">*      `filePath` argument must be an absolute path.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArrayFactory` provides the loading logic of config files.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import { ExtractedConfig } from </span><span class="s3">\&quot;</span><span class="s1">./extracted-config.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { IgnorePattern } from </span><span class="s3">\&quot;</span><span class="s1">./ignore-pattern.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">// Define types for VSCode IntelliSense.</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Environment} Environment */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).GlobalConf} GlobalConf */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).RuleConf} RuleConf */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Rule} Rule */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Plugin} Plugin */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Processor} Processor */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./config-dependency</span><span class="s3">\&quot;</span><span class="s1">).DependentParser} DependentParser */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./config-dependency</span><span class="s3">\&quot;</span><span class="s1">).DependentPlugin} DependentPlugin */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./override-tester</span><span class="s3">\&quot;</span><span class="s1">)[</span><span class="s3">\&quot;</span><span class="s1">OverrideTester</span><span class="s3">\&quot;</span><span class="s1">]} OverrideTester */</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} ConfigArrayElement</span><span class="s3">\n </span><span class="s1">* @property {string} name The name of this config element.</span><span class="s3">\n </span><span class="s1">* @property {string} filePath The path to the source file of this config element.</span><span class="s3">\n </span><span class="s1">* @property {InstanceType&lt;OverrideTester&gt;|null} criteria The tester for the `files` and `excludedFiles` of this config element.</span><span class="s3">\n </span><span class="s1">* @property {Record&lt;string, boolean&gt;|undefined} env The environment settings.</span><span class="s3">\n </span><span class="s1">* @property {Record&lt;string, GlobalConf&gt;|undefined} globals The global variable settings.</span><span class="s3">\n </span><span class="s1">* @property {IgnorePattern|undefined} ignorePattern The ignore patterns.</span><span class="s3">\n </span><span class="s1">* @property {boolean|undefined} noInlineConfig The flag that disables directive comments.</span><span class="s3">\n </span><span class="s1">* @property {DependentParser|undefined} parser The parser loader.</span><span class="s3">\n </span><span class="s1">* @property {Object|undefined} parserOptions The parser options.</span><span class="s3">\n </span><span class="s1">* @property {Record&lt;string, DependentPlugin&gt;|undefined} plugins The plugin loaders.</span><span class="s3">\n </span><span class="s1">* @property {string|undefined} processor The processor name to refer plugin's processor.</span><span class="s3">\n </span><span class="s1">* @property {boolean|undefined} reportUnusedDisableDirectives The flag to report unused `eslint-disable` comments.</span><span class="s3">\n </span><span class="s1">* @property {boolean|undefined} root The flag to express root.</span><span class="s3">\n </span><span class="s1">* @property {Record&lt;string, RuleConf&gt;|undefined} rules The rule settings</span><span class="s3">\n </span><span class="s1">* @property {Object|undefined} settings The shared settings.</span><span class="s3">\n </span><span class="s1">* @property {</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot;</span><span class="s1">} type The element type.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} ConfigArrayInternalSlots</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string, ExtractedConfig&gt;} cache The cache to extract configs.</span><span class="s3">\n </span><span class="s1">* @property {ReadonlyMap&lt;string, Environment&gt;|null} envMap The map from environment ID to environment definition.</span><span class="s3">\n </span><span class="s1">* @property {ReadonlyMap&lt;string, Processor&gt;|null} processorMap The map from processor ID to environment definition.</span><span class="s3">\n </span><span class="s1">* @property {ReadonlyMap&lt;string, Rule&gt;|null} ruleMap The map from rule ID to rule definition.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/** @type {WeakMap&lt;ConfigArray, ConfigArrayInternalSlots&gt;} */</span><span class="s3">\n</span><span class="s1">const internalSlotsMap = new class extends WeakMap {</span><span class="s3">\n    </span><span class="s1">get(key) {</span><span class="s3">\n        </span><span class="s1">let value = super.get(key);</span><span class="s3">\n\n        </span><span class="s1">if (!value) {</span><span class="s3">\n            </span><span class="s1">value = {</span><span class="s3">\n                </span><span class="s1">cache: new Map(),</span><span class="s3">\n                </span><span class="s1">envMap: null,</span><span class="s3">\n                </span><span class="s1">processorMap: null,</span><span class="s3">\n                </span><span class="s1">ruleMap: null</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">super.set(key, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}();</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the indices which are matched to a given file.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArrayElement[]} elements The elements.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The path to a target file.</span><span class="s3">\n </span><span class="s1">* @returns {number[]} The indices.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getMatchedIndices(elements, filePath) {</span><span class="s3">\n    </span><span class="s1">const indices = [];</span><span class="s3">\n\n    </span><span class="s1">for (let i = elements.length - 1; i &gt;= 0; --i) {</span><span class="s3">\n        </span><span class="s1">const element = elements[i];</span><span class="s3">\n\n        </span><span class="s1">if (!element.criteria || (filePath &amp;&amp; element.criteria.test(filePath))) {</span><span class="s3">\n            </span><span class="s1">indices.push(i);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return indices;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if a value is a non-null object.</span><span class="s3">\n </span><span class="s1">* @param {any} x The value to check.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} `true` if the value is a non-null object.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isNonNullObject(x) {</span><span class="s3">\n    </span><span class="s1">return typeof x === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; x !== null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Merge two objects.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Assign every property values of `y` to `x` if `x` doesn't have the property.</span><span class="s3">\n </span><span class="s1">* If `x`'s property value is an object, it does recursive.</span><span class="s3">\n </span><span class="s1">* @param {Object} target The destination to merge</span><span class="s3">\n </span><span class="s1">* @param {Object|undefined} source The source to merge.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mergeWithoutOverwrite(target, source) {</span><span class="s3">\n    </span><span class="s1">if (!isNonNullObject(source)) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (const key of Object.keys(source)) {</span><span class="s3">\n        </span><span class="s1">if (key === </span><span class="s3">\&quot;</span><span class="s1">__proto__</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (isNonNullObject(target[key])) {</span><span class="s3">\n            </span><span class="s1">mergeWithoutOverwrite(target[key], source[key]);</span><span class="s3">\n        </span><span class="s1">} else if (target[key] === void 0) {</span><span class="s3">\n            </span><span class="s1">if (isNonNullObject(source[key])) {</span><span class="s3">\n                </span><span class="s1">target[key] = Array.isArray(source[key]) ? [] : {};</span><span class="s3">\n                </span><span class="s1">mergeWithoutOverwrite(target[key], source[key]);</span><span class="s3">\n            </span><span class="s1">} else if (source[key] !== void 0) {</span><span class="s3">\n                </span><span class="s1">target[key] = source[key];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The error for plugin conflicts.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class PluginConflictError extends Error {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize this error object.</span><span class="s3">\n     </span><span class="s1">* @param {string} pluginId The plugin ID.</span><span class="s3">\n     </span><span class="s1">* @param {{filePath:string, importerName:string}[]} plugins The resolved plugins.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(pluginId, plugins) {</span><span class="s3">\n        </span><span class="s1">super(`Plugin </span><span class="s3">\&quot;</span><span class="s1">${pluginId}</span><span class="s3">\&quot; </span><span class="s1">was conflicted between ${plugins.map(p =&gt; `</span><span class="s3">\&quot;</span><span class="s1">${p.importerName}</span><span class="s3">\&quot;</span><span class="s1">`).join(</span><span class="s3">\&quot; </span><span class="s1">and </span><span class="s3">\&quot;</span><span class="s1">)}.`);</span><span class="s3">\n        </span><span class="s1">this.messageTemplate = </span><span class="s3">\&quot;</span><span class="s1">plugin-conflict</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.messageData = { pluginId, plugins };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Merge plugins.</span><span class="s3">\n </span><span class="s1">* `target`'s definition is prior to `source`'s.</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string, DependentPlugin&gt;} target The destination to merge</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string, DependentPlugin&gt;|undefined} source The source to merge.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mergePlugins(target, source) {</span><span class="s3">\n    </span><span class="s1">if (!isNonNullObject(source)) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (const key of Object.keys(source)) {</span><span class="s3">\n        </span><span class="s1">if (key === </span><span class="s3">\&quot;</span><span class="s1">__proto__</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const targetValue = target[key];</span><span class="s3">\n        </span><span class="s1">const sourceValue = source[key];</span><span class="s3">\n\n        </span><span class="s1">// Adopt the plugin which was found at first.</span><span class="s3">\n        </span><span class="s1">if (targetValue === void 0) {</span><span class="s3">\n            </span><span class="s1">if (sourceValue.error) {</span><span class="s3">\n                </span><span class="s1">throw sourceValue.error;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">target[key] = sourceValue;</span><span class="s3">\n        </span><span class="s1">} else if (sourceValue.filePath !== targetValue.filePath) {</span><span class="s3">\n            </span><span class="s1">throw new PluginConflictError(key, [</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">filePath: targetValue.filePath,</span><span class="s3">\n                    </span><span class="s1">importerName: targetValue.importerName</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">filePath: sourceValue.filePath,</span><span class="s3">\n                    </span><span class="s1">importerName: sourceValue.importerName</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Merge rule configs.</span><span class="s3">\n </span><span class="s1">* `target`'s definition is prior to `source`'s.</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string, Array&gt;} target The destination to merge</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string, RuleConf&gt;|undefined} source The source to merge.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function mergeRuleConfigs(target, source) {</span><span class="s3">\n    </span><span class="s1">if (!isNonNullObject(source)) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">for (const key of Object.keys(source)) {</span><span class="s3">\n        </span><span class="s1">if (key === </span><span class="s3">\&quot;</span><span class="s1">__proto__</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const targetDef = target[key];</span><span class="s3">\n        </span><span class="s1">const sourceDef = source[key];</span><span class="s3">\n\n        </span><span class="s1">// Adopt the rule config which was found at first.</span><span class="s3">\n        </span><span class="s1">if (targetDef === void 0) {</span><span class="s3">\n            </span><span class="s1">if (Array.isArray(sourceDef)) {</span><span class="s3">\n                </span><span class="s1">target[key] = [...sourceDef];</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n                </span><span class="s1">target[key] = [sourceDef];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">/*</span><span class="s3">\n         </span><span class="s1">* If the first found rule config is severity only and the current rule</span><span class="s3">\n         </span><span class="s1">* config has options, merge the severity and the options.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">} else if (</span><span class="s3">\n            </span><span class="s1">targetDef.length === 1 &amp;&amp;</span><span class="s3">\n            </span><span class="s1">Array.isArray(sourceDef) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">sourceDef.length &gt;= 2</span><span class="s3">\n        </span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">targetDef.push(...sourceDef.slice(1));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create the extracted config.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArray} instance The config elements.</span><span class="s3">\n </span><span class="s1">* @param {number[]} indices The indices to use.</span><span class="s3">\n </span><span class="s1">* @returns {ExtractedConfig} The extracted config.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createConfig(instance, indices) {</span><span class="s3">\n    </span><span class="s1">const config = new ExtractedConfig();</span><span class="s3">\n    </span><span class="s1">const ignorePatterns = [];</span><span class="s3">\n\n    </span><span class="s1">// Merge elements.</span><span class="s3">\n    </span><span class="s1">for (const index of indices) {</span><span class="s3">\n        </span><span class="s1">const element = instance[index];</span><span class="s3">\n\n        </span><span class="s1">// Adopt the parser which was found at first.</span><span class="s3">\n        </span><span class="s1">if (!config.parser &amp;&amp; element.parser) {</span><span class="s3">\n            </span><span class="s1">if (element.parser.error) {</span><span class="s3">\n                </span><span class="s1">throw element.parser.error;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">config.parser = element.parser;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Adopt the processor which was found at first.</span><span class="s3">\n        </span><span class="s1">if (!config.processor &amp;&amp; element.processor) {</span><span class="s3">\n            </span><span class="s1">config.processor = element.processor;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Adopt the noInlineConfig which was found at first.</span><span class="s3">\n        </span><span class="s1">if (config.noInlineConfig === void 0 &amp;&amp; element.noInlineConfig !== void 0) {</span><span class="s3">\n            </span><span class="s1">config.noInlineConfig = element.noInlineConfig;</span><span class="s3">\n            </span><span class="s1">config.configNameOfNoInlineConfig = element.name;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Adopt the reportUnusedDisableDirectives which was found at first.</span><span class="s3">\n        </span><span class="s1">if (config.reportUnusedDisableDirectives === void 0 &amp;&amp; element.reportUnusedDisableDirectives !== void 0) {</span><span class="s3">\n            </span><span class="s1">config.reportUnusedDisableDirectives = element.reportUnusedDisableDirectives;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Collect ignorePatterns</span><span class="s3">\n        </span><span class="s1">if (element.ignorePattern) {</span><span class="s3">\n            </span><span class="s1">ignorePatterns.push(element.ignorePattern);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Merge others.</span><span class="s3">\n        </span><span class="s1">mergeWithoutOverwrite(config.env, element.env);</span><span class="s3">\n        </span><span class="s1">mergeWithoutOverwrite(config.globals, element.globals);</span><span class="s3">\n        </span><span class="s1">mergeWithoutOverwrite(config.parserOptions, element.parserOptions);</span><span class="s3">\n        </span><span class="s1">mergeWithoutOverwrite(config.settings, element.settings);</span><span class="s3">\n        </span><span class="s1">mergePlugins(config.plugins, element.plugins);</span><span class="s3">\n        </span><span class="s1">mergeRuleConfigs(config.rules, element.rules);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Create the predicate function for ignore patterns.</span><span class="s3">\n    </span><span class="s1">if (ignorePatterns.length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">config.ignores = IgnorePattern.createIgnore(ignorePatterns.reverse());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return config;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Collect definitions.</span><span class="s3">\n </span><span class="s1">* @template T, U</span><span class="s3">\n </span><span class="s1">* @param {string} pluginId The plugin ID for prefix.</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string,T&gt;} defs The definitions to collect.</span><span class="s3">\n </span><span class="s1">* @param {Map&lt;string, U&gt;} map The map to output.</span><span class="s3">\n </span><span class="s1">* @param {function(T): U} [normalize] The normalize function for each value.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function collect(pluginId, defs, map, normalize) {</span><span class="s3">\n    </span><span class="s1">if (defs) {</span><span class="s3">\n        </span><span class="s1">const prefix = pluginId &amp;&amp; `${pluginId}/`;</span><span class="s3">\n\n        </span><span class="s1">for (const [key, value] of Object.entries(defs)) {</span><span class="s3">\n            </span><span class="s1">map.set(</span><span class="s3">\n                </span><span class="s1">`${prefix}${key}`,</span><span class="s3">\n                </span><span class="s1">normalize ? normalize(value) : value</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Normalize a rule definition.</span><span class="s3">\n </span><span class="s1">* @param {Function|Rule} rule The rule definition to normalize.</span><span class="s3">\n </span><span class="s1">* @returns {Rule} The normalized rule definition.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function normalizePluginRule(rule) {</span><span class="s3">\n    </span><span class="s1">return typeof rule === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? { create: rule } : rule;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Delete the mutation methods from a given map.</span><span class="s3">\n </span><span class="s1">* @param {Map&lt;any, any&gt;} map The map object to delete.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function deleteMutationMethods(map) {</span><span class="s3">\n    </span><span class="s1">Object.defineProperties(map, {</span><span class="s3">\n        </span><span class="s1">clear: { configurable: true, value: void 0 },</span><span class="s3">\n        </span><span class="s1">delete: { configurable: true, value: void 0 },</span><span class="s3">\n        </span><span class="s1">set: { configurable: true, value: void 0 }</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create `envMap`, `processorMap`, `ruleMap` with the plugins in the config array.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArrayElement[]} elements The config elements.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArrayInternalSlots} slots The internal slots.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function initPluginMemberMaps(elements, slots) {</span><span class="s3">\n    </span><span class="s1">const processed = new Set();</span><span class="s3">\n\n    </span><span class="s1">slots.envMap = new Map();</span><span class="s3">\n    </span><span class="s1">slots.processorMap = new Map();</span><span class="s3">\n    </span><span class="s1">slots.ruleMap = new Map();</span><span class="s3">\n\n    </span><span class="s1">for (const element of elements) {</span><span class="s3">\n        </span><span class="s1">if (!element.plugins) {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">for (const [pluginId, value] of Object.entries(element.plugins)) {</span><span class="s3">\n            </span><span class="s1">const plugin = value.definition;</span><span class="s3">\n\n            </span><span class="s1">if (!plugin || processed.has(pluginId)) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">processed.add(pluginId);</span><span class="s3">\n\n            </span><span class="s1">collect(pluginId, plugin.environments, slots.envMap);</span><span class="s3">\n            </span><span class="s1">collect(pluginId, plugin.processors, slots.processorMap);</span><span class="s3">\n            </span><span class="s1">collect(pluginId, plugin.rules, slots.ruleMap, normalizePluginRule);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">deleteMutationMethods(slots.envMap);</span><span class="s3">\n    </span><span class="s1">deleteMutationMethods(slots.processorMap);</span><span class="s3">\n    </span><span class="s1">deleteMutationMethods(slots.ruleMap);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create `envMap`, `processorMap`, `ruleMap` with the plugins in the config array.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArray} instance The config elements.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigArrayInternalSlots} The extracted config.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function ensurePluginMemberMaps(instance) {</span><span class="s3">\n    </span><span class="s1">const slots = internalSlotsMap.get(instance);</span><span class="s3">\n\n    </span><span class="s1">if (!slots.ruleMap) {</span><span class="s3">\n        </span><span class="s1">initPluginMemberMaps(instance, slots);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return slots;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The Config Array.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArray` instance contains all settings, parsers, and plugins.</span><span class="s3">\n </span><span class="s1">* You need to call `ConfigArray#extractConfig(filePath)` method in order to</span><span class="s3">\n </span><span class="s1">* extract, merge and get only the config data which is related to an arbitrary</span><span class="s3">\n </span><span class="s1">* file.</span><span class="s3">\n </span><span class="s1">* @extends {Array&lt;ConfigArrayElement&gt;}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ConfigArray extends Array {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the plugin environments.</span><span class="s3">\n     </span><span class="s1">* The returned map cannot be mutated.</span><span class="s3">\n     </span><span class="s1">* @type {ReadonlyMap&lt;string, Environment&gt;} The plugin environments.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get pluginEnvironments() {</span><span class="s3">\n        </span><span class="s1">return ensurePluginMemberMaps(this).envMap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the plugin processors.</span><span class="s3">\n     </span><span class="s1">* The returned map cannot be mutated.</span><span class="s3">\n     </span><span class="s1">* @type {ReadonlyMap&lt;string, Processor&gt;} The plugin processors.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get pluginProcessors() {</span><span class="s3">\n        </span><span class="s1">return ensurePluginMemberMaps(this).processorMap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the plugin rules.</span><span class="s3">\n     </span><span class="s1">* The returned map cannot be mutated.</span><span class="s3">\n     </span><span class="s1">* @returns {ReadonlyMap&lt;string, Rule&gt;} The plugin rules.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get pluginRules() {</span><span class="s3">\n        </span><span class="s1">return ensurePluginMemberMaps(this).ruleMap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Check if this config has `root` flag.</span><span class="s3">\n     </span><span class="s1">* @returns {boolean} `true` if this config array is root.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">isRoot() {</span><span class="s3">\n        </span><span class="s1">for (let i = this.length - 1; i &gt;= 0; --i) {</span><span class="s3">\n            </span><span class="s1">const root = this[i].root;</span><span class="s3">\n\n            </span><span class="s1">if (typeof root === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return root;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Extract the config data which is related to a given file.</span><span class="s3">\n     </span><span class="s1">* @param {string} filePath The absolute path to the target file.</span><span class="s3">\n     </span><span class="s1">* @returns {ExtractedConfig} The extracted config data.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">extractConfig(filePath) {</span><span class="s3">\n        </span><span class="s1">const { cache } = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const indices = getMatchedIndices(this, filePath);</span><span class="s3">\n        </span><span class="s1">const cacheKey = indices.join(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (!cache.has(cacheKey)) {</span><span class="s3">\n            </span><span class="s1">cache.set(cacheKey, createConfig(this, indices));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return cache.get(cacheKey);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Check if a given path is an additional lint target.</span><span class="s3">\n     </span><span class="s1">* @param {string} filePath The absolute path to the target file.</span><span class="s3">\n     </span><span class="s1">* @returns {boolean} `true` if the file is an additional lint target.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">isAdditionalTargetPath(filePath) {</span><span class="s3">\n        </span><span class="s1">for (const { criteria, type } of this) {</span><span class="s3">\n            </span><span class="s1">if (</span><span class="s3">\n                </span><span class="s1">type === </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n                </span><span class="s1">criteria &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!criteria.endsWithWildcard &amp;&amp;</span><span class="s3">\n                </span><span class="s1">criteria.test(filePath)</span><span class="s3">\n            </span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the used extracted configs.</span><span class="s3">\n </span><span class="s1">* CLIEngine will use this method to collect used deprecated rules.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArray} instance The config array object to get.</span><span class="s3">\n </span><span class="s1">* @returns {ExtractedConfig[]} The used extracted configs.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getUsedExtractedConfigs(instance) {</span><span class="s3">\n    </span><span class="s1">const { cache } = internalSlotsMap.get(instance);</span><span class="s3">\n\n    </span><span class="s1">return Array.from(cache.values());</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n\n</span><span class="s1">export {</span><span class="s3">\n    </span><span class="s1">ConfigArray,</span><span class="s3">\n    </span><span class="s1">getUsedExtractedConfigs</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `ConfigDependency` class.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigDependency` class expresses a loaded parser or plugin.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* If the parser or plugin was loaded successfully, it has `definition` property</span><span class="s3">\n </span><span class="s1">* and `filePath` property. Otherwise, it has `error` property.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* When `JSON.stringify()` converted a `ConfigDependency` object to a JSON, it</span><span class="s3">\n </span><span class="s1">* omits `definition` property.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArrayFactory` creates `ConfigDependency` objects when it loads parsers</span><span class="s3">\n </span><span class="s1">* or plugins.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import util from </span><span class="s3">\&quot;</span><span class="s1">util</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class is to store parsers or plugins.</span><span class="s3">\n </span><span class="s1">* This class hides the loaded object from `JSON.stringify()` and `console.log`.</span><span class="s3">\n </span><span class="s1">* @template T</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ConfigDependency {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize this instance.</span><span class="s3">\n     </span><span class="s1">* @param {Object} data The dependency data.</span><span class="s3">\n     </span><span class="s1">* @param {T} [data.definition] The dependency if the loading succeeded.</span><span class="s3">\n     </span><span class="s1">* @param {T} [data.original] The original, non-normalized dependency if the loading succeeded.</span><span class="s3">\n     </span><span class="s1">* @param {Error} [data.error] The error object if the loading failed.</span><span class="s3">\n     </span><span class="s1">* @param {string} [data.filePath] The actual path to the dependency if the loading succeeded.</span><span class="s3">\n     </span><span class="s1">* @param {string} data.id The ID of this dependency.</span><span class="s3">\n     </span><span class="s1">* @param {string} data.importerName The name of the config file which loads this dependency.</span><span class="s3">\n     </span><span class="s1">* @param {string} data.importerPath The path to the config file which loads this dependency.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor({</span><span class="s3">\n        </span><span class="s1">definition = null,</span><span class="s3">\n        </span><span class="s1">original = null,</span><span class="s3">\n        </span><span class="s1">error = null,</span><span class="s3">\n        </span><span class="s1">filePath = null,</span><span class="s3">\n        </span><span class="s1">id,</span><span class="s3">\n        </span><span class="s1">importerName,</span><span class="s3">\n        </span><span class="s1">importerPath</span><span class="s3">\n    </span><span class="s1">}) {</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The loaded dependency if the loading succeeded.</span><span class="s3">\n         </span><span class="s1">* @type {T|null}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.definition = definition;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The original dependency as loaded directly from disk if the loading succeeded.</span><span class="s3">\n         </span><span class="s1">* @type {T|null}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.original = original;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The error object if the loading failed.</span><span class="s3">\n         </span><span class="s1">* @type {Error|null}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.error = error;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The loaded dependency if the loading succeeded.</span><span class="s3">\n         </span><span class="s1">* @type {string|null}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.filePath = filePath;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The ID of this dependency.</span><span class="s3">\n         </span><span class="s1">* @type {string}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.id = id;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The name of the config file which loads this dependency.</span><span class="s3">\n         </span><span class="s1">* @type {string}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.importerName = importerName;</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The path to the config file which loads this dependency.</span><span class="s3">\n         </span><span class="s1">* @type {string}</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.importerPath = importerPath;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// eslint-disable-next-line jsdoc/require-description</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @returns {Object} a JSON compatible object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toJSON() {</span><span class="s3">\n        </span><span class="s1">const obj = this[util.inspect.custom]();</span><span class="s3">\n\n        </span><span class="s1">// Display `error.message` (`Error#message` is unenumerable).</span><span class="s3">\n        </span><span class="s1">if (obj.error instanceof Error) {</span><span class="s3">\n            </span><span class="s1">obj.error = { ...obj.error, message: obj.error.message };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return obj;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// eslint-disable-next-line jsdoc/require-description</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @returns {Object} an object to display by `console.log()`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">[util.inspect.custom]() {</span><span class="s3">\n        </span><span class="s1">const {</span><span class="s3">\n            </span><span class="s1">definition: _ignore1, // eslint-disable-line no-unused-vars</span><span class="s3">\n            </span><span class="s1">original: _ignore2, // eslint-disable-line no-unused-vars</span><span class="s3">\n            </span><span class="s1">...obj</span><span class="s3">\n        </span><span class="s1">} = this;</span><span class="s3">\n\n        </span><span class="s1">return obj;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/** @typedef {ConfigDependency&lt;import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Parser&gt;} DependentParser */</span><span class="s3">\n</span><span class="s1">/** @typedef {ConfigDependency&lt;import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Plugin&gt;} DependentPlugin */</span><span class="s3">\n\n</span><span class="s1">export { ConfigDependency };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `OverrideTester` class.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `OverrideTester` class handles `files` property and `excludedFiles` property</span><span class="s3">\n </span><span class="s1">* of `overrides` config.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It provides one method.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `test(filePath)`</span><span class="s3">\n </span><span class="s1">*      Test if a file path matches the pair of `files` property and</span><span class="s3">\n </span><span class="s1">*      `excludedFiles` property. The `filePath` argument must be an absolute</span><span class="s3">\n </span><span class="s1">*      path.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArrayFactory` creates `OverrideTester` objects when it processes</span><span class="s3">\n </span><span class="s1">* `overrides` properties.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import assert from </span><span class="s3">\&quot;</span><span class="s1">assert</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import path from </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import util from </span><span class="s3">\&quot;</span><span class="s1">util</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import minimatch from </span><span class="s3">\&quot;</span><span class="s1">minimatch</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const { Minimatch } = minimatch;</span><span class="s3">\n\n</span><span class="s1">const minimatchOpts = { dot: true, matchBase: true };</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} Pattern</span><span class="s3">\n </span><span class="s1">* @property {InstanceType&lt;Minimatch&gt;[] | null} includes The positive matchers.</span><span class="s3">\n </span><span class="s1">* @property {InstanceType&lt;Minimatch&gt;[] | null} excludes The negative matchers.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Normalize a given pattern to an array.</span><span class="s3">\n </span><span class="s1">* @param {string|string[]|undefined} patterns A glob pattern or an array of glob patterns.</span><span class="s3">\n </span><span class="s1">* @returns {string[]|null} Normalized patterns.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function normalizePatterns(patterns) {</span><span class="s3">\n    </span><span class="s1">if (Array.isArray(patterns)) {</span><span class="s3">\n        </span><span class="s1">return patterns.filter(Boolean);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof patterns === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; patterns) {</span><span class="s3">\n        </span><span class="s1">return [patterns];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return [];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create the matchers of given patterns.</span><span class="s3">\n </span><span class="s1">* @param {string[]} patterns The patterns.</span><span class="s3">\n </span><span class="s1">* @returns {InstanceType&lt;Minimatch&gt;[] | null} The matchers.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function toMatcher(patterns) {</span><span class="s3">\n    </span><span class="s1">if (patterns.length === 0) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return patterns.map(pattern =&gt; {</span><span class="s3">\n        </span><span class="s1">if (/^</span><span class="s3">\\</span><span class="s1">.[/</span><span class="s3">\\\\</span><span class="s1">]/u.test(pattern)) {</span><span class="s3">\n            </span><span class="s1">return new Minimatch(</span><span class="s3">\n                </span><span class="s1">pattern.slice(2),</span><span class="s3">\n\n                </span><span class="s1">// `./*.js` should not match with `subdir/foo.js`</span><span class="s3">\n                </span><span class="s1">{ ...minimatchOpts, matchBase: false }</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new Minimatch(pattern, minimatchOpts);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert a given matcher to string.</span><span class="s3">\n </span><span class="s1">* @param {Pattern} matchers The matchers.</span><span class="s3">\n </span><span class="s1">* @returns {string} The string expression of the matcher.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function patternToJson({ includes, excludes }) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">includes: includes &amp;&amp; includes.map(m =&gt; m.pattern),</span><span class="s3">\n        </span><span class="s1">excludes: excludes &amp;&amp; excludes.map(m =&gt; m.pattern)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The class to test given paths are matched by the patterns.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class OverrideTester {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create a tester with given criteria.</span><span class="s3">\n     </span><span class="s1">* If there are no criteria, returns `null`.</span><span class="s3">\n     </span><span class="s1">* @param {string|string[]} files The glob patterns for included files.</span><span class="s3">\n     </span><span class="s1">* @param {string|string[]} excludedFiles The glob patterns for excluded files.</span><span class="s3">\n     </span><span class="s1">* @param {string} basePath The path to the base directory to test paths.</span><span class="s3">\n     </span><span class="s1">* @returns {OverrideTester|null} The created instance or `null`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static create(files, excludedFiles, basePath) {</span><span class="s3">\n        </span><span class="s1">const includePatterns = normalizePatterns(files);</span><span class="s3">\n        </span><span class="s1">const excludePatterns = normalizePatterns(excludedFiles);</span><span class="s3">\n        </span><span class="s1">let endsWithWildcard = false;</span><span class="s3">\n\n        </span><span class="s1">if (includePatterns.length === 0) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Rejects absolute paths or relative paths to parents.</span><span class="s3">\n        </span><span class="s1">for (const pattern of includePatterns) {</span><span class="s3">\n            </span><span class="s1">if (path.isAbsolute(pattern) || pattern.includes(</span><span class="s3">\&quot;</span><span class="s1">..</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">throw new Error(`Invalid override pattern (expected relative path not containing '..'): ${pattern}`);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (pattern.endsWith(</span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">endsWithWildcard = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">for (const pattern of excludePatterns) {</span><span class="s3">\n            </span><span class="s1">if (path.isAbsolute(pattern) || pattern.includes(</span><span class="s3">\&quot;</span><span class="s1">..</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">throw new Error(`Invalid override pattern (expected relative path not containing '..'): ${pattern}`);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const includes = toMatcher(includePatterns);</span><span class="s3">\n        </span><span class="s1">const excludes = toMatcher(excludePatterns);</span><span class="s3">\n\n        </span><span class="s1">return new OverrideTester(</span><span class="s3">\n            </span><span class="s1">[{ includes, excludes }],</span><span class="s3">\n            </span><span class="s1">basePath,</span><span class="s3">\n            </span><span class="s1">endsWithWildcard</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Combine two testers by logical and.</span><span class="s3">\n     </span><span class="s1">* If either of the testers was `null`, returns the other tester.</span><span class="s3">\n     </span><span class="s1">* The `basePath` property of the two must be the same value.</span><span class="s3">\n     </span><span class="s1">* @param {OverrideTester|null} a A tester.</span><span class="s3">\n     </span><span class="s1">* @param {OverrideTester|null} b Another tester.</span><span class="s3">\n     </span><span class="s1">* @returns {OverrideTester|null} Combined tester.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static and(a, b) {</span><span class="s3">\n        </span><span class="s1">if (!b) {</span><span class="s3">\n            </span><span class="s1">return a &amp;&amp; new OverrideTester(</span><span class="s3">\n                </span><span class="s1">a.patterns,</span><span class="s3">\n                </span><span class="s1">a.basePath,</span><span class="s3">\n                </span><span class="s1">a.endsWithWildcard</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!a) {</span><span class="s3">\n            </span><span class="s1">return new OverrideTester(</span><span class="s3">\n                </span><span class="s1">b.patterns,</span><span class="s3">\n                </span><span class="s1">b.basePath,</span><span class="s3">\n                </span><span class="s1">b.endsWithWildcard</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">assert.strictEqual(a.basePath, b.basePath);</span><span class="s3">\n        </span><span class="s1">return new OverrideTester(</span><span class="s3">\n            </span><span class="s1">a.patterns.concat(b.patterns),</span><span class="s3">\n            </span><span class="s1">a.basePath,</span><span class="s3">\n            </span><span class="s1">a.endsWithWildcard || b.endsWithWildcard</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize this instance.</span><span class="s3">\n     </span><span class="s1">* @param {Pattern[]} patterns The matchers.</span><span class="s3">\n     </span><span class="s1">* @param {string} basePath The base path.</span><span class="s3">\n     </span><span class="s1">* @param {boolean} endsWithWildcard If `true` then a pattern ends with `*`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(patterns, basePath, endsWithWildcard = false) {</span><span class="s3">\n\n        </span><span class="s1">/** @type {Pattern[]} */</span><span class="s3">\n        </span><span class="s1">this.patterns = patterns;</span><span class="s3">\n\n        </span><span class="s1">/** @type {string} */</span><span class="s3">\n        </span><span class="s1">this.basePath = basePath;</span><span class="s3">\n\n        </span><span class="s1">/** @type {boolean} */</span><span class="s3">\n        </span><span class="s1">this.endsWithWildcard = endsWithWildcard;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Test if a given path is matched or not.</span><span class="s3">\n     </span><span class="s1">* @param {string} filePath The absolute path to the target file.</span><span class="s3">\n     </span><span class="s1">* @returns {boolean} `true` if the path was matched.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">test(filePath) {</span><span class="s3">\n        </span><span class="s1">if (typeof filePath !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">|| !path.isAbsolute(filePath)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`'filePath' should be an absolute path, but got ${filePath}.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const relativePath = path.relative(this.basePath, filePath);</span><span class="s3">\n\n        </span><span class="s1">return this.patterns.every(({ includes, excludes }) =&gt; (</span><span class="s3">\n            </span><span class="s1">(!includes || includes.some(m =&gt; m.match(relativePath))) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">(!excludes || !excludes.some(m =&gt; m.match(relativePath)))</span><span class="s3">\n        </span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// eslint-disable-next-line jsdoc/require-description</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @returns {Object} a JSON compatible object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toJSON() {</span><span class="s3">\n        </span><span class="s1">if (this.patterns.length === 1) {</span><span class="s3">\n            </span><span class="s1">return {</span><span class="s3">\n                </span><span class="s1">...patternToJson(this.patterns[0]),</span><span class="s3">\n                </span><span class="s1">basePath: this.basePath</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">AND: this.patterns.map(patternToJson),</span><span class="s3">\n            </span><span class="s1">basePath: this.basePath</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// eslint-disable-next-line jsdoc/require-description</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @returns {Object} an object to display by `console.log()`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">[util.inspect.custom]() {</span><span class="s3">\n        </span><span class="s1">return this.toJSON();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { OverrideTester };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `ConfigArray` class.</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import { ConfigArray, getUsedExtractedConfigs } from </span><span class="s3">\&quot;</span><span class="s1">./config-array.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ConfigDependency } from </span><span class="s3">\&quot;</span><span class="s1">./config-dependency.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ExtractedConfig } from </span><span class="s3">\&quot;</span><span class="s1">./extracted-config.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { IgnorePattern } from </span><span class="s3">\&quot;</span><span class="s1">./ignore-pattern.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { OverrideTester } from </span><span class="s3">\&quot;</span><span class="s1">./override-tester.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n    </span><span class="s1">ConfigArray,</span><span class="s3">\n    </span><span class="s1">ConfigDependency,</span><span class="s3">\n    </span><span class="s1">ExtractedConfig,</span><span class="s3">\n    </span><span class="s1">IgnorePattern,</span><span class="s3">\n    </span><span class="s1">OverrideTester,</span><span class="s3">\n    </span><span class="s1">getUsedExtractedConfigs</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Config file operations. This file must be usable in the browser,</span><span class="s3">\n </span><span class="s1">* so no Node-specific code can be here.</span><span class="s3">\n </span><span class="s1">* @author Nicholas C. Zakas</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Private</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">const RULE_SEVERITY_STRINGS = [</span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">RULE_SEVERITY = RULE_SEVERITY_STRINGS.reduce((map, value, index) =&gt; {</span><span class="s3">\n        </span><span class="s1">map[value] = index;</span><span class="s3">\n        </span><span class="s1">return map;</span><span class="s3">\n    </span><span class="s1">}, {}),</span><span class="s3">\n    </span><span class="s1">VALID_SEVERITIES = [0, 1, 2, </span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Normalizes the severity value of a rule's configuration to a number</span><span class="s3">\n </span><span class="s1">* @param {(number|string|[number, ...*]|[string, ...*])} ruleConfig A rule's configuration value, generally</span><span class="s3">\n </span><span class="s1">* received from the user. A valid config value is either 0, 1, 2, the string </span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot; </span><span class="s1">(treated the same as 0),</span><span class="s3">\n </span><span class="s1">* the string </span><span class="s3">\&quot;</span><span class="s1">warn</span><span class="s3">\&quot; </span><span class="s1">(treated the same as 1), the string </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot; </span><span class="s1">(treated the same as 2), or an array</span><span class="s3">\n </span><span class="s1">* whose first element is one of the above values. Strings are matched case-insensitively.</span><span class="s3">\n </span><span class="s1">* @returns {(0|1|2)} The numeric severity value if the config value was valid, otherwise 0.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getRuleSeverity(ruleConfig) {</span><span class="s3">\n    </span><span class="s1">const severityValue = Array.isArray(ruleConfig) ? ruleConfig[0] : ruleConfig;</span><span class="s3">\n\n    </span><span class="s1">if (severityValue === 0 || severityValue === 1 || severityValue === 2) {</span><span class="s3">\n        </span><span class="s1">return severityValue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (typeof severityValue === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return RULE_SEVERITY[severityValue.toLowerCase()] || 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts old-style severity settings (0, 1, 2) into new-style</span><span class="s3">\n </span><span class="s1">* severity settings (off, warn, error) for all rules. Assumption is that severity</span><span class="s3">\n </span><span class="s1">* values have already been validated as correct.</span><span class="s3">\n </span><span class="s1">* @param {Object} config The config object to normalize.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function normalizeToStrings(config) {</span><span class="s3">\n\n    </span><span class="s1">if (config.rules) {</span><span class="s3">\n        </span><span class="s1">Object.keys(config.rules).forEach(ruleId =&gt; {</span><span class="s3">\n            </span><span class="s1">const ruleConfig = config.rules[ruleId];</span><span class="s3">\n\n            </span><span class="s1">if (typeof ruleConfig === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">config.rules[ruleId] = RULE_SEVERITY_STRINGS[ruleConfig] || RULE_SEVERITY_STRINGS[0];</span><span class="s3">\n            </span><span class="s1">} else if (Array.isArray(ruleConfig) &amp;&amp; typeof ruleConfig[0] === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">ruleConfig[0] = RULE_SEVERITY_STRINGS[ruleConfig[0]] || RULE_SEVERITY_STRINGS[0];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines if the severity for the given rule configuration represents an error.</span><span class="s3">\n </span><span class="s1">* @param {int|string|Array} ruleConfig The configuration for an individual rule.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} True if the rule represents an error, false if not.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isErrorSeverity(ruleConfig) {</span><span class="s3">\n    </span><span class="s1">return getRuleSeverity(ruleConfig) === 2;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks whether a given config has valid severity or not.</span><span class="s3">\n </span><span class="s1">* @param {number|string|Array} ruleConfig The configuration for an individual rule.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} `true` if the configuration has valid severity.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isValidSeverity(ruleConfig) {</span><span class="s3">\n    </span><span class="s1">let severity = Array.isArray(ruleConfig) ? ruleConfig[0] : ruleConfig;</span><span class="s3">\n\n    </span><span class="s1">if (typeof severity === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">severity = severity.toLowerCase();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return VALID_SEVERITIES.indexOf(severity) !== -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checks whether every rule of a given config has valid severity or not.</span><span class="s3">\n </span><span class="s1">* @param {Object} config The configuration for rules.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} `true` if the configuration has valid severity.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isEverySeverityValid(config) {</span><span class="s3">\n    </span><span class="s1">return Object.keys(config).every(ruleId =&gt; isValidSeverity(config[ruleId]));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Normalizes a value for a global in a config</span><span class="s3">\n </span><span class="s1">* @param {(boolean|string|null)} configuredValue The value given for a global in configuration or in</span><span class="s3">\n </span><span class="s1">* a global directive comment</span><span class="s3">\n </span><span class="s1">* @returns {(</span><span class="s3">\&quot;</span><span class="s1">readable</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">writeable</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;</span><span class="s1">)} The value normalized as a string</span><span class="s3">\n </span><span class="s1">* @throws Error if global value is invalid</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function normalizeConfigGlobal(configuredValue) {</span><span class="s3">\n    </span><span class="s1">switch (configuredValue) {</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n        </span><span class="s1">case true:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">writeable</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">writable</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">writable</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n        </span><span class="s1">case null:</span><span class="s3">\n        </span><span class="s1">case false:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">readable</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n        </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">throw new Error(`'${configuredValue}' is not a valid configuration for a global (use 'readonly', 'writable', or 'off')`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n    </span><span class="s1">getRuleSeverity,</span><span class="s3">\n    </span><span class="s1">normalizeToStrings,</span><span class="s3">\n    </span><span class="s1">isErrorSeverity,</span><span class="s3">\n    </span><span class="s1">isValidSeverity,</span><span class="s3">\n    </span><span class="s1">isEverySeverityValid,</span><span class="s3">\n    </span><span class="s1">normalizeConfigGlobal</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Provide the function that emits deprecation warnings.</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;http://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import path from </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Private</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">// Defitions for deprecation warnings.</span><span class="s3">\n</span><span class="s1">const deprecationWarningMessages = {</span><span class="s3">\n    </span><span class="s1">ESLINT_LEGACY_ECMAFEATURES:</span><span class="s3">\n        \&quot;</span><span class="s1">The 'ecmaFeatures' config file property is deprecated and has no effect.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">ESLINT_PERSONAL_CONFIG_LOAD:</span><span class="s3">\n        \&quot;</span><span class="s1">'~/.eslintrc.*' config files have been deprecated. </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        \&quot;</span><span class="s1">Please use a config file per project or the '--config' option.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">ESLINT_PERSONAL_CONFIG_SUPPRESS:</span><span class="s3">\n        \&quot;</span><span class="s1">'~/.eslintrc.*' config files have been deprecated. </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        \&quot;</span><span class="s1">Please remove it or add 'root:true' to the config files in your </span><span class="s3">\&quot; </span><span class="s1">+</span><span class="s3">\n        \&quot;</span><span class="s1">projects in order to avoid loading '~/.eslintrc.*' accidentally.</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const sourceFileErrorCache = new Set();</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Emits a deprecation warning containing a given filepath. A new deprecation warning is emitted</span><span class="s3">\n </span><span class="s1">* for each unique file path, but repeated invocations with the same file path have no effect.</span><span class="s3">\n </span><span class="s1">* No warnings are emitted if the `--no-deprecation` or `--no-warnings` Node runtime flags are active.</span><span class="s3">\n </span><span class="s1">* @param {string} source The name of the configuration source to report the warning for.</span><span class="s3">\n </span><span class="s1">* @param {string} errorCode The warning message to show.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function emitDeprecationWarning(source, errorCode) {</span><span class="s3">\n    </span><span class="s1">const cacheKey = JSON.stringify({ source, errorCode });</span><span class="s3">\n\n    </span><span class="s1">if (sourceFileErrorCache.has(cacheKey)) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sourceFileErrorCache.add(cacheKey);</span><span class="s3">\n\n    </span><span class="s1">const rel = path.relative(process.cwd(), source);</span><span class="s3">\n    </span><span class="s1">const message = deprecationWarningMessages[errorCode];</span><span class="s3">\n\n    </span><span class="s1">process.emitWarning(</span><span class="s3">\n        </span><span class="s1">`${message} (found in </span><span class="s3">\&quot;</span><span class="s1">${rel}</span><span class="s3">\&quot;</span><span class="s1">)`,</span><span class="s3">\n        \&quot;</span><span class="s1">DeprecationWarning</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">errorCode</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n    </span><span class="s1">emitDeprecationWarning</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview The instance of Ajv validator.</span><span class="s3">\n </span><span class="s1">* @author Evgeny Poberezkin</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import Ajv from </span><span class="s3">\&quot;</span><span class="s1">ajv</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/*</span><span class="s3">\n </span><span class="s1">* Copied from ajv/lib/refs/json-schema-draft-04.json</span><span class="s3">\n </span><span class="s1">* The MIT License (MIT)</span><span class="s3">\n </span><span class="s1">* Copyright (c) 2015-2017 Evgeny Poberezkin</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const metaSchema = {</span><span class="s3">\n    </span><span class="s1">id: </span><span class="s3">\&quot;</span><span class="s1">http://json-schema.org/draft-04/schema#</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">$schema: </span><span class="s3">\&quot;</span><span class="s1">http://json-schema.org/draft-04/schema#</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">description: </span><span class="s3">\&quot;</span><span class="s1">Core schema meta-schema</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">definitions: {</span><span class="s3">\n        </span><span class="s1">schemaArray: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">minItems: 1,</span><span class="s3">\n            </span><span class="s1">items: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">positiveInteger: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">integer</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">minimum: 0</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">positiveIntegerDefault0: {</span><span class="s3">\n            </span><span class="s1">allOf: [{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveInteger</span><span class="s3">\&quot; </span><span class="s1">}, { default: 0 }]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">simpleTypes: {</span><span class="s3">\n            </span><span class="s1">enum: [</span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">integer</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">null</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">stringArray: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">items: { type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">minItems: 1,</span><span class="s3">\n            </span><span class="s1">uniqueItems: true</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">properties: {</span><span class="s3">\n        </span><span class="s1">id: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">$schema: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">title: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">description: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">default: { },</span><span class="s3">\n        </span><span class="s1">multipleOf: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">minimum: 0,</span><span class="s3">\n            </span><span class="s1">exclusiveMinimum: true</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">maximum: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">exclusiveMaximum: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">default: false</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">minimum: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">exclusiveMinimum: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">default: false</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">maxLength: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveInteger</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">minLength: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveIntegerDefault0</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">pattern: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">format: </span><span class="s3">\&quot;</span><span class="s1">regex</span><span class="s3">\&quot;\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">additionalItems: {</span><span class="s3">\n            </span><span class="s1">anyOf: [</span><span class="s3">\n                </span><span class="s1">{ type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">],</span><span class="s3">\n            </span><span class="s1">default: { }</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">items: {</span><span class="s3">\n            </span><span class="s1">anyOf: [</span><span class="s3">\n                </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/schemaArray</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">],</span><span class="s3">\n            </span><span class="s1">default: { }</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">maxItems: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveInteger</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">minItems: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveIntegerDefault0</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">uniqueItems: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">default: false</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">maxProperties: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveInteger</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">minProperties: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/positiveIntegerDefault0</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">required: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/stringArray</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">additionalProperties: {</span><span class="s3">\n            </span><span class="s1">anyOf: [</span><span class="s3">\n                </span><span class="s1">{ type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">],</span><span class="s3">\n            </span><span class="s1">default: { }</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">definitions: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">additionalProperties: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">default: { }</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">properties: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">additionalProperties: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">default: { }</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">patternProperties: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">additionalProperties: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">default: { }</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">dependencies: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">additionalProperties: {</span><span class="s3">\n                </span><span class="s1">anyOf: [</span><span class="s3">\n                    </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                    </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/stringArray</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">]</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">enum: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">minItems: 1,</span><span class="s3">\n            </span><span class="s1">uniqueItems: true</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">type: {</span><span class="s3">\n            </span><span class="s1">anyOf: [</span><span class="s3">\n                </span><span class="s1">{ $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/simpleTypes</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">items: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/simpleTypes</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                    </span><span class="s1">minItems: 1,</span><span class="s3">\n                    </span><span class="s1">uniqueItems: true</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">format: { type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">allOf: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/schemaArray</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">anyOf: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/schemaArray</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">oneOf: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/schemaArray</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">not: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">dependencies: {</span><span class="s3">\n        </span><span class="s1">exclusiveMaximum: [</span><span class="s3">\&quot;</span><span class="s1">maximum</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n        </span><span class="s1">exclusiveMinimum: [</span><span class="s3">\&quot;</span><span class="s1">minimum</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">default: { }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">export default (additionalOptions = {}) =&gt; {</span><span class="s3">\n    </span><span class="s1">const ajv = new Ajv({</span><span class="s3">\n        </span><span class="s1">meta: false,</span><span class="s3">\n        </span><span class="s1">useDefaults: true,</span><span class="s3">\n        </span><span class="s1">validateSchema: false,</span><span class="s3">\n        </span><span class="s1">missingRefs: </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">verbose: true,</span><span class="s3">\n        </span><span class="s1">schemaId: </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">...additionalOptions</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">ajv.addMetaSchema(metaSchema);</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line no-underscore-dangle</span><span class="s3">\n    </span><span class="s1">ajv._opts.defaultMeta = metaSchema.id;</span><span class="s3">\n\n    </span><span class="s1">return ajv;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Defines a schema for configs.</span><span class="s3">\n </span><span class="s1">* @author Sylvan Mably</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">const baseConfigProperties = {</span><span class="s3">\n    </span><span class="s1">$schema: { type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">env: { type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">extends: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/stringOrStrings</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">globals: { type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">overrides: {</span><span class="s3">\n        </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">items: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/overrideConfig</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">additionalItems: false</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">parser: { type: [</span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">null</span><span class="s3">\&quot;</span><span class="s1">] },</span><span class="s3">\n    </span><span class="s1">parserOptions: { type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">plugins: { type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">processor: { type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">rules: { type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">settings: { type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">noInlineConfig: { type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">reportUnusedDisableDirectives: { type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n\n    </span><span class="s1">ecmaFeatures: { type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">} // deprecated; logs a warning when used</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const configSchema = {</span><span class="s3">\n    </span><span class="s1">definitions: {</span><span class="s3">\n        </span><span class="s1">stringOrStrings: {</span><span class="s3">\n            </span><span class="s1">oneOf: [</span><span class="s3">\n                </span><span class="s1">{ type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">items: { type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                    </span><span class="s1">additionalItems: false</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">stringOrStringsRequired: {</span><span class="s3">\n            </span><span class="s1">oneOf: [</span><span class="s3">\n                </span><span class="s1">{ type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">items: { type: </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                    </span><span class="s1">additionalItems: false,</span><span class="s3">\n                    </span><span class="s1">minItems: 1</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">]</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n\n        </span><span class="s1">// Config at top-level.</span><span class="s3">\n        </span><span class="s1">objectConfig: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">properties: {</span><span class="s3">\n                </span><span class="s1">root: { type: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">ignorePatterns: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/stringOrStrings</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">...baseConfigProperties</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">additionalProperties: false</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n\n        </span><span class="s1">// Config in `overrides`.</span><span class="s3">\n        </span><span class="s1">overrideConfig: {</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">properties: {</span><span class="s3">\n                </span><span class="s1">excludedFiles: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/stringOrStrings</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">files: { $ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/stringOrStringsRequired</span><span class="s3">\&quot; </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">...baseConfigProperties</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">required: [</span><span class="s3">\&quot;</span><span class="s1">files</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n            </span><span class="s1">additionalProperties: false</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n\n    </span><span class="s1">$ref: </span><span class="s3">\&quot;</span><span class="s1">#/definitions/objectConfig</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default configSchema;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Defines environment settings and globals.</span><span class="s3">\n </span><span class="s1">* @author Elan Shanker</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import globals from </span><span class="s3">\&quot;</span><span class="s1">globals</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the object that has difference.</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string,boolean&gt;} current The newer object.</span><span class="s3">\n </span><span class="s1">* @param {Record&lt;string,boolean&gt;} prev The older object.</span><span class="s3">\n </span><span class="s1">* @returns {Record&lt;string,boolean&gt;} The difference object.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getDiff(current, prev) {</span><span class="s3">\n    </span><span class="s1">const retv = {};</span><span class="s3">\n\n    </span><span class="s1">for (const [key, value] of Object.entries(current)) {</span><span class="s3">\n        </span><span class="s1">if (!Object.hasOwnProperty.call(prev, key)) {</span><span class="s3">\n            </span><span class="s1">retv[key] = value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return retv;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const newGlobals2015 = getDiff(globals.es2015, globals.es5); // 19 variables such as Promise, Map, ...</span><span class="s3">\n</span><span class="s1">const newGlobals2017 = {</span><span class="s3">\n    </span><span class="s1">Atomics: false,</span><span class="s3">\n    </span><span class="s1">SharedArrayBuffer: false</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const newGlobals2020 = {</span><span class="s3">\n    </span><span class="s1">BigInt: false,</span><span class="s3">\n    </span><span class="s1">BigInt64Array: false,</span><span class="s3">\n    </span><span class="s1">BigUint64Array: false,</span><span class="s3">\n    </span><span class="s1">globalThis: false</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const newGlobals2021 = {</span><span class="s3">\n    </span><span class="s1">AggregateError: false,</span><span class="s3">\n    </span><span class="s1">FinalizationRegistry: false,</span><span class="s3">\n    </span><span class="s1">WeakRef: false</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/** @type {Map&lt;string, import(</span><span class="s3">\&quot;</span><span class="s1">../lib/shared/types</span><span class="s3">\&quot;</span><span class="s1">).Environment&gt;} */</span><span class="s3">\n</span><span class="s1">export default new Map(Object.entries({</span><span class="s3">\n\n    </span><span class="s1">// Language</span><span class="s3">\n    </span><span class="s1">builtin: {</span><span class="s3">\n        </span><span class="s1">globals: globals.es5</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es6: {</span><span class="s3">\n        </span><span class="s1">globals: newGlobals2015,</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 6</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2015: {</span><span class="s3">\n        </span><span class="s1">globals: newGlobals2015,</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 6</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2016: {</span><span class="s3">\n        </span><span class="s1">globals: newGlobals2015,</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 7</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2017: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 8</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2018: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 9</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2019: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 10</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2020: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017, ...newGlobals2020 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 11</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2021: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017, ...newGlobals2020, ...newGlobals2021 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 12</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2022: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017, ...newGlobals2020, ...newGlobals2021 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 13</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2023: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017, ...newGlobals2020, ...newGlobals2021 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 14</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">es2024: {</span><span class="s3">\n        </span><span class="s1">globals: { ...newGlobals2015, ...newGlobals2017, ...newGlobals2020, ...newGlobals2021 },</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaVersion: 15</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n\n    </span><span class="s1">// Platforms</span><span class="s3">\n    </span><span class="s1">browser: {</span><span class="s3">\n        </span><span class="s1">globals: globals.browser</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">node: {</span><span class="s3">\n        </span><span class="s1">globals: globals.node,</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaFeatures: {</span><span class="s3">\n                </span><span class="s1">globalReturn: true</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    \&quot;</span><span class="s1">shared-node-browser</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n        </span><span class="s1">globals: globals[</span><span class="s3">\&quot;</span><span class="s1">shared-node-browser</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">worker: {</span><span class="s3">\n        </span><span class="s1">globals: globals.worker</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">serviceworker: {</span><span class="s3">\n        </span><span class="s1">globals: globals.serviceworker</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n\n    </span><span class="s1">// Frameworks</span><span class="s3">\n    </span><span class="s1">commonjs: {</span><span class="s3">\n        </span><span class="s1">globals: globals.commonjs,</span><span class="s3">\n        </span><span class="s1">parserOptions: {</span><span class="s3">\n            </span><span class="s1">ecmaFeatures: {</span><span class="s3">\n                </span><span class="s1">globalReturn: true</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">amd: {</span><span class="s3">\n        </span><span class="s1">globals: globals.amd</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mocha: {</span><span class="s3">\n        </span><span class="s1">globals: globals.mocha</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">jasmine: {</span><span class="s3">\n        </span><span class="s1">globals: globals.jasmine</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">jest: {</span><span class="s3">\n        </span><span class="s1">globals: globals.jest</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">phantomjs: {</span><span class="s3">\n        </span><span class="s1">globals: globals.phantomjs</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">jquery: {</span><span class="s3">\n        </span><span class="s1">globals: globals.jquery</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">qunit: {</span><span class="s3">\n        </span><span class="s1">globals: globals.qunit</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">prototypejs: {</span><span class="s3">\n        </span><span class="s1">globals: globals.prototypejs</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">shelljs: {</span><span class="s3">\n        </span><span class="s1">globals: globals.shelljs</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">meteor: {</span><span class="s3">\n        </span><span class="s1">globals: globals.meteor</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mongo: {</span><span class="s3">\n        </span><span class="s1">globals: globals.mongo</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">protractor: {</span><span class="s3">\n        </span><span class="s1">globals: globals.protractor</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">applescript: {</span><span class="s3">\n        </span><span class="s1">globals: globals.applescript</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">nashorn: {</span><span class="s3">\n        </span><span class="s1">globals: globals.nashorn</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">atomtest: {</span><span class="s3">\n        </span><span class="s1">globals: globals.atomtest</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">embertest: {</span><span class="s3">\n        </span><span class="s1">globals: globals.embertest</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">webextensions: {</span><span class="s3">\n        </span><span class="s1">globals: globals.webextensions</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">greasemonkey: {</span><span class="s3">\n        </span><span class="s1">globals: globals.greasemonkey</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Validates configs.</span><span class="s3">\n </span><span class="s1">* @author Brandon Mills</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/* eslint class-methods-use-this: </span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot; </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import util from </span><span class="s3">\&quot;</span><span class="s1">util</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import * as ConfigOps from </span><span class="s3">\&quot;</span><span class="s1">./config-ops.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { emitDeprecationWarning } from </span><span class="s3">\&quot;</span><span class="s1">./deprecation-warnings.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ajvOrig from </span><span class="s3">\&quot;</span><span class="s1">./ajv.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import configSchema from </span><span class="s3">\&quot;</span><span class="s1">../../conf/config-schema.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import BuiltInEnvironments from </span><span class="s3">\&quot;</span><span class="s1">../../conf/environments.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const ajv = ajvOrig();</span><span class="s3">\n\n</span><span class="s1">const ruleValidators = new WeakMap();</span><span class="s3">\n</span><span class="s1">const noop = Function.prototype;</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Private</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">let validateSchema;</span><span class="s3">\n</span><span class="s1">const severityMap = {</span><span class="s3">\n    </span><span class="s1">error: 2,</span><span class="s3">\n    </span><span class="s1">warn: 1,</span><span class="s3">\n    </span><span class="s1">off: 0</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const validated = new WeakSet();</span><span class="s3">\n\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Exports</span><span class="s3">\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">export default class ConfigValidator {</span><span class="s3">\n    </span><span class="s1">constructor({ builtInRules = new Map() } = {}) {</span><span class="s3">\n        </span><span class="s1">this.builtInRules = builtInRules;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets a complete options schema for a rule.</span><span class="s3">\n     </span><span class="s1">* @param {{create: Function, schema: (Array|null)}} rule A new-style rule object</span><span class="s3">\n     </span><span class="s1">* @returns {Object} JSON Schema for the rule's options.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getRuleOptionsSchema(rule) {</span><span class="s3">\n        </span><span class="s1">if (!rule) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const schema = rule.schema || rule.meta &amp;&amp; rule.meta.schema;</span><span class="s3">\n\n        </span><span class="s1">// Given a tuple of schemas, insert warning level at the beginning</span><span class="s3">\n        </span><span class="s1">if (Array.isArray(schema)) {</span><span class="s3">\n            </span><span class="s1">if (schema.length) {</span><span class="s3">\n                </span><span class="s1">return {</span><span class="s3">\n                    </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">items: schema,</span><span class="s3">\n                    </span><span class="s1">minItems: 0,</span><span class="s3">\n                    </span><span class="s1">maxItems: schema.length</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return {</span><span class="s3">\n                </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                </span><span class="s1">minItems: 0,</span><span class="s3">\n                </span><span class="s1">maxItems: 0</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Given a full schema, leave it alone</span><span class="s3">\n        </span><span class="s1">return schema || null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates a rule's severity and returns the severity value. Throws an error if the severity is invalid.</span><span class="s3">\n     </span><span class="s1">* @param {options} options The given options for the rule.</span><span class="s3">\n     </span><span class="s1">* @returns {number|string} The rule's severity value</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateRuleSeverity(options) {</span><span class="s3">\n        </span><span class="s1">const severity = Array.isArray(options) ? options[0] : options;</span><span class="s3">\n        </span><span class="s1">const normSeverity = typeof severity === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? severityMap[severity.toLowerCase()] : severity;</span><span class="s3">\n\n        </span><span class="s1">if (normSeverity === 0 || normSeverity === 1 || normSeverity === 2) {</span><span class="s3">\n            </span><span class="s1">return normSeverity;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">throw new Error(`</span><span class="s3">\\</span><span class="s1">tSeverity should be one of the following: 0 = off, 1 = warn, 2 = error (you passed '${util.inspect(severity).replace(/'/gu, </span><span class="s3">\&quot;\\\&quot;\&quot;</span><span class="s1">).replace(/</span><span class="s3">\\</span><span class="s1">n/gu, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}').</span><span class="s3">\\</span><span class="s1">n`);</span><span class="s3">\n\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates the non-severity options passed to a rule, based on its schema.</span><span class="s3">\n     </span><span class="s1">* @param {{create: Function}} rule The rule to validate</span><span class="s3">\n     </span><span class="s1">* @param {Array} localOptions The options for the rule, excluding severity</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateRuleSchema(rule, localOptions) {</span><span class="s3">\n        </span><span class="s1">if (!ruleValidators.has(rule)) {</span><span class="s3">\n            </span><span class="s1">const schema = this.getRuleOptionsSchema(rule);</span><span class="s3">\n\n            </span><span class="s1">if (schema) {</span><span class="s3">\n                </span><span class="s1">ruleValidators.set(rule, ajv.compile(schema));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const validateRule = ruleValidators.get(rule);</span><span class="s3">\n\n        </span><span class="s1">if (validateRule) {</span><span class="s3">\n            </span><span class="s1">validateRule(localOptions);</span><span class="s3">\n            </span><span class="s1">if (validateRule.errors) {</span><span class="s3">\n                </span><span class="s1">throw new Error(validateRule.errors.map(</span><span class="s3">\n                    </span><span class="s1">error =&gt; `</span><span class="s3">\\</span><span class="s1">tValue ${JSON.stringify(error.data)} ${error.message}.</span><span class="s3">\\</span><span class="s1">n`</span><span class="s3">\n                </span><span class="s1">).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates a rule's options against its schema.</span><span class="s3">\n     </span><span class="s1">* @param {{create: Function}|null} rule The rule that the config is being validated for</span><span class="s3">\n     </span><span class="s1">* @param {string} ruleId The rule's unique name.</span><span class="s3">\n     </span><span class="s1">* @param {Array|number} options The given options for the rule.</span><span class="s3">\n     </span><span class="s1">* @param {string|null} source The name of the configuration source to report in any errors. If null or undefined,</span><span class="s3">\n     </span><span class="s1">* no source is prepended to the message.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateRuleOptions(rule, ruleId, options, source = null) {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">const severity = this.validateRuleSeverity(options);</span><span class="s3">\n\n            </span><span class="s1">if (severity !== 0) {</span><span class="s3">\n                </span><span class="s1">this.validateRuleSchema(rule, Array.isArray(options) ? options.slice(1) : []);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} catch (err) {</span><span class="s3">\n            </span><span class="s1">const enhancedMessage = `Configuration for rule </span><span class="s3">\&quot;</span><span class="s1">${ruleId}</span><span class="s3">\&quot; </span><span class="s1">is invalid:</span><span class="s3">\\</span><span class="s1">n${err.message}`;</span><span class="s3">\n\n            </span><span class="s1">if (typeof source === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">throw new Error(`${source}:</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">t${enhancedMessage}`);</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n                </span><span class="s1">throw new Error(enhancedMessage);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates an environment object</span><span class="s3">\n     </span><span class="s1">* @param {Object} environment The environment config object to validate.</span><span class="s3">\n     </span><span class="s1">* @param {string} source The name of the configuration source to report in any errors.</span><span class="s3">\n     </span><span class="s1">* @param {function(envId:string): Object} [getAdditionalEnv] A map from strings to loaded environments.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateEnvironment(</span><span class="s3">\n        </span><span class="s1">environment,</span><span class="s3">\n        </span><span class="s1">source,</span><span class="s3">\n        </span><span class="s1">getAdditionalEnv = noop</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n\n        </span><span class="s1">// not having an environment is ok</span><span class="s3">\n        </span><span class="s1">if (!environment) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">Object.keys(environment).forEach(id =&gt; {</span><span class="s3">\n            </span><span class="s1">const env = getAdditionalEnv(id) || BuiltInEnvironments.get(id) || null;</span><span class="s3">\n\n            </span><span class="s1">if (!env) {</span><span class="s3">\n                </span><span class="s1">const message = `${source}:</span><span class="s3">\\</span><span class="s1">n</span><span class="s3">\\</span><span class="s1">tEnvironment key </span><span class="s3">\&quot;</span><span class="s1">${id}</span><span class="s3">\&quot; </span><span class="s1">is unknown</span><span class="s3">\\</span><span class="s1">n`;</span><span class="s3">\n\n                </span><span class="s1">throw new Error(message);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates a rules config object</span><span class="s3">\n     </span><span class="s1">* @param {Object} rulesConfig The rules config object to validate.</span><span class="s3">\n     </span><span class="s1">* @param {string} source The name of the configuration source to report in any errors.</span><span class="s3">\n     </span><span class="s1">* @param {function(ruleId:string): Object} getAdditionalRule A map from strings to loaded rules</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateRules(</span><span class="s3">\n        </span><span class="s1">rulesConfig,</span><span class="s3">\n        </span><span class="s1">source,</span><span class="s3">\n        </span><span class="s1">getAdditionalRule = noop</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">if (!rulesConfig) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">Object.keys(rulesConfig).forEach(id =&gt; {</span><span class="s3">\n            </span><span class="s1">const rule = getAdditionalRule(id) || this.builtInRules.get(id) || null;</span><span class="s3">\n\n            </span><span class="s1">this.validateRuleOptions(rule, id, rulesConfig[id], source);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates a `globals` section of a config file</span><span class="s3">\n     </span><span class="s1">* @param {Object} globalsConfig The `globals` section</span><span class="s3">\n     </span><span class="s1">* @param {string|null} source The name of the configuration source to report in the event of an error.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateGlobals(globalsConfig, source = null) {</span><span class="s3">\n        </span><span class="s1">if (!globalsConfig) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">Object.entries(globalsConfig)</span><span class="s3">\n            </span><span class="s1">.forEach(([configuredGlobal, configuredValue]) =&gt; {</span><span class="s3">\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">ConfigOps.normalizeConfigGlobal(configuredValue);</span><span class="s3">\n                </span><span class="s1">} catch (err) {</span><span class="s3">\n                    </span><span class="s1">throw new Error(`ESLint configuration of global '${configuredGlobal}' in ${source} is invalid:</span><span class="s3">\\</span><span class="s1">n${err.message}`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validate `processor` configuration.</span><span class="s3">\n     </span><span class="s1">* @param {string|undefined} processorName The processor name.</span><span class="s3">\n     </span><span class="s1">* @param {string} source The name of config file.</span><span class="s3">\n     </span><span class="s1">* @param {function(id:string): Processor} getProcessor The getter of defined processors.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateProcessor(processorName, source, getProcessor) {</span><span class="s3">\n        </span><span class="s1">if (processorName &amp;&amp; !getProcessor(processorName)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`ESLint configuration of processor in '${source}' is invalid: '${processorName}' was not found.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Formats an array of schema validation errors.</span><span class="s3">\n     </span><span class="s1">* @param {Array} errors An array of error messages to format.</span><span class="s3">\n     </span><span class="s1">* @returns {string} Formatted error message</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">formatErrors(errors) {</span><span class="s3">\n        </span><span class="s1">return errors.map(error =&gt; {</span><span class="s3">\n            </span><span class="s1">if (error.keyword === </span><span class="s3">\&quot;</span><span class="s1">additionalProperties</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">const formattedPropertyPath = error.dataPath.length ? `${error.dataPath.slice(1)}.${error.params.additionalProperty}` : error.params.additionalProperty;</span><span class="s3">\n\n                </span><span class="s1">return `Unexpected top-level property </span><span class="s3">\&quot;</span><span class="s1">${formattedPropertyPath}</span><span class="s3">\&quot;</span><span class="s1">`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (error.keyword === </span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">const formattedField = error.dataPath.slice(1);</span><span class="s3">\n                </span><span class="s1">const formattedExpectedType = Array.isArray(error.schema) ? error.schema.join(</span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">) : error.schema;</span><span class="s3">\n                </span><span class="s1">const formattedValue = JSON.stringify(error.data);</span><span class="s3">\n\n                </span><span class="s1">return `Property </span><span class="s3">\&quot;</span><span class="s1">${formattedField}</span><span class="s3">\&quot; </span><span class="s1">is the wrong type (expected ${formattedExpectedType} but got </span><span class="s3">\\</span><span class="s1">`${formattedValue}</span><span class="s3">\\</span><span class="s1">`)`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">const field = error.dataPath[0] === </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">? error.dataPath.slice(1) : error.dataPath;</span><span class="s3">\n\n            </span><span class="s1">return `</span><span class="s3">\&quot;</span><span class="s1">${field}</span><span class="s3">\&quot; </span><span class="s1">${error.message}. Value: ${JSON.stringify(error.data)}`;</span><span class="s3">\n        </span><span class="s1">}).map(message =&gt; `</span><span class="s3">\\</span><span class="s1">t- ${message}.</span><span class="s3">\\</span><span class="s1">n`).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates the top level properties of the config object.</span><span class="s3">\n     </span><span class="s1">* @param {Object} config The config object to validate.</span><span class="s3">\n     </span><span class="s1">* @param {string} source The name of the configuration source to report in any errors.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateConfigSchema(config, source = null) {</span><span class="s3">\n        </span><span class="s1">validateSchema = validateSchema || ajv.compile(configSchema);</span><span class="s3">\n\n        </span><span class="s1">if (!validateSchema(config)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`ESLint configuration in ${source} is invalid:</span><span class="s3">\\</span><span class="s1">n${this.formatErrors(validateSchema.errors)}`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (Object.hasOwnProperty.call(config, </span><span class="s3">\&quot;</span><span class="s1">ecmaFeatures</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n            </span><span class="s1">emitDeprecationWarning(source, </span><span class="s3">\&quot;</span><span class="s1">ESLINT_LEGACY_ECMAFEATURES</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates an entire config object.</span><span class="s3">\n     </span><span class="s1">* @param {Object} config The config object to validate.</span><span class="s3">\n     </span><span class="s1">* @param {string} source The name of the configuration source to report in any errors.</span><span class="s3">\n     </span><span class="s1">* @param {function(ruleId:string): Object} [getAdditionalRule] A map from strings to loaded rules.</span><span class="s3">\n     </span><span class="s1">* @param {function(envId:string): Object} [getAdditionalEnv] A map from strings to loaded envs.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validate(config, source, getAdditionalRule, getAdditionalEnv) {</span><span class="s3">\n        </span><span class="s1">this.validateConfigSchema(config, source);</span><span class="s3">\n        </span><span class="s1">this.validateRules(config.rules, source, getAdditionalRule);</span><span class="s3">\n        </span><span class="s1">this.validateEnvironment(config.env, source, getAdditionalEnv);</span><span class="s3">\n        </span><span class="s1">this.validateGlobals(config.globals, source);</span><span class="s3">\n\n        </span><span class="s1">for (const override of config.overrides || []) {</span><span class="s3">\n            </span><span class="s1">this.validateRules(override.rules, source, getAdditionalRule);</span><span class="s3">\n            </span><span class="s1">this.validateEnvironment(override.env, source, getAdditionalEnv);</span><span class="s3">\n            </span><span class="s1">this.validateGlobals(config.globals, source);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validate config array object.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArray} configArray The config array to validate.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">validateConfigArray(configArray) {</span><span class="s3">\n        </span><span class="s1">const getPluginEnv = Map.prototype.get.bind(configArray.pluginEnvironments);</span><span class="s3">\n        </span><span class="s1">const getPluginProcessor = Map.prototype.get.bind(configArray.pluginProcessors);</span><span class="s3">\n        </span><span class="s1">const getPluginRule = Map.prototype.get.bind(configArray.pluginRules);</span><span class="s3">\n\n        </span><span class="s1">// Validate.</span><span class="s3">\n        </span><span class="s1">for (const element of configArray) {</span><span class="s3">\n            </span><span class="s1">if (validated.has(element)) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">validated.add(element);</span><span class="s3">\n\n            </span><span class="s1">this.validateEnvironment(element.env, element.name, getPluginEnv);</span><span class="s3">\n            </span><span class="s1">this.validateGlobals(element.globals, element.name);</span><span class="s3">\n            </span><span class="s1">this.validateProcessor(element.processor, element.name, getPluginProcessor);</span><span class="s3">\n            </span><span class="s1">this.validateRules(element.rules, element.name, getPluginRule);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Common helpers for naming of plugins, formatters and configs</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">const NAMESPACE_REGEX = /^@.*</span><span class="s3">\\</span><span class="s1">//iu;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Brings package name to correct format based on prefix</span><span class="s3">\n </span><span class="s1">* @param {string} name The name of the package.</span><span class="s3">\n </span><span class="s1">* @param {string} prefix Can be either </span><span class="s3">\&quot;</span><span class="s1">eslint-plugin</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">eslint-config</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">eslint-formatter</span><span class="s3">\&quot;\n </span><span class="s1">* @returns {string} Normalized name of the package</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function normalizePackageName(name, prefix) {</span><span class="s3">\n    </span><span class="s1">let normalizedName = name;</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* On Windows, name can come in with Windows slashes instead of Unix slashes.</span><span class="s3">\n     </span><span class="s1">* Normalize to Unix first to avoid errors later on.</span><span class="s3">\n     </span><span class="s1">* https://github.com/eslint/eslint/issues/5644</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (normalizedName.includes(</span><span class="s3">\&quot;\\\\\&quot;</span><span class="s1">)) {</span><span class="s3">\n        </span><span class="s1">normalizedName = normalizedName.replace(/</span><span class="s3">\\\\</span><span class="s1">/gu, </span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (normalizedName.charAt(0) === </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* it's a scoped package</span><span class="s3">\n         </span><span class="s1">* package name is the prefix, or just a username</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">const scopedPackageShortcutRegex = new RegExp(`^(@[^/]+)(?:/(?:${prefix})?)?$`, </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n            </span><span class="s1">scopedPackageNameRegex = new RegExp(`^${prefix}(-|$)`, </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (scopedPackageShortcutRegex.test(normalizedName)) {</span><span class="s3">\n            </span><span class="s1">normalizedName = normalizedName.replace(scopedPackageShortcutRegex, `$1/${prefix}`);</span><span class="s3">\n        </span><span class="s1">} else if (!scopedPackageNameRegex.test(normalizedName.split(</span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">)[1])) {</span><span class="s3">\n\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* for scoped packages, insert the prefix after the first / unless</span><span class="s3">\n             </span><span class="s1">* the path is already @scope/eslint or @scope/eslint-xxx-yyy</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">normalizedName = normalizedName.replace(/^@([^/]+)</span><span class="s3">\\</span><span class="s1">/(.*)$/u, `@$1/${prefix}-$2`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (!normalizedName.startsWith(`${prefix}-`)) {</span><span class="s3">\n        </span><span class="s1">normalizedName = `${prefix}-${normalizedName}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return normalizedName;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Removes the prefix from a fullname.</span><span class="s3">\n </span><span class="s1">* @param {string} fullname The term which may have the prefix.</span><span class="s3">\n </span><span class="s1">* @param {string} prefix The prefix to remove.</span><span class="s3">\n </span><span class="s1">* @returns {string} The term without prefix.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getShorthandName(fullname, prefix) {</span><span class="s3">\n    </span><span class="s1">if (fullname[0] === </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">let matchResult = new RegExp(`^(@[^/]+)/${prefix}$`, </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">).exec(fullname);</span><span class="s3">\n\n        </span><span class="s1">if (matchResult) {</span><span class="s3">\n            </span><span class="s1">return matchResult[1];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">matchResult = new RegExp(`^(@[^/]+)/${prefix}-(.+)$`, </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">).exec(fullname);</span><span class="s3">\n        </span><span class="s1">if (matchResult) {</span><span class="s3">\n            </span><span class="s1">return `${matchResult[1]}/${matchResult[2]}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else if (fullname.startsWith(`${prefix}-`)) {</span><span class="s3">\n        </span><span class="s1">return fullname.slice(prefix.length + 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return fullname;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the scope (namespace) of a term.</span><span class="s3">\n </span><span class="s1">* @param {string} term The term which may have the namespace.</span><span class="s3">\n </span><span class="s1">* @returns {string} The namespace of the term if it has one.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getNamespaceFromTerm(term) {</span><span class="s3">\n    </span><span class="s1">const match = term.match(NAMESPACE_REGEX);</span><span class="s3">\n\n    </span><span class="s1">return match ? match[0] : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n    </span><span class="s1">normalizePackageName,</span><span class="s3">\n    </span><span class="s1">getShorthandName,</span><span class="s3">\n    </span><span class="s1">getNamespaceFromTerm</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Utility for resolving a module relative to another module</span><span class="s3">\n </span><span class="s1">* @author Teddy Katz</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">import Module from </span><span class="s3">\&quot;</span><span class="s1">module</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">/*</span><span class="s3">\n </span><span class="s1">* `Module.createRequire` is added in v12.2.0. It supports URL as well.</span><span class="s3">\n </span><span class="s1">* We only support the case where the argument is a filepath, not a URL.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const createRequire = Module.createRequire;</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Resolves a Node module relative to another module</span><span class="s3">\n </span><span class="s1">* @param {string} moduleName The name of a Node module, or a path to a Node module.</span><span class="s3">\n </span><span class="s1">* @param {string} relativeToPath An absolute path indicating the module that `moduleName` should be resolved relative to. This must be</span><span class="s3">\n </span><span class="s1">* a file rather than a directory, but the file need not actually exist.</span><span class="s3">\n </span><span class="s1">* @returns {string} The absolute path that would result from calling `require.resolve(moduleName)` in a file located at `relativeToPath`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function resolve(moduleName, relativeToPath) {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">return createRequire(relativeToPath).resolve(moduleName);</span><span class="s3">\n    </span><span class="s1">} catch (error) {</span><span class="s3">\n\n        </span><span class="s1">// This `if` block is for older Node.js than 12.0.0. We can remove this block in the future.</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\n            </span><span class="s1">typeof error === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n            </span><span class="s1">error !== null &amp;&amp;</span><span class="s3">\n            </span><span class="s1">error.code === </span><span class="s3">\&quot;</span><span class="s1">MODULE_NOT_FOUND</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n            </span><span class="s1">!error.requireStack &amp;&amp;</span><span class="s3">\n            </span><span class="s1">error.message.includes(moduleName)</span><span class="s3">\n        </span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">error.message += `</span><span class="s3">\\</span><span class="s1">nRequire stack:</span><span class="s3">\\</span><span class="s1">n- ${relativeToPath}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw error;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n    </span><span class="s1">resolve</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview The factory of `ConfigArray` objects.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This class provides methods to create `ConfigArray` instance.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `create(configData, options)`</span><span class="s3">\n </span><span class="s1">*     Create a `ConfigArray` instance from a config data. This is to handle CLI</span><span class="s3">\n </span><span class="s1">*     options except `--config`.</span><span class="s3">\n </span><span class="s1">* - `loadFile(filePath, options)`</span><span class="s3">\n </span><span class="s1">*     Create a `ConfigArray` instance from a config file. This is to handle</span><span class="s3">\n </span><span class="s1">*     `--config` option. If the file was not found, throws the following error:</span><span class="s3">\n </span><span class="s1">*      - If the filename was `*.js`, a `MODULE_NOT_FOUND` error.</span><span class="s3">\n </span><span class="s1">*      - If the filename was `package.json`, an IO error or an</span><span class="s3">\n </span><span class="s1">*        `ESLINT_CONFIG_FIELD_NOT_FOUND` error.</span><span class="s3">\n </span><span class="s1">*      - Otherwise, an IO error such as `ENOENT`.</span><span class="s3">\n </span><span class="s1">* - `loadInDirectory(directoryPath, options)`</span><span class="s3">\n </span><span class="s1">*     Create a `ConfigArray` instance from a config file which is on a given</span><span class="s3">\n </span><span class="s1">*     directory. This tries to load `.eslintrc.*` or `package.json`. If not</span><span class="s3">\n </span><span class="s1">*     found, returns an empty `ConfigArray`.</span><span class="s3">\n </span><span class="s1">* - `loadESLintIgnore(filePath)`</span><span class="s3">\n </span><span class="s1">*     Create a `ConfigArray` instance from a config file that is `.eslintignore`</span><span class="s3">\n </span><span class="s1">*     format. This is to handle `--ignore-path` option.</span><span class="s3">\n </span><span class="s1">* - `loadDefaultESLintIgnore()`</span><span class="s3">\n </span><span class="s1">*     Create a `ConfigArray` instance from `.eslintignore` or `package.json` in</span><span class="s3">\n </span><span class="s1">*     the current working directory.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `ConfigArrayFactory` class has the responsibility that loads configuration</span><span class="s3">\n </span><span class="s1">* files, including loading `extends`, `parser`, and `plugins`. The created</span><span class="s3">\n </span><span class="s1">* `ConfigArray` instance has the loaded `extends`, `parser`, and `plugins`.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* But this class doesn't handle cascading. `CascadingConfigArrayFactory` class</span><span class="s3">\n </span><span class="s1">* handles cascading and hierarchy.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import debugOrig from </span><span class="s3">\&quot;</span><span class="s1">debug</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import fs from </span><span class="s3">\&quot;</span><span class="s1">fs</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import importFresh from </span><span class="s3">\&quot;</span><span class="s1">import-fresh</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { createRequire } from </span><span class="s3">\&quot;</span><span class="s1">module</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import path from </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import stripComments from </span><span class="s3">\&quot;</span><span class="s1">strip-json-comments</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import {</span><span class="s3">\n    </span><span class="s1">ConfigArray,</span><span class="s3">\n    </span><span class="s1">ConfigDependency,</span><span class="s3">\n    </span><span class="s1">IgnorePattern,</span><span class="s3">\n    </span><span class="s1">OverrideTester</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./config-array/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ConfigValidator from </span><span class="s3">\&quot;</span><span class="s1">./shared/config-validator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import * as naming from </span><span class="s3">\&quot;</span><span class="s1">./shared/naming.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import * as ModuleResolver from </span><span class="s3">\&quot;</span><span class="s1">./shared/relative-module-resolver.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const require = createRequire(import.meta.url);</span><span class="s3">\n\n</span><span class="s1">const debug = debugOrig(</span><span class="s3">\&quot;</span><span class="s1">eslintrc:config-array-factory</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">const configFilenames = [</span><span class="s3">\n    \&quot;</span><span class="s1">.eslintrc.js</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">.eslintrc.cjs</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">.eslintrc.yaml</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">.eslintrc.yml</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">.eslintrc.json</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">.eslintrc</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">package.json</span><span class="s3">\&quot;\n</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">// Define types for VSCode IntelliSense.</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).ConfigData} ConfigData */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).OverrideConfigData} OverrideConfigData */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).Parser} Parser */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).Plugin} Plugin */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).Rule} Rule */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./config-array/config-dependency</span><span class="s3">\&quot;</span><span class="s1">).DependentParser} DependentParser */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./config-array/config-dependency</span><span class="s3">\&quot;</span><span class="s1">).DependentPlugin} DependentPlugin */</span><span class="s3">\n</span><span class="s1">/** @typedef {ConfigArray[0]} ConfigArrayElement */</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} ConfigArrayFactoryOptions</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Plugin&gt;} [additionalPluginPool] The map for additional plugins.</span><span class="s3">\n </span><span class="s1">* @property {string} [cwd] The path to the current working directory.</span><span class="s3">\n </span><span class="s1">* @property {string} [resolvePluginsRelativeTo] A path to the directory that plugins should be resolved from. Defaults to `cwd`.</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Rule&gt;} builtInRules The rules that are built in to ESLint.</span><span class="s3">\n </span><span class="s1">* @property {Object} [resolver=ModuleResolver] The module resolver object.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintAllPath The path to the definitions for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintAllConfig Returns the config data for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintRecommendedPath The path to the definitions for eslint:recommended.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintRecommendedConfig Returns the config data for eslint:recommended.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} ConfigArrayFactoryInternalSlots</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Plugin&gt;} additionalPluginPool The map for additional plugins.</span><span class="s3">\n </span><span class="s1">* @property {string} cwd The path to the current working directory.</span><span class="s3">\n </span><span class="s1">* @property {string | undefined} resolvePluginsRelativeTo An absolute path the the directory that plugins should be resolved from.</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Rule&gt;} builtInRules The rules that are built in to ESLint.</span><span class="s3">\n </span><span class="s1">* @property {Object} [resolver=ModuleResolver] The module resolver object.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintAllPath The path to the definitions for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintAllConfig Returns the config data for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintRecommendedPath The path to the definitions for eslint:recommended.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintRecommendedConfig Returns the config data for eslint:recommended.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} ConfigArrayFactoryLoadingContext</span><span class="s3">\n </span><span class="s1">* @property {string} filePath The path to the current configuration.</span><span class="s3">\n </span><span class="s1">* @property {string} matchBasePath The base path to resolve relative paths in `overrides[].files`, `overrides[].excludedFiles`, and `ignorePatterns`.</span><span class="s3">\n </span><span class="s1">* @property {string} name The name of the current configuration.</span><span class="s3">\n </span><span class="s1">* @property {string} pluginBasePath The base path to resolve plugins.</span><span class="s3">\n </span><span class="s1">* @property {</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot;</span><span class="s1">} type The type of the current configuration. This is `</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">` in normal. This is `</span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">` if it came from `.eslintignore`. This is `</span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot;</span><span class="s1">` if it came from legacy file-extension processors.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} ConfigArrayFactoryLoadingContext</span><span class="s3">\n </span><span class="s1">* @property {string} filePath The path to the current configuration.</span><span class="s3">\n </span><span class="s1">* @property {string} matchBasePath The base path to resolve relative paths in `overrides[].files`, `overrides[].excludedFiles`, and `ignorePatterns`.</span><span class="s3">\n </span><span class="s1">* @property {string} name The name of the current configuration.</span><span class="s3">\n </span><span class="s1">* @property {</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot;</span><span class="s1">} type The type of the current configuration. This is `</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">` in normal. This is `</span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">` if it came from `.eslintignore`. This is `</span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot;</span><span class="s1">` if it came from legacy file-extension processors.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/** @type {WeakMap&lt;ConfigArrayFactory, ConfigArrayFactoryInternalSlots&gt;} */</span><span class="s3">\n</span><span class="s1">const internalSlotsMap = new WeakMap();</span><span class="s3">\n\n</span><span class="s1">/** @type {WeakMap&lt;object, Plugin&gt;} */</span><span class="s3">\n</span><span class="s1">const normalizedPlugins = new WeakMap();</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check if a given string is a file path.</span><span class="s3">\n </span><span class="s1">* @param {string} nameOrPath A module name or file path.</span><span class="s3">\n </span><span class="s1">* @returns {boolean} `true` if the `nameOrPath` is a file path.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function isFilePath(nameOrPath) {</span><span class="s3">\n    </span><span class="s1">return (</span><span class="s3">\n        </span><span class="s1">/^</span><span class="s3">\\</span><span class="s1">.{1,2}[/</span><span class="s3">\\\\</span><span class="s1">]/u.test(nameOrPath) ||</span><span class="s3">\n        </span><span class="s1">path.isAbsolute(nameOrPath)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convenience wrapper for synchronously reading file contents.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to read.</span><span class="s3">\n </span><span class="s1">* @returns {string} The file contents, with the BOM removed.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function readFile(filePath) {</span><span class="s3">\n    </span><span class="s1">return fs.readFileSync(filePath, </span><span class="s3">\&quot;</span><span class="s1">utf8</span><span class="s3">\&quot;</span><span class="s1">).replace(/^</span><span class="s3">\\</span><span class="s1">ufeff/u, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a YAML configuration from a file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to load.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigData} The configuration object from the file.</span><span class="s3">\n </span><span class="s1">* @throws {Error} If the file cannot be read.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadYAMLConfigFile(filePath) {</span><span class="s3">\n    </span><span class="s1">debug(`Loading YAML config file: ${filePath}`);</span><span class="s3">\n\n    </span><span class="s1">// lazy load YAML to improve performance when not used</span><span class="s3">\n    </span><span class="s1">const yaml = require(</span><span class="s3">\&quot;</span><span class="s1">js-yaml</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n\n        </span><span class="s1">// empty YAML file can be null, so always use</span><span class="s3">\n        </span><span class="s1">return yaml.load(readFile(filePath)) || {};</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">debug(`Error reading YAML file: ${filePath}`);</span><span class="s3">\n        </span><span class="s1">e.message = `Cannot read config file: ${filePath}</span><span class="s3">\\</span><span class="s1">nError: ${e.message}`;</span><span class="s3">\n        </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a JSON configuration from a file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to load.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigData} The configuration object from the file.</span><span class="s3">\n </span><span class="s1">* @throws {Error} If the file cannot be read.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadJSONConfigFile(filePath) {</span><span class="s3">\n    </span><span class="s1">debug(`Loading JSON config file: ${filePath}`);</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">return JSON.parse(stripComments(readFile(filePath)));</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">debug(`Error reading JSON file: ${filePath}`);</span><span class="s3">\n        </span><span class="s1">e.message = `Cannot read config file: ${filePath}</span><span class="s3">\\</span><span class="s1">nError: ${e.message}`;</span><span class="s3">\n        </span><span class="s1">e.messageTemplate = </span><span class="s3">\&quot;</span><span class="s1">failed-to-read-json</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">e.messageData = {</span><span class="s3">\n            </span><span class="s1">path: filePath,</span><span class="s3">\n            </span><span class="s1">message: e.message</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a legacy (.eslintrc) configuration from a file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to load.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigData} The configuration object from the file.</span><span class="s3">\n </span><span class="s1">* @throws {Error} If the file cannot be read.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadLegacyConfigFile(filePath) {</span><span class="s3">\n    </span><span class="s1">debug(`Loading legacy config file: ${filePath}`);</span><span class="s3">\n\n    </span><span class="s1">// lazy load YAML to improve performance when not used</span><span class="s3">\n    </span><span class="s1">const yaml = require(</span><span class="s3">\&quot;</span><span class="s1">js-yaml</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">return yaml.load(stripComments(readFile(filePath))) || /* istanbul ignore next */ {};</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Error reading YAML file: %s</span><span class="s3">\\</span><span class="s1">n%o</span><span class="s3">\&quot;</span><span class="s1">, filePath, e);</span><span class="s3">\n        </span><span class="s1">e.message = `Cannot read config file: ${filePath}</span><span class="s3">\\</span><span class="s1">nError: ${e.message}`;</span><span class="s3">\n        </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a JavaScript configuration from a file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to load.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigData} The configuration object from the file.</span><span class="s3">\n </span><span class="s1">* @throws {Error} If the file cannot be read.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadJSConfigFile(filePath) {</span><span class="s3">\n    </span><span class="s1">debug(`Loading JS config file: ${filePath}`);</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">return importFresh(filePath);</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">debug(`Error reading JavaScript file: ${filePath}`);</span><span class="s3">\n        </span><span class="s1">e.message = `Cannot read config file: ${filePath}</span><span class="s3">\\</span><span class="s1">nError: ${e.message}`;</span><span class="s3">\n        </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a configuration from a package.json file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to load.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigData} The configuration object from the file.</span><span class="s3">\n </span><span class="s1">* @throws {Error} If the file cannot be read.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadPackageJSONConfigFile(filePath) {</span><span class="s3">\n    </span><span class="s1">debug(`Loading package.json config file: ${filePath}`);</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">const packageData = loadJSONConfigFile(filePath);</span><span class="s3">\n\n        </span><span class="s1">if (!Object.hasOwnProperty.call(packageData, </span><span class="s3">\&quot;</span><span class="s1">eslintConfig</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n            </span><span class="s1">throw Object.assign(</span><span class="s3">\n                </span><span class="s1">new Error(</span><span class="s3">\&quot;</span><span class="s1">package.json file doesn't have 'eslintConfig' field.</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n                </span><span class="s1">{ code: </span><span class="s3">\&quot;</span><span class="s1">ESLINT_CONFIG_FIELD_NOT_FOUND</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return packageData.eslintConfig;</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">debug(`Error reading package.json file: ${filePath}`);</span><span class="s3">\n        </span><span class="s1">e.message = `Cannot read config file: ${filePath}</span><span class="s3">\\</span><span class="s1">nError: ${e.message}`;</span><span class="s3">\n        </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a `.eslintignore` from a file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The filename to load.</span><span class="s3">\n </span><span class="s1">* @returns {string[]} The ignore patterns from the file.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadESLintIgnoreFile(filePath) {</span><span class="s3">\n    </span><span class="s1">debug(`Loading .eslintignore file: ${filePath}`);</span><span class="s3">\n\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">return readFile(filePath)</span><span class="s3">\n            </span><span class="s1">.split(/</span><span class="s3">\\</span><span class="s1">r?</span><span class="s3">\\</span><span class="s1">n/gu)</span><span class="s3">\n            </span><span class="s1">.filter(line =&gt; line.trim() !== </span><span class="s3">\&quot;\&quot; </span><span class="s1">&amp;&amp; !line.startsWith(</span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">} catch (e) {</span><span class="s3">\n        </span><span class="s1">debug(`Error reading .eslintignore file: ${filePath}`);</span><span class="s3">\n        </span><span class="s1">e.message = `Cannot read .eslintignore file: ${filePath}</span><span class="s3">\\</span><span class="s1">nError: ${e.message}`;</span><span class="s3">\n        </span><span class="s1">throw e;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates an error to notify about a missing config to extend from.</span><span class="s3">\n </span><span class="s1">* @param {string} configName The name of the missing config.</span><span class="s3">\n </span><span class="s1">* @param {string} importerName The name of the config that imported the missing config</span><span class="s3">\n </span><span class="s1">* @param {string} messageTemplate The text template to source error strings from.</span><span class="s3">\n </span><span class="s1">* @returns {Error} The error object to throw</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function configInvalidError(configName, importerName, messageTemplate) {</span><span class="s3">\n    </span><span class="s1">return Object.assign(</span><span class="s3">\n        </span><span class="s1">new Error(`Failed to load config </span><span class="s3">\&quot;</span><span class="s1">${configName}</span><span class="s3">\&quot; </span><span class="s1">to extend from.`),</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">messageTemplate,</span><span class="s3">\n            </span><span class="s1">messageData: { configName, importerName }</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Loads a configuration file regardless of the source. Inspects the file path</span><span class="s3">\n </span><span class="s1">* to determine the correctly way to load the config file.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The path to the configuration.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigData|null} The configuration information.</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function loadConfigFile(filePath) {</span><span class="s3">\n    </span><span class="s1">switch (path.extname(filePath)) {</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">.js</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">.cjs</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">return loadJSConfigFile(filePath);</span><span class="s3">\n\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">.json</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">if (path.basename(filePath) === </span><span class="s3">\&quot;</span><span class="s1">package.json</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return loadPackageJSONConfigFile(filePath);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return loadJSONConfigFile(filePath);</span><span class="s3">\n\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">.yaml</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">.yml</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">return loadYAMLConfigFile(filePath);</span><span class="s3">\n\n        </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">return loadLegacyConfigFile(filePath);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Write debug log.</span><span class="s3">\n </span><span class="s1">* @param {string} request The requested module name.</span><span class="s3">\n </span><span class="s1">* @param {string} relativeTo The file path to resolve the request relative to.</span><span class="s3">\n </span><span class="s1">* @param {string} filePath The resolved file path.</span><span class="s3">\n </span><span class="s1">* @returns {void}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function writeDebugLogForLoading(request, relativeTo, filePath) {</span><span class="s3">\n    </span><span class="s1">/* istanbul ignore next */</span><span class="s3">\n    </span><span class="s1">if (debug.enabled) {</span><span class="s3">\n        </span><span class="s1">let nameAndVersion = null;</span><span class="s3">\n\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">const packageJsonPath = ModuleResolver.resolve(</span><span class="s3">\n                </span><span class="s1">`${request}/package.json`,</span><span class="s3">\n                </span><span class="s1">relativeTo</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">const { version = </span><span class="s3">\&quot;</span><span class="s1">unknown</span><span class="s3">\&quot; </span><span class="s1">} = require(packageJsonPath);</span><span class="s3">\n\n            </span><span class="s1">nameAndVersion = `${request}@${version}`;</span><span class="s3">\n        </span><span class="s1">} catch (error) {</span><span class="s3">\n            </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">package.json was not found:</span><span class="s3">\&quot;</span><span class="s1">, error.message);</span><span class="s3">\n            </span><span class="s1">nameAndVersion = request;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Loaded: %s (%s)</span><span class="s3">\&quot;</span><span class="s1">, nameAndVersion, filePath);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create a new context with default values.</span><span class="s3">\n </span><span class="s1">* @param {ConfigArrayFactoryInternalSlots} slots The internal slots.</span><span class="s3">\n </span><span class="s1">* @param {</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">ignore</span><span class="s3">\&quot; </span><span class="s1">| </span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot; </span><span class="s1">| undefined} providedType The type of the current configuration. Default is `</span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">`.</span><span class="s3">\n </span><span class="s1">* @param {string | undefined} providedName The name of the current configuration. Default is the relative path from `cwd` to `filePath`.</span><span class="s3">\n </span><span class="s1">* @param {string | undefined} providedFilePath The path to the current configuration. Default is empty string.</span><span class="s3">\n </span><span class="s1">* @param {string | undefined} providedMatchBasePath The type of the current configuration. Default is the directory of `filePath` or `cwd`.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigArrayFactoryLoadingContext} The created context.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createContext(</span><span class="s3">\n    </span><span class="s1">{ cwd, resolvePluginsRelativeTo },</span><span class="s3">\n    </span><span class="s1">providedType,</span><span class="s3">\n    </span><span class="s1">providedName,</span><span class="s3">\n    </span><span class="s1">providedFilePath,</span><span class="s3">\n    </span><span class="s1">providedMatchBasePath</span><span class="s3">\n</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">const filePath = providedFilePath</span><span class="s3">\n        </span><span class="s1">? path.resolve(cwd, providedFilePath)</span><span class="s3">\n        </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">const matchBasePath =</span><span class="s3">\n        </span><span class="s1">(providedMatchBasePath &amp;&amp; path.resolve(cwd, providedMatchBasePath)) ||</span><span class="s3">\n        </span><span class="s1">(filePath &amp;&amp; path.dirname(filePath)) ||</span><span class="s3">\n        </span><span class="s1">cwd;</span><span class="s3">\n    </span><span class="s1">const name =</span><span class="s3">\n        </span><span class="s1">providedName ||</span><span class="s3">\n        </span><span class="s1">(filePath &amp;&amp; path.relative(cwd, filePath)) ||</span><span class="s3">\n        \&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">const pluginBasePath =</span><span class="s3">\n        </span><span class="s1">resolvePluginsRelativeTo ||</span><span class="s3">\n        </span><span class="s1">(filePath &amp;&amp; path.dirname(filePath)) ||</span><span class="s3">\n        </span><span class="s1">cwd;</span><span class="s3">\n    </span><span class="s1">const type = providedType || </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">return { filePath, matchBasePath, name, pluginBasePath, type };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Normalize a given plugin.</span><span class="s3">\n </span><span class="s1">* - Ensure the object to have four properties: configs, environments, processors, and rules.</span><span class="s3">\n </span><span class="s1">* - Ensure the object to not have other properties.</span><span class="s3">\n </span><span class="s1">* @param {Plugin} plugin The plugin to normalize.</span><span class="s3">\n </span><span class="s1">* @returns {Plugin} The normalized plugin.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function normalizePlugin(plugin) {</span><span class="s3">\n\n    </span><span class="s1">// first check the cache</span><span class="s3">\n    </span><span class="s1">let normalizedPlugin = normalizedPlugins.get(plugin);</span><span class="s3">\n\n    </span><span class="s1">if (normalizedPlugin) {</span><span class="s3">\n        </span><span class="s1">return normalizedPlugin;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">normalizedPlugin = {</span><span class="s3">\n        </span><span class="s1">configs: plugin.configs || {},</span><span class="s3">\n        </span><span class="s1">environments: plugin.environments || {},</span><span class="s3">\n        </span><span class="s1">processors: plugin.processors || {},</span><span class="s3">\n        </span><span class="s1">rules: plugin.rules || {}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">// save the reference for later</span><span class="s3">\n    </span><span class="s1">normalizedPlugins.set(plugin, normalizedPlugin);</span><span class="s3">\n\n    </span><span class="s1">return normalizedPlugin;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The factory of `ConfigArray` objects.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ConfigArrayFactory {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize this instance.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryOptions} [options] The map for additional plugins.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor({</span><span class="s3">\n        </span><span class="s1">additionalPluginPool = new Map(),</span><span class="s3">\n        </span><span class="s1">cwd = process.cwd(),</span><span class="s3">\n        </span><span class="s1">resolvePluginsRelativeTo,</span><span class="s3">\n        </span><span class="s1">builtInRules,</span><span class="s3">\n        </span><span class="s1">resolver = ModuleResolver,</span><span class="s3">\n        </span><span class="s1">eslintAllPath,</span><span class="s3">\n        </span><span class="s1">getEslintAllConfig,</span><span class="s3">\n        </span><span class="s1">eslintRecommendedPath,</span><span class="s3">\n        </span><span class="s1">getEslintRecommendedConfig</span><span class="s3">\n    </span><span class="s1">} = {}) {</span><span class="s3">\n        </span><span class="s1">internalSlotsMap.set(this, {</span><span class="s3">\n            </span><span class="s1">additionalPluginPool,</span><span class="s3">\n            </span><span class="s1">cwd,</span><span class="s3">\n            </span><span class="s1">resolvePluginsRelativeTo:</span><span class="s3">\n                </span><span class="s1">resolvePluginsRelativeTo &amp;&amp;</span><span class="s3">\n                </span><span class="s1">path.resolve(cwd, resolvePluginsRelativeTo),</span><span class="s3">\n            </span><span class="s1">builtInRules,</span><span class="s3">\n            </span><span class="s1">resolver,</span><span class="s3">\n            </span><span class="s1">eslintAllPath,</span><span class="s3">\n            </span><span class="s1">getEslintAllConfig,</span><span class="s3">\n            </span><span class="s1">eslintRecommendedPath,</span><span class="s3">\n            </span><span class="s1">getEslintRecommendedConfig</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create `ConfigArray` instance from a config data.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigData|null} configData The config data to create.</span><span class="s3">\n     </span><span class="s1">* @param {Object} [options] The options.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.basePath] The base path to resolve relative paths in `overrides[].files`, `overrides[].excludedFiles`, and `ignorePatterns`.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.filePath] The path to this config data.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.name] The config name.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} Loaded config.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">create(configData, { basePath, filePath, name } = {}) {</span><span class="s3">\n        </span><span class="s1">if (!configData) {</span><span class="s3">\n            </span><span class="s1">return new ConfigArray();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const ctx = createContext(slots, </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">, name, filePath, basePath);</span><span class="s3">\n        </span><span class="s1">const elements = this._normalizeConfigData(configData, ctx);</span><span class="s3">\n\n        </span><span class="s1">return new ConfigArray(...elements);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load a config file.</span><span class="s3">\n     </span><span class="s1">* @param {string} filePath The path to a config file.</span><span class="s3">\n     </span><span class="s1">* @param {Object} [options] The options.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.basePath] The base path to resolve relative paths in `overrides[].files`, `overrides[].excludedFiles`, and `ignorePatterns`.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.name] The config name.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} Loaded config.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">loadFile(filePath, { basePath, name } = {}) {</span><span class="s3">\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const ctx = createContext(slots, </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">, name, filePath, basePath);</span><span class="s3">\n\n        </span><span class="s1">return new ConfigArray(...this._loadConfigData(ctx));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load the config file on a given directory if exists.</span><span class="s3">\n     </span><span class="s1">* @param {string} directoryPath The path to a directory.</span><span class="s3">\n     </span><span class="s1">* @param {Object} [options] The options.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.basePath] The base path to resolve relative paths in `overrides[].files`, `overrides[].excludedFiles`, and `ignorePatterns`.</span><span class="s3">\n     </span><span class="s1">* @param {string} [options.name] The config name.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} Loaded config. An empty `ConfigArray` if any config doesn't exist.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">loadInDirectory(directoryPath, { basePath, name } = {}) {</span><span class="s3">\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">for (const filename of configFilenames) {</span><span class="s3">\n            </span><span class="s1">const ctx = createContext(</span><span class="s3">\n                </span><span class="s1">slots,</span><span class="s3">\n                \&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                </span><span class="s1">name,</span><span class="s3">\n                </span><span class="s1">path.join(directoryPath, filename),</span><span class="s3">\n                </span><span class="s1">basePath</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n\n            </span><span class="s1">if (fs.existsSync(ctx.filePath) &amp;&amp; fs.statSync(ctx.filePath).isFile()) {</span><span class="s3">\n                </span><span class="s1">let configData;</span><span class="s3">\n\n                </span><span class="s1">try {</span><span class="s3">\n                    </span><span class="s1">configData = loadConfigFile(ctx.filePath);</span><span class="s3">\n                </span><span class="s1">} catch (error) {</span><span class="s3">\n                    </span><span class="s1">if (!error || error.code !== </span><span class="s3">\&quot;</span><span class="s1">ESLINT_CONFIG_FIELD_NOT_FOUND</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">throw error;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">if (configData) {</span><span class="s3">\n                    </span><span class="s1">debug(`Config file found: ${ctx.filePath}`);</span><span class="s3">\n                    </span><span class="s1">return new ConfigArray(</span><span class="s3">\n                        </span><span class="s1">...this._normalizeConfigData(configData, ctx)</span><span class="s3">\n                    </span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">debug(`Config file not found on ${directoryPath}`);</span><span class="s3">\n        </span><span class="s1">return new ConfigArray();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Check if a config file on a given directory exists or not.</span><span class="s3">\n     </span><span class="s1">* @param {string} directoryPath The path to a directory.</span><span class="s3">\n     </span><span class="s1">* @returns {string | null} The path to the found config file. If not found then null.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static getPathToConfigFileInDirectory(directoryPath) {</span><span class="s3">\n        </span><span class="s1">for (const filename of configFilenames) {</span><span class="s3">\n            </span><span class="s1">const filePath = path.join(directoryPath, filename);</span><span class="s3">\n\n            </span><span class="s1">if (fs.existsSync(filePath)) {</span><span class="s3">\n                </span><span class="s1">if (filename === </span><span class="s3">\&quot;</span><span class="s1">package.json</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">try {</span><span class="s3">\n                        </span><span class="s1">loadPackageJSONConfigFile(filePath);</span><span class="s3">\n                        </span><span class="s1">return filePath;</span><span class="s3">\n                    </span><span class="s1">} catch { /* ignore */ }</span><span class="s3">\n                </span><span class="s1">} else {</span><span class="s3">\n                    </span><span class="s1">return filePath;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load `.eslintignore` file.</span><span class="s3">\n     </span><span class="s1">* @param {string} filePath The path to a `.eslintignore` file to load.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} Loaded config. An empty `ConfigArray` if any config doesn't exist.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">loadESLintIgnore(filePath) {</span><span class="s3">\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const ctx = createContext(</span><span class="s3">\n            </span><span class="s1">slots,</span><span class="s3">\n            \&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">void 0,</span><span class="s3">\n            </span><span class="s1">filePath,</span><span class="s3">\n            </span><span class="s1">slots.cwd</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const ignorePatterns = loadESLintIgnoreFile(ctx.filePath);</span><span class="s3">\n\n        </span><span class="s1">return new ConfigArray(</span><span class="s3">\n            </span><span class="s1">...this._normalizeESLintIgnoreData(ignorePatterns, ctx)</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load `.eslintignore` file in the current working directory.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} Loaded config. An empty `ConfigArray` if any config doesn't exist.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">loadDefaultESLintIgnore() {</span><span class="s3">\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const eslintIgnorePath = path.resolve(slots.cwd, </span><span class="s3">\&quot;</span><span class="s1">.eslintignore</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const packageJsonPath = path.resolve(slots.cwd, </span><span class="s3">\&quot;</span><span class="s1">package.json</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (fs.existsSync(eslintIgnorePath)) {</span><span class="s3">\n            </span><span class="s1">return this.loadESLintIgnore(eslintIgnorePath);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (fs.existsSync(packageJsonPath)) {</span><span class="s3">\n            </span><span class="s1">const data = loadJSONConfigFile(packageJsonPath);</span><span class="s3">\n\n            </span><span class="s1">if (Object.hasOwnProperty.call(data, </span><span class="s3">\&quot;</span><span class="s1">eslintIgnore</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">if (!Array.isArray(data.eslintIgnore)) {</span><span class="s3">\n                    </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Package.json eslintIgnore property requires an array of paths</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const ctx = createContext(</span><span class="s3">\n                    </span><span class="s1">slots,</span><span class="s3">\n                    \&quot;</span><span class="s1">ignore</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    \&quot;</span><span class="s1">eslintIgnore in package.json</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">packageJsonPath,</span><span class="s3">\n                    </span><span class="s1">slots.cwd</span><span class="s3">\n                </span><span class="s1">);</span><span class="s3">\n\n                </span><span class="s1">return new ConfigArray(</span><span class="s3">\n                    </span><span class="s1">...this._normalizeESLintIgnoreData(data.eslintIgnore, ctx)</span><span class="s3">\n                </span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return new ConfigArray();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load a given config file.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} Loaded config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadConfigData(ctx) {</span><span class="s3">\n        </span><span class="s1">return this._normalizeConfigData(loadConfigFile(ctx.filePath), ctx);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Normalize a given `.eslintignore` data to config array elements.</span><span class="s3">\n     </span><span class="s1">* @param {string[]} ignorePatterns The patterns to ignore files.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">*_normalizeESLintIgnoreData(ignorePatterns, ctx) {</span><span class="s3">\n        </span><span class="s1">const elements = this._normalizeObjectConfigData(</span><span class="s3">\n            </span><span class="s1">{ ignorePatterns },</span><span class="s3">\n            </span><span class="s1">ctx</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">// Set `ignorePattern.loose` flag for backward compatibility.</span><span class="s3">\n        </span><span class="s1">for (const element of elements) {</span><span class="s3">\n            </span><span class="s1">if (element.ignorePattern) {</span><span class="s3">\n                </span><span class="s1">element.ignorePattern.loose = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">yield element;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Normalize a given config to an array.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigData} configData The config data to normalize.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_normalizeConfigData(configData, ctx) {</span><span class="s3">\n        </span><span class="s1">const validator = new ConfigValidator();</span><span class="s3">\n\n        </span><span class="s1">validator.validateConfigSchema(configData, ctx.name || ctx.filePath);</span><span class="s3">\n        </span><span class="s1">return this._normalizeObjectConfigData(configData, ctx);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Normalize a given config to an array.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigData|OverrideConfigData} configData The config data to normalize.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">*_normalizeObjectConfigData(configData, ctx) {</span><span class="s3">\n        </span><span class="s1">const { files, excludedFiles, ...configBody } = configData;</span><span class="s3">\n        </span><span class="s1">const criteria = OverrideTester.create(</span><span class="s3">\n            </span><span class="s1">files,</span><span class="s3">\n            </span><span class="s1">excludedFiles,</span><span class="s3">\n            </span><span class="s1">ctx.matchBasePath</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const elements = this._normalizeObjectConfigDataBody(configBody, ctx);</span><span class="s3">\n\n        </span><span class="s1">// Apply the criteria to every element.</span><span class="s3">\n        </span><span class="s1">for (const element of elements) {</span><span class="s3">\n\n            </span><span class="s1">/*</span><span class="s3">\n             </span><span class="s1">* Merge the criteria.</span><span class="s3">\n             </span><span class="s1">* This is for the `overrides` entries that came from the</span><span class="s3">\n             </span><span class="s1">* configurations of `overrides[].extends`.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">element.criteria = OverrideTester.and(criteria, element.criteria);</span><span class="s3">\n\n            </span><span class="s1">/*</span><span class="s3">\n             </span><span class="s1">* Remove `root` property to ignore `root` settings which came from</span><span class="s3">\n             </span><span class="s1">* `extends` in `overrides`.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">if (element.criteria) {</span><span class="s3">\n                </span><span class="s1">element.root = void 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">yield element;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Normalize a given config to an array.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigData} configData The config data to normalize.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">*_normalizeObjectConfigDataBody(</span><span class="s3">\n        </span><span class="s1">{</span><span class="s3">\n            </span><span class="s1">env,</span><span class="s3">\n            </span><span class="s1">extends: extend,</span><span class="s3">\n            </span><span class="s1">globals,</span><span class="s3">\n            </span><span class="s1">ignorePatterns,</span><span class="s3">\n            </span><span class="s1">noInlineConfig,</span><span class="s3">\n            </span><span class="s1">parser: parserName,</span><span class="s3">\n            </span><span class="s1">parserOptions,</span><span class="s3">\n            </span><span class="s1">plugins: pluginList,</span><span class="s3">\n            </span><span class="s1">processor,</span><span class="s3">\n            </span><span class="s1">reportUnusedDisableDirectives,</span><span class="s3">\n            </span><span class="s1">root,</span><span class="s3">\n            </span><span class="s1">rules,</span><span class="s3">\n            </span><span class="s1">settings,</span><span class="s3">\n            </span><span class="s1">overrides: overrideList = []</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">ctx</span><span class="s3">\n    </span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">const extendList = Array.isArray(extend) ? extend : [extend];</span><span class="s3">\n        </span><span class="s1">const ignorePattern = ignorePatterns &amp;&amp; new IgnorePattern(</span><span class="s3">\n            </span><span class="s1">Array.isArray(ignorePatterns) ? ignorePatterns : [ignorePatterns],</span><span class="s3">\n            </span><span class="s1">ctx.matchBasePath</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">// Flatten `extends`.</span><span class="s3">\n        </span><span class="s1">for (const extendName of extendList.filter(Boolean)) {</span><span class="s3">\n            </span><span class="s1">yield* this._loadExtends(extendName, ctx);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Load parser &amp; plugins.</span><span class="s3">\n        </span><span class="s1">const parser = parserName &amp;&amp; this._loadParser(parserName, ctx);</span><span class="s3">\n        </span><span class="s1">const plugins = pluginList &amp;&amp; this._loadPlugins(pluginList, ctx);</span><span class="s3">\n\n        </span><span class="s1">// Yield pseudo config data for file extension processors.</span><span class="s3">\n        </span><span class="s1">if (plugins) {</span><span class="s3">\n            </span><span class="s1">yield* this._takeFileExtensionProcessors(plugins, ctx);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Yield the config data except `extends` and `overrides`.</span><span class="s3">\n        </span><span class="s1">yield {</span><span class="s3">\n\n            </span><span class="s1">// Debug information.</span><span class="s3">\n            </span><span class="s1">type: ctx.type,</span><span class="s3">\n            </span><span class="s1">name: ctx.name,</span><span class="s3">\n            </span><span class="s1">filePath: ctx.filePath,</span><span class="s3">\n\n            </span><span class="s1">// Config data.</span><span class="s3">\n            </span><span class="s1">criteria: null,</span><span class="s3">\n            </span><span class="s1">env,</span><span class="s3">\n            </span><span class="s1">globals,</span><span class="s3">\n            </span><span class="s1">ignorePattern,</span><span class="s3">\n            </span><span class="s1">noInlineConfig,</span><span class="s3">\n            </span><span class="s1">parser,</span><span class="s3">\n            </span><span class="s1">parserOptions,</span><span class="s3">\n            </span><span class="s1">plugins,</span><span class="s3">\n            </span><span class="s1">processor,</span><span class="s3">\n            </span><span class="s1">reportUnusedDisableDirectives,</span><span class="s3">\n            </span><span class="s1">root,</span><span class="s3">\n            </span><span class="s1">rules,</span><span class="s3">\n            </span><span class="s1">settings</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n\n        </span><span class="s1">// Flatten `overries`.</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; overrideList.length; ++i) {</span><span class="s3">\n            </span><span class="s1">yield* this._normalizeObjectConfigData(</span><span class="s3">\n                </span><span class="s1">overrideList[i],</span><span class="s3">\n                </span><span class="s1">{ ...ctx, name: `${ctx.name}#overrides[${i}]` }</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load configs of an element in `extends`.</span><span class="s3">\n     </span><span class="s1">* @param {string} extendName The name of a base config.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadExtends(extendName, ctx) {</span><span class="s3">\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Loading {extends:%j} relative to %s</span><span class="s3">\&quot;</span><span class="s1">, extendName, ctx.filePath);</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (extendName.startsWith(</span><span class="s3">\&quot;</span><span class="s1">eslint:</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">return this._loadExtendedBuiltInConfig(extendName, ctx);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (extendName.startsWith(</span><span class="s3">\&quot;</span><span class="s1">plugin:</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                </span><span class="s1">return this._loadExtendedPluginConfig(extendName, ctx);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return this._loadExtendedShareableConfig(extendName, ctx);</span><span class="s3">\n        </span><span class="s1">} catch (error) {</span><span class="s3">\n            </span><span class="s1">error.message += `</span><span class="s3">\\</span><span class="s1">nReferenced from: ${ctx.filePath || ctx.name}`;</span><span class="s3">\n            </span><span class="s1">throw error;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load configs of an element in `extends`.</span><span class="s3">\n     </span><span class="s1">* @param {string} extendName The name of a base config.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadExtendedBuiltInConfig(extendName, ctx) {</span><span class="s3">\n        </span><span class="s1">const {</span><span class="s3">\n            </span><span class="s1">eslintAllPath,</span><span class="s3">\n            </span><span class="s1">getEslintAllConfig,</span><span class="s3">\n            </span><span class="s1">eslintRecommendedPath,</span><span class="s3">\n            </span><span class="s1">getEslintRecommendedConfig</span><span class="s3">\n        </span><span class="s1">} = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">if (extendName === </span><span class="s3">\&quot;</span><span class="s1">eslint:recommended</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">const name = `${ctx.name} » ${extendName}`;</span><span class="s3">\n\n            </span><span class="s1">if (getEslintRecommendedConfig) {</span><span class="s3">\n                </span><span class="s1">if (typeof getEslintRecommendedConfig !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">throw new Error(`getEslintRecommendedConfig must be a function instead of '${getEslintRecommendedConfig}'`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return this._normalizeConfigData(getEslintRecommendedConfig(), { ...ctx, name, filePath: </span><span class="s3">\&quot;\&quot; </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return this._loadConfigData({</span><span class="s3">\n                </span><span class="s1">...ctx,</span><span class="s3">\n                </span><span class="s1">name,</span><span class="s3">\n                </span><span class="s1">filePath: eslintRecommendedPath</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (extendName === </span><span class="s3">\&quot;</span><span class="s1">eslint:all</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">const name = `${ctx.name} » ${extendName}`;</span><span class="s3">\n\n            </span><span class="s1">if (getEslintAllConfig) {</span><span class="s3">\n                </span><span class="s1">if (typeof getEslintAllConfig !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">throw new Error(`getEslintAllConfig must be a function instead of '${getEslintAllConfig}'`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return this._normalizeConfigData(getEslintAllConfig(), { ...ctx, name, filePath: </span><span class="s3">\&quot;\&quot; </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return this._loadConfigData({</span><span class="s3">\n                </span><span class="s1">...ctx,</span><span class="s3">\n                </span><span class="s1">name,</span><span class="s3">\n                </span><span class="s1">filePath: eslintAllPath</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">throw configInvalidError(extendName, ctx.name, </span><span class="s3">\&quot;</span><span class="s1">extend-config-missing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load configs of an element in `extends`.</span><span class="s3">\n     </span><span class="s1">* @param {string} extendName The name of a base config.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadExtendedPluginConfig(extendName, ctx) {</span><span class="s3">\n        </span><span class="s1">const slashIndex = extendName.lastIndexOf(</span><span class="s3">\&quot;</span><span class="s1">/</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (slashIndex === -1) {</span><span class="s3">\n            </span><span class="s1">throw configInvalidError(extendName, ctx.filePath, </span><span class="s3">\&quot;</span><span class="s1">plugin-invalid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const pluginName = extendName.slice(</span><span class="s3">\&quot;</span><span class="s1">plugin:</span><span class="s3">\&quot;</span><span class="s1">.length, slashIndex);</span><span class="s3">\n        </span><span class="s1">const configName = extendName.slice(slashIndex + 1);</span><span class="s3">\n\n        </span><span class="s1">if (isFilePath(pluginName)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">'extends' cannot use a file path for plugins.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const plugin = this._loadPlugin(pluginName, ctx);</span><span class="s3">\n        </span><span class="s1">const configData =</span><span class="s3">\n            </span><span class="s1">plugin.definition &amp;&amp;</span><span class="s3">\n            </span><span class="s1">plugin.definition.configs[configName];</span><span class="s3">\n\n        </span><span class="s1">if (configData) {</span><span class="s3">\n            </span><span class="s1">return this._normalizeConfigData(configData, {</span><span class="s3">\n                </span><span class="s1">...ctx,</span><span class="s3">\n                </span><span class="s1">filePath: plugin.filePath || ctx.filePath,</span><span class="s3">\n                </span><span class="s1">name: `${ctx.name} » plugin:${plugin.id}/${configName}`</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">throw plugin.error || configInvalidError(extendName, ctx.filePath, </span><span class="s3">\&quot;</span><span class="s1">extend-config-missing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load configs of an element in `extends`.</span><span class="s3">\n     </span><span class="s1">* @param {string} extendName The name of a base config.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The normalized config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadExtendedShareableConfig(extendName, ctx) {</span><span class="s3">\n        </span><span class="s1">const { cwd, resolver } = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const relativeTo = ctx.filePath || path.join(cwd, </span><span class="s3">\&quot;</span><span class="s1">__placeholder__.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">let request;</span><span class="s3">\n\n        </span><span class="s1">if (isFilePath(extendName)) {</span><span class="s3">\n            </span><span class="s1">request = extendName;</span><span class="s3">\n        </span><span class="s1">} else if (extendName.startsWith(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n            </span><span class="s1">request = `./${extendName}`; // For backward compatibility. A ton of tests depended on this behavior.</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">request = naming.normalizePackageName(</span><span class="s3">\n                </span><span class="s1">extendName,</span><span class="s3">\n                \&quot;</span><span class="s1">eslint-config</span><span class="s3">\&quot;\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">let filePath;</span><span class="s3">\n\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">filePath = resolver.resolve(request, relativeTo);</span><span class="s3">\n        </span><span class="s1">} catch (error) {</span><span class="s3">\n            </span><span class="s1">/* istanbul ignore else */</span><span class="s3">\n            </span><span class="s1">if (error &amp;&amp; error.code === </span><span class="s3">\&quot;</span><span class="s1">MODULE_NOT_FOUND</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">throw configInvalidError(extendName, ctx.filePath, </span><span class="s3">\&quot;</span><span class="s1">extend-config-missing</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">throw error;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">writeDebugLogForLoading(request, relativeTo, filePath);</span><span class="s3">\n        </span><span class="s1">return this._loadConfigData({</span><span class="s3">\n            </span><span class="s1">...ctx,</span><span class="s3">\n            </span><span class="s1">filePath,</span><span class="s3">\n            </span><span class="s1">name: `${ctx.name} » ${request}`</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load given plugins.</span><span class="s3">\n     </span><span class="s1">* @param {string[]} names The plugin names to load.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {Record&lt;string,DependentPlugin&gt;} The loaded parser.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadPlugins(names, ctx) {</span><span class="s3">\n        </span><span class="s1">return names.reduce((map, name) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (isFilePath(name)) {</span><span class="s3">\n                </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Plugins array cannot includes file paths.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const plugin = this._loadPlugin(name, ctx);</span><span class="s3">\n\n            </span><span class="s1">map[plugin.id] = plugin;</span><span class="s3">\n\n            </span><span class="s1">return map;</span><span class="s3">\n        </span><span class="s1">}, {});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load a given parser.</span><span class="s3">\n     </span><span class="s1">* @param {string} nameOrPath The package name or the path to a parser file.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {DependentParser} The loaded parser.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadParser(nameOrPath, ctx) {</span><span class="s3">\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Loading parser %j from %s</span><span class="s3">\&quot;</span><span class="s1">, nameOrPath, ctx.filePath);</span><span class="s3">\n\n        </span><span class="s1">const { cwd, resolver } = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const relativeTo = ctx.filePath || path.join(cwd, </span><span class="s3">\&quot;</span><span class="s1">__placeholder__.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">const filePath = resolver.resolve(nameOrPath, relativeTo);</span><span class="s3">\n\n            </span><span class="s1">writeDebugLogForLoading(nameOrPath, relativeTo, filePath);</span><span class="s3">\n\n            </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n                </span><span class="s1">definition: require(filePath),</span><span class="s3">\n                </span><span class="s1">filePath,</span><span class="s3">\n                </span><span class="s1">id: nameOrPath,</span><span class="s3">\n                </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n                </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">} catch (error) {</span><span class="s3">\n\n            </span><span class="s1">// If the parser name is </span><span class="s3">\&quot;</span><span class="s1">espree</span><span class="s3">\&quot;</span><span class="s1">, load the espree of ESLint.</span><span class="s3">\n            </span><span class="s1">if (nameOrPath === </span><span class="s3">\&quot;</span><span class="s1">espree</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Fallback espree.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n                    </span><span class="s1">definition: require(</span><span class="s3">\&quot;</span><span class="s1">espree</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n                    </span><span class="s1">filePath: require.resolve(</span><span class="s3">\&quot;</span><span class="s1">espree</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n                    </span><span class="s1">id: nameOrPath,</span><span class="s3">\n                    </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n                    </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Failed to load parser '%s' declared in '%s'.</span><span class="s3">\&quot;</span><span class="s1">, nameOrPath, ctx.name);</span><span class="s3">\n            </span><span class="s1">error.message = `Failed to load parser '${nameOrPath}' declared in '${ctx.name}': ${error.message}`;</span><span class="s3">\n\n            </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n                </span><span class="s1">error,</span><span class="s3">\n                </span><span class="s1">id: nameOrPath,</span><span class="s3">\n                </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n                </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load a given plugin.</span><span class="s3">\n     </span><span class="s1">* @param {string} name The plugin name to load.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {DependentPlugin} The loaded plugin.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadPlugin(name, ctx) {</span><span class="s3">\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Loading plugin %j from %s</span><span class="s3">\&quot;</span><span class="s1">, name, ctx.filePath);</span><span class="s3">\n\n        </span><span class="s1">const { additionalPluginPool, resolver } = internalSlotsMap.get(this);</span><span class="s3">\n        </span><span class="s1">const request = naming.normalizePackageName(name, </span><span class="s3">\&quot;</span><span class="s1">eslint-plugin</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const id = naming.getShorthandName(request, </span><span class="s3">\&quot;</span><span class="s1">eslint-plugin</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const relativeTo = path.join(ctx.pluginBasePath, </span><span class="s3">\&quot;</span><span class="s1">__placeholder__.js</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">if (name.match(/</span><span class="s3">\\</span><span class="s1">s+/u)) {</span><span class="s3">\n            </span><span class="s1">const error = Object.assign(</span><span class="s3">\n                </span><span class="s1">new Error(`Whitespace found in plugin name '${name}'`),</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">messageTemplate: </span><span class="s3">\&quot;</span><span class="s1">whitespace-found</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">messageData: { pluginName: request }</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n\n            </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n                </span><span class="s1">error,</span><span class="s3">\n                </span><span class="s1">id,</span><span class="s3">\n                </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n                </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Check for additional pool.</span><span class="s3">\n        </span><span class="s1">const plugin =</span><span class="s3">\n            </span><span class="s1">additionalPluginPool.get(request) ||</span><span class="s3">\n            </span><span class="s1">additionalPluginPool.get(id);</span><span class="s3">\n\n        </span><span class="s1">if (plugin) {</span><span class="s3">\n            </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n                </span><span class="s1">definition: normalizePlugin(plugin),</span><span class="s3">\n                </span><span class="s1">original: plugin,</span><span class="s3">\n                </span><span class="s1">filePath: </span><span class="s3">\&quot;\&quot;</span><span class="s1">, // It's unknown where the plugin came from.</span><span class="s3">\n                </span><span class="s1">id,</span><span class="s3">\n                </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n                </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">let filePath;</span><span class="s3">\n        </span><span class="s1">let error;</span><span class="s3">\n\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">filePath = resolver.resolve(request, relativeTo);</span><span class="s3">\n        </span><span class="s1">} catch (resolveError) {</span><span class="s3">\n            </span><span class="s1">error = resolveError;</span><span class="s3">\n            </span><span class="s1">/* istanbul ignore else */</span><span class="s3">\n            </span><span class="s1">if (error &amp;&amp; error.code === </span><span class="s3">\&quot;</span><span class="s1">MODULE_NOT_FOUND</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">error.messageTemplate = </span><span class="s3">\&quot;</span><span class="s1">plugin-missing</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">error.messageData = {</span><span class="s3">\n                    </span><span class="s1">pluginName: request,</span><span class="s3">\n                    </span><span class="s1">resolvePluginsRelativeTo: ctx.pluginBasePath,</span><span class="s3">\n                    </span><span class="s1">importerName: ctx.name</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (filePath) {</span><span class="s3">\n            </span><span class="s1">try {</span><span class="s3">\n                </span><span class="s1">writeDebugLogForLoading(request, relativeTo, filePath);</span><span class="s3">\n\n                </span><span class="s1">const startTime = Date.now();</span><span class="s3">\n                </span><span class="s1">const pluginDefinition = require(filePath);</span><span class="s3">\n\n                </span><span class="s1">debug(`Plugin ${filePath} loaded in: ${Date.now() - startTime}ms`);</span><span class="s3">\n\n                </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n                    </span><span class="s1">definition: normalizePlugin(pluginDefinition),</span><span class="s3">\n                    </span><span class="s1">original: pluginDefinition,</span><span class="s3">\n                    </span><span class="s1">filePath,</span><span class="s3">\n                    </span><span class="s1">id,</span><span class="s3">\n                    </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n                    </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">} catch (loadError) {</span><span class="s3">\n                </span><span class="s1">error = loadError;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Failed to load plugin '%s' declared in '%s'.</span><span class="s3">\&quot;</span><span class="s1">, name, ctx.name);</span><span class="s3">\n        </span><span class="s1">error.message = `Failed to load plugin '${name}' declared in '${ctx.name}': ${error.message}`;</span><span class="s3">\n        </span><span class="s1">return new ConfigDependency({</span><span class="s3">\n            </span><span class="s1">error,</span><span class="s3">\n            </span><span class="s1">id,</span><span class="s3">\n            </span><span class="s1">importerName: ctx.name,</span><span class="s3">\n            </span><span class="s1">importerPath: ctx.filePath</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Take file expression processors as config array elements.</span><span class="s3">\n     </span><span class="s1">* @param {Record&lt;string,DependentPlugin&gt;} plugins The plugin definitions.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArrayFactoryLoadingContext} ctx The loading context.</span><span class="s3">\n     </span><span class="s1">* @returns {IterableIterator&lt;ConfigArrayElement&gt;} The config array elements of file expression processors.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">*_takeFileExtensionProcessors(plugins, ctx) {</span><span class="s3">\n        </span><span class="s1">for (const pluginId of Object.keys(plugins)) {</span><span class="s3">\n            </span><span class="s1">const processors =</span><span class="s3">\n                </span><span class="s1">plugins[pluginId] &amp;&amp;</span><span class="s3">\n                </span><span class="s1">plugins[pluginId].definition &amp;&amp;</span><span class="s3">\n                </span><span class="s1">plugins[pluginId].definition.processors;</span><span class="s3">\n\n            </span><span class="s1">if (!processors) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">for (const processorId of Object.keys(processors)) {</span><span class="s3">\n                </span><span class="s1">if (processorId.startsWith(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                    </span><span class="s1">yield* this._normalizeObjectConfigData(</span><span class="s3">\n                        </span><span class="s1">{</span><span class="s3">\n                            </span><span class="s1">files: [`*${processorId}`],</span><span class="s3">\n                            </span><span class="s1">processor: `${pluginId}/${processorId}`</span><span class="s3">\n                        </span><span class="s1">},</span><span class="s3">\n                        </span><span class="s1">{</span><span class="s3">\n                            </span><span class="s1">...ctx,</span><span class="s3">\n                            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">implicit-processor</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                            </span><span class="s1">name: `${ctx.name}#processors[</span><span class="s3">\&quot;</span><span class="s1">${pluginId}/${processorId}</span><span class="s3">\&quot;</span><span class="s1">]`</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { ConfigArrayFactory, createContext };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview `CascadingConfigArrayFactory` class.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `CascadingConfigArrayFactory` class has a responsibility:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* 1. Handles cascading of config files.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* It provides two methods:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* - `getConfigArrayForFile(filePath)`</span><span class="s3">\n </span><span class="s1">*     Get the corresponded configuration of a given file. This method doesn't</span><span class="s3">\n </span><span class="s1">*     throw even if the given file didn't exist.</span><span class="s3">\n </span><span class="s1">* - `clearCache()`</span><span class="s3">\n </span><span class="s1">*     Clear the internal cache. You have to call this method when</span><span class="s3">\n </span><span class="s1">*     `additionalPluginPool` was updated if `baseConfig` or `cliConfig` depends</span><span class="s3">\n </span><span class="s1">*     on the additional plugins. (`CLIEngine#addPlugin()` method calls this.)</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @author Toru Nagashima &lt;https://github.com/mysticatea&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import debugOrig from </span><span class="s3">\&quot;</span><span class="s1">debug</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import os from </span><span class="s3">\&quot;</span><span class="s1">os</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import path from </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import { ConfigArrayFactory } from </span><span class="s3">\&quot;</span><span class="s1">./config-array-factory.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {</span><span class="s3">\n    </span><span class="s1">ConfigArray,</span><span class="s3">\n    </span><span class="s1">ConfigDependency,</span><span class="s3">\n    </span><span class="s1">IgnorePattern</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./config-array/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ConfigValidator from </span><span class="s3">\&quot;</span><span class="s1">./shared/config-validator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { emitDeprecationWarning } from </span><span class="s3">\&quot;</span><span class="s1">./shared/deprecation-warnings.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const debug = debugOrig(</span><span class="s3">\&quot;</span><span class="s1">eslintrc:cascading-config-array-factory</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">// Define types for VSCode IntelliSense.</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).ConfigData} ConfigData */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).Parser} Parser */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).Plugin} Plugin */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">./shared/types</span><span class="s3">\&quot;</span><span class="s1">).Rule} Rule */</span><span class="s3">\n</span><span class="s1">/** @typedef {ReturnType&lt;ConfigArrayFactory[</span><span class="s3">\&quot;</span><span class="s1">create</span><span class="s3">\&quot;</span><span class="s1">]&gt;} ConfigArray */</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} CascadingConfigArrayFactoryOptions</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Plugin&gt;} [additionalPluginPool] The map for additional plugins.</span><span class="s3">\n </span><span class="s1">* @property {ConfigData} [baseConfig] The config by `baseConfig` option.</span><span class="s3">\n </span><span class="s1">* @property {ConfigData} [cliConfig] The config by CLI options (`--env`, `--global`, `--ignore-pattern`, `--parser`, `--parser-options`, `--plugin`, and `--rule`). CLI options overwrite the setting in config files.</span><span class="s3">\n </span><span class="s1">* @property {string} [cwd] The base directory to start lookup.</span><span class="s3">\n </span><span class="s1">* @property {string} [ignorePath] The path to the alternative file of `.eslintignore`.</span><span class="s3">\n </span><span class="s1">* @property {string[]} [rulePaths] The value of `--rulesdir` option.</span><span class="s3">\n </span><span class="s1">* @property {string} [specificConfigPath] The value of `--config` option.</span><span class="s3">\n </span><span class="s1">* @property {boolean} [useEslintrc] if `false` then it doesn't load config files.</span><span class="s3">\n </span><span class="s1">* @property {Function} loadRules The function to use to load rules.</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Rule&gt;} builtInRules The rules that are built in to ESLint.</span><span class="s3">\n </span><span class="s1">* @property {Object} [resolver=ModuleResolver] The module resolver object.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintAllPath The path to the definitions for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintAllConfig Returns the config data for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintRecommendedPath The path to the definitions for eslint:recommended.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintRecommendedConfig Returns the config data for eslint:recommended.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} CascadingConfigArrayFactoryInternalSlots</span><span class="s3">\n </span><span class="s1">* @property {ConfigArray} baseConfigArray The config array of `baseConfig` option.</span><span class="s3">\n </span><span class="s1">* @property {ConfigData} baseConfigData The config data of `baseConfig` option. This is used to reset `baseConfigArray`.</span><span class="s3">\n </span><span class="s1">* @property {ConfigArray} cliConfigArray The config array of CLI options.</span><span class="s3">\n </span><span class="s1">* @property {ConfigData} cliConfigData The config data of CLI options. This is used to reset `cliConfigArray`.</span><span class="s3">\n </span><span class="s1">* @property {ConfigArrayFactory} configArrayFactory The factory for config arrays.</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string, ConfigArray&gt;} configCache The cache from directory paths to config arrays.</span><span class="s3">\n </span><span class="s1">* @property {string} cwd The base directory to start lookup.</span><span class="s3">\n </span><span class="s1">* @property {WeakMap&lt;ConfigArray, ConfigArray&gt;} finalizeCache The cache from config arrays to finalized config arrays.</span><span class="s3">\n </span><span class="s1">* @property {string} [ignorePath] The path to the alternative file of `.eslintignore`.</span><span class="s3">\n </span><span class="s1">* @property {string[]|null} rulePaths The value of `--rulesdir` option. This is used to reset `baseConfigArray`.</span><span class="s3">\n </span><span class="s1">* @property {string|null} specificConfigPath The value of `--config` option. This is used to reset `cliConfigArray`.</span><span class="s3">\n </span><span class="s1">* @property {boolean} useEslintrc if `false` then it doesn't load config files.</span><span class="s3">\n </span><span class="s1">* @property {Function} loadRules The function to use to load rules.</span><span class="s3">\n </span><span class="s1">* @property {Map&lt;string,Rule&gt;} builtInRules The rules that are built in to ESLint.</span><span class="s3">\n </span><span class="s1">* @property {Object} [resolver=ModuleResolver] The module resolver object.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintAllPath The path to the definitions for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintAllConfig Returns the config data for eslint:all.</span><span class="s3">\n </span><span class="s1">* @property {string} eslintRecommendedPath The path to the definitions for eslint:recommended.</span><span class="s3">\n </span><span class="s1">* @property {Function} getEslintRecommendedConfig Returns the config data for eslint:recommended.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/** @type {WeakMap&lt;CascadingConfigArrayFactory, CascadingConfigArrayFactoryInternalSlots&gt;} */</span><span class="s3">\n</span><span class="s1">const internalSlotsMap = new WeakMap();</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create the config array from `baseConfig` and `rulePaths`.</span><span class="s3">\n </span><span class="s1">* @param {CascadingConfigArrayFactoryInternalSlots} slots The slots.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigArray} The config array of the base configs.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createBaseConfigArray({</span><span class="s3">\n    </span><span class="s1">configArrayFactory,</span><span class="s3">\n    </span><span class="s1">baseConfigData,</span><span class="s3">\n    </span><span class="s1">rulePaths,</span><span class="s3">\n    </span><span class="s1">cwd,</span><span class="s3">\n    </span><span class="s1">loadRules</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n    </span><span class="s1">const baseConfigArray = configArrayFactory.create(</span><span class="s3">\n        </span><span class="s1">baseConfigData,</span><span class="s3">\n        </span><span class="s1">{ name: </span><span class="s3">\&quot;</span><span class="s1">BaseConfig</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">/*</span><span class="s3">\n     </span><span class="s1">* Create the config array element for the default ignore patterns.</span><span class="s3">\n     </span><span class="s1">* This element has `ignorePattern` property that ignores the default</span><span class="s3">\n     </span><span class="s1">* patterns in the current working directory.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">baseConfigArray.unshift(configArrayFactory.create(</span><span class="s3">\n        </span><span class="s1">{ ignorePatterns: IgnorePattern.DefaultPatterns },</span><span class="s3">\n        </span><span class="s1">{ name: </span><span class="s3">\&quot;</span><span class="s1">DefaultIgnorePattern</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">)[0]);</span><span class="s3">\n\n    </span><span class="s1">/*</span><span class="s3">\n     </span><span class="s1">* Load rules `--rulesdir` option as a pseudo plugin.</span><span class="s3">\n     </span><span class="s1">* Use a pseudo plugin to define rules of `--rulesdir`, so we can validate</span><span class="s3">\n     </span><span class="s1">* the rule's options with only information in the config array.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">if (rulePaths &amp;&amp; rulePaths.length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">baseConfigArray.push({</span><span class="s3">\n            </span><span class="s1">type: </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">--rulesdir</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">filePath: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n            </span><span class="s1">plugins: {</span><span class="s3">\n                \&quot;\&quot;</span><span class="s1">: new ConfigDependency({</span><span class="s3">\n                    </span><span class="s1">definition: {</span><span class="s3">\n                        </span><span class="s1">rules: rulePaths.reduce(</span><span class="s3">\n                            </span><span class="s1">(map, rulesPath) =&gt; Object.assign(</span><span class="s3">\n                                </span><span class="s1">map,</span><span class="s3">\n                                </span><span class="s1">loadRules(rulesPath, cwd)</span><span class="s3">\n                            </span><span class="s1">),</span><span class="s3">\n                            </span><span class="s1">{}</span><span class="s3">\n                        </span><span class="s1">)</span><span class="s3">\n                    </span><span class="s1">},</span><span class="s3">\n                    </span><span class="s1">filePath: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">id: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">importerName: </span><span class="s3">\&quot;</span><span class="s1">--rulesdir</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                    </span><span class="s1">importerPath: </span><span class="s3">\&quot;\&quot;\n                </span><span class="s1">})</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return baseConfigArray;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create the config array from CLI options.</span><span class="s3">\n </span><span class="s1">* @param {CascadingConfigArrayFactoryInternalSlots} slots The slots.</span><span class="s3">\n </span><span class="s1">* @returns {ConfigArray} The config array of the base configs.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function createCLIConfigArray({</span><span class="s3">\n    </span><span class="s1">cliConfigData,</span><span class="s3">\n    </span><span class="s1">configArrayFactory,</span><span class="s3">\n    </span><span class="s1">cwd,</span><span class="s3">\n    </span><span class="s1">ignorePath,</span><span class="s3">\n    </span><span class="s1">specificConfigPath</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n    </span><span class="s1">const cliConfigArray = configArrayFactory.create(</span><span class="s3">\n        </span><span class="s1">cliConfigData,</span><span class="s3">\n        </span><span class="s1">{ name: </span><span class="s3">\&quot;</span><span class="s1">CLIOptions</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">cliConfigArray.unshift(</span><span class="s3">\n        </span><span class="s1">...(ignorePath</span><span class="s3">\n            </span><span class="s1">? configArrayFactory.loadESLintIgnore(ignorePath)</span><span class="s3">\n            </span><span class="s1">: configArrayFactory.loadDefaultESLintIgnore())</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">if (specificConfigPath) {</span><span class="s3">\n        </span><span class="s1">cliConfigArray.unshift(</span><span class="s3">\n            </span><span class="s1">...configArrayFactory.loadFile(</span><span class="s3">\n                </span><span class="s1">specificConfigPath,</span><span class="s3">\n                </span><span class="s1">{ name: </span><span class="s3">\&quot;</span><span class="s1">--config</span><span class="s3">\&quot;</span><span class="s1">, basePath: cwd }</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return cliConfigArray;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The error type when there are files matched by a glob, but all of them have been ignored.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ConfigurationNotFoundError extends Error {</span><span class="s3">\n\n    </span><span class="s1">// eslint-disable-next-line jsdoc/require-description</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @param {string} directoryPath The directory path.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(directoryPath) {</span><span class="s3">\n        </span><span class="s1">super(`No ESLint configuration found in ${directoryPath}.`);</span><span class="s3">\n        </span><span class="s1">this.messageTemplate = </span><span class="s3">\&quot;</span><span class="s1">no-config-found</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.messageData = { directoryPath };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This class provides the functionality that enumerates every file which is</span><span class="s3">\n </span><span class="s1">* matched by given glob patterns and that configuration.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class CascadingConfigArrayFactory {</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize this enumerator.</span><span class="s3">\n     </span><span class="s1">* @param {CascadingConfigArrayFactoryOptions} options The options.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor({</span><span class="s3">\n        </span><span class="s1">additionalPluginPool = new Map(),</span><span class="s3">\n        </span><span class="s1">baseConfig: baseConfigData = null,</span><span class="s3">\n        </span><span class="s1">cliConfig: cliConfigData = null,</span><span class="s3">\n        </span><span class="s1">cwd = process.cwd(),</span><span class="s3">\n        </span><span class="s1">ignorePath,</span><span class="s3">\n        </span><span class="s1">resolvePluginsRelativeTo,</span><span class="s3">\n        </span><span class="s1">rulePaths = [],</span><span class="s3">\n        </span><span class="s1">specificConfigPath = null,</span><span class="s3">\n        </span><span class="s1">useEslintrc = true,</span><span class="s3">\n        </span><span class="s1">builtInRules = new Map(),</span><span class="s3">\n        </span><span class="s1">loadRules,</span><span class="s3">\n        </span><span class="s1">resolver,</span><span class="s3">\n        </span><span class="s1">eslintRecommendedPath,</span><span class="s3">\n        </span><span class="s1">getEslintRecommendedConfig,</span><span class="s3">\n        </span><span class="s1">eslintAllPath,</span><span class="s3">\n        </span><span class="s1">getEslintAllConfig</span><span class="s3">\n    </span><span class="s1">} = {}) {</span><span class="s3">\n        </span><span class="s1">const configArrayFactory = new ConfigArrayFactory({</span><span class="s3">\n            </span><span class="s1">additionalPluginPool,</span><span class="s3">\n            </span><span class="s1">cwd,</span><span class="s3">\n            </span><span class="s1">resolvePluginsRelativeTo,</span><span class="s3">\n            </span><span class="s1">builtInRules,</span><span class="s3">\n            </span><span class="s1">resolver,</span><span class="s3">\n            </span><span class="s1">eslintRecommendedPath,</span><span class="s3">\n            </span><span class="s1">getEslintRecommendedConfig,</span><span class="s3">\n            </span><span class="s1">eslintAllPath,</span><span class="s3">\n            </span><span class="s1">getEslintAllConfig</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n\n        </span><span class="s1">internalSlotsMap.set(this, {</span><span class="s3">\n            </span><span class="s1">baseConfigArray: createBaseConfigArray({</span><span class="s3">\n                </span><span class="s1">baseConfigData,</span><span class="s3">\n                </span><span class="s1">configArrayFactory,</span><span class="s3">\n                </span><span class="s1">cwd,</span><span class="s3">\n                </span><span class="s1">rulePaths,</span><span class="s3">\n                </span><span class="s1">loadRules</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">baseConfigData,</span><span class="s3">\n            </span><span class="s1">cliConfigArray: createCLIConfigArray({</span><span class="s3">\n                </span><span class="s1">cliConfigData,</span><span class="s3">\n                </span><span class="s1">configArrayFactory,</span><span class="s3">\n                </span><span class="s1">cwd,</span><span class="s3">\n                </span><span class="s1">ignorePath,</span><span class="s3">\n                </span><span class="s1">specificConfigPath</span><span class="s3">\n            </span><span class="s1">}),</span><span class="s3">\n            </span><span class="s1">cliConfigData,</span><span class="s3">\n            </span><span class="s1">configArrayFactory,</span><span class="s3">\n            </span><span class="s1">configCache: new Map(),</span><span class="s3">\n            </span><span class="s1">cwd,</span><span class="s3">\n            </span><span class="s1">finalizeCache: new WeakMap(),</span><span class="s3">\n            </span><span class="s1">ignorePath,</span><span class="s3">\n            </span><span class="s1">rulePaths,</span><span class="s3">\n            </span><span class="s1">specificConfigPath,</span><span class="s3">\n            </span><span class="s1">useEslintrc,</span><span class="s3">\n            </span><span class="s1">builtInRules,</span><span class="s3">\n            </span><span class="s1">loadRules</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The path to the current working directory.</span><span class="s3">\n     </span><span class="s1">* This is used by tests.</span><span class="s3">\n     </span><span class="s1">* @type {string}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get cwd() {</span><span class="s3">\n        </span><span class="s1">const { cwd } = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">return cwd;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Get the config array of a given file.</span><span class="s3">\n     </span><span class="s1">* If `filePath` was not given, it returns the config which contains only</span><span class="s3">\n     </span><span class="s1">* `baseConfigData` and `cliConfigData`.</span><span class="s3">\n     </span><span class="s1">* @param {string} [filePath] The file path to a file.</span><span class="s3">\n     </span><span class="s1">* @param {Object} [options] The options.</span><span class="s3">\n     </span><span class="s1">* @param {boolean} [options.ignoreNotFoundError] If `true` then it doesn't throw `ConfigurationNotFoundError`.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} The config array of the file.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getConfigArrayForFile(filePath, { ignoreNotFoundError = false } = {}) {</span><span class="s3">\n        </span><span class="s1">const {</span><span class="s3">\n            </span><span class="s1">baseConfigArray,</span><span class="s3">\n            </span><span class="s1">cliConfigArray,</span><span class="s3">\n            </span><span class="s1">cwd</span><span class="s3">\n        </span><span class="s1">} = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">if (!filePath) {</span><span class="s3">\n            </span><span class="s1">return new ConfigArray(...baseConfigArray, ...cliConfigArray);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">const directoryPath = path.dirname(path.resolve(cwd, filePath));</span><span class="s3">\n\n        </span><span class="s1">debug(`Load config files for ${directoryPath}.`);</span><span class="s3">\n\n        </span><span class="s1">return this._finalizeConfigArray(</span><span class="s3">\n            </span><span class="s1">this._loadConfigInAncestors(directoryPath),</span><span class="s3">\n            </span><span class="s1">directoryPath,</span><span class="s3">\n            </span><span class="s1">ignoreNotFoundError</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Set the config data to override all configs.</span><span class="s3">\n     </span><span class="s1">* Require to call `clearCache()` method after this method is called.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigData} configData The config data to override all configs.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setOverrideConfig(configData) {</span><span class="s3">\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">slots.cliConfigData = configData;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Clear config cache.</span><span class="s3">\n     </span><span class="s1">* @returns {void}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clearCache() {</span><span class="s3">\n        </span><span class="s1">const slots = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">slots.baseConfigArray = createBaseConfigArray(slots);</span><span class="s3">\n        </span><span class="s1">slots.cliConfigArray = createCLIConfigArray(slots);</span><span class="s3">\n        </span><span class="s1">slots.configCache.clear();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Load and normalize config files from the ancestor directories.</span><span class="s3">\n     </span><span class="s1">* @param {string} directoryPath The path to a leaf directory.</span><span class="s3">\n     </span><span class="s1">* @param {boolean} configsExistInSubdirs `true` if configurations exist in subdirectories.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} The loaded config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_loadConfigInAncestors(directoryPath, configsExistInSubdirs = false) {</span><span class="s3">\n        </span><span class="s1">const {</span><span class="s3">\n            </span><span class="s1">baseConfigArray,</span><span class="s3">\n            </span><span class="s1">configArrayFactory,</span><span class="s3">\n            </span><span class="s1">configCache,</span><span class="s3">\n            </span><span class="s1">cwd,</span><span class="s3">\n            </span><span class="s1">useEslintrc</span><span class="s3">\n        </span><span class="s1">} = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">if (!useEslintrc) {</span><span class="s3">\n            </span><span class="s1">return baseConfigArray;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">let configArray = configCache.get(directoryPath);</span><span class="s3">\n\n        </span><span class="s1">// Hit cache.</span><span class="s3">\n        </span><span class="s1">if (configArray) {</span><span class="s3">\n            </span><span class="s1">debug(`Cache hit: ${directoryPath}.`);</span><span class="s3">\n            </span><span class="s1">return configArray;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">debug(`No cache found: ${directoryPath}.`);</span><span class="s3">\n\n        </span><span class="s1">const homePath = os.homedir();</span><span class="s3">\n\n        </span><span class="s1">// Consider this is root.</span><span class="s3">\n        </span><span class="s1">if (directoryPath === homePath &amp;&amp; cwd !== homePath) {</span><span class="s3">\n            </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Stop traversing because of considered root.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">if (configsExistInSubdirs) {</span><span class="s3">\n                </span><span class="s1">const filePath = ConfigArrayFactory.getPathToConfigFileInDirectory(directoryPath);</span><span class="s3">\n\n                </span><span class="s1">if (filePath) {</span><span class="s3">\n                    </span><span class="s1">emitDeprecationWarning(</span><span class="s3">\n                        </span><span class="s1">filePath,</span><span class="s3">\n                        \&quot;</span><span class="s1">ESLINT_PERSONAL_CONFIG_SUPPRESS</span><span class="s3">\&quot;\n                    </span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return this._cacheConfig(directoryPath, baseConfigArray);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Load the config on this directory.</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">configArray = configArrayFactory.loadInDirectory(directoryPath);</span><span class="s3">\n        </span><span class="s1">} catch (error) {</span><span class="s3">\n            </span><span class="s1">/* istanbul ignore next */</span><span class="s3">\n            </span><span class="s1">if (error.code === </span><span class="s3">\&quot;</span><span class="s1">EACCES</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Stop traversing because of 'EACCES' error.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">return this._cacheConfig(directoryPath, baseConfigArray);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">throw error;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (configArray.length &gt; 0 &amp;&amp; configArray.isRoot()) {</span><span class="s3">\n            </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Stop traversing because of 'root:true'.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">configArray.unshift(...baseConfigArray);</span><span class="s3">\n            </span><span class="s1">return this._cacheConfig(directoryPath, configArray);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Load from the ancestors and merge it.</span><span class="s3">\n        </span><span class="s1">const parentPath = path.dirname(directoryPath);</span><span class="s3">\n        </span><span class="s1">const parentConfigArray = parentPath &amp;&amp; parentPath !== directoryPath</span><span class="s3">\n            </span><span class="s1">? this._loadConfigInAncestors(</span><span class="s3">\n                </span><span class="s1">parentPath,</span><span class="s3">\n                </span><span class="s1">configsExistInSubdirs || configArray.length &gt; 0</span><span class="s3">\n            </span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">: baseConfigArray;</span><span class="s3">\n\n        </span><span class="s1">if (configArray.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">configArray.unshift(...parentConfigArray);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">configArray = parentConfigArray;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// Cache and return.</span><span class="s3">\n        </span><span class="s1">return this._cacheConfig(directoryPath, configArray);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Freeze and cache a given config.</span><span class="s3">\n     </span><span class="s1">* @param {string} directoryPath The path to a directory as a cache key.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArray} configArray The config array as a cache value.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} The `configArray` (frozen).</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_cacheConfig(directoryPath, configArray) {</span><span class="s3">\n        </span><span class="s1">const { configCache } = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">Object.freeze(configArray);</span><span class="s3">\n        </span><span class="s1">configCache.set(directoryPath, configArray);</span><span class="s3">\n\n        </span><span class="s1">return configArray;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Finalize a given config array.</span><span class="s3">\n     </span><span class="s1">* Concatenate `--config` and other CLI options.</span><span class="s3">\n     </span><span class="s1">* @param {ConfigArray} configArray The parent config array.</span><span class="s3">\n     </span><span class="s1">* @param {string} directoryPath The path to the leaf directory to find config files.</span><span class="s3">\n     </span><span class="s1">* @param {boolean} ignoreNotFoundError If `true` then it doesn't throw `ConfigurationNotFoundError`.</span><span class="s3">\n     </span><span class="s1">* @returns {ConfigArray} The loaded config.</span><span class="s3">\n     </span><span class="s1">* @private</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">_finalizeConfigArray(configArray, directoryPath, ignoreNotFoundError) {</span><span class="s3">\n        </span><span class="s1">const {</span><span class="s3">\n            </span><span class="s1">cliConfigArray,</span><span class="s3">\n            </span><span class="s1">configArrayFactory,</span><span class="s3">\n            </span><span class="s1">finalizeCache,</span><span class="s3">\n            </span><span class="s1">useEslintrc,</span><span class="s3">\n            </span><span class="s1">builtInRules</span><span class="s3">\n        </span><span class="s1">} = internalSlotsMap.get(this);</span><span class="s3">\n\n        </span><span class="s1">let finalConfigArray = finalizeCache.get(configArray);</span><span class="s3">\n\n        </span><span class="s1">if (!finalConfigArray) {</span><span class="s3">\n            </span><span class="s1">finalConfigArray = configArray;</span><span class="s3">\n\n            </span><span class="s1">// Load the personal config if there are no regular config files.</span><span class="s3">\n            </span><span class="s1">if (</span><span class="s3">\n                </span><span class="s1">useEslintrc &amp;&amp;</span><span class="s3">\n                </span><span class="s1">configArray.every(c =&gt; !c.filePath) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">cliConfigArray.every(c =&gt; !c.filePath) // `--config` option can be a file.</span><span class="s3">\n            </span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">const homePath = os.homedir();</span><span class="s3">\n\n                </span><span class="s1">debug(</span><span class="s3">\&quot;</span><span class="s1">Loading the config file of the home directory:</span><span class="s3">\&quot;</span><span class="s1">, homePath);</span><span class="s3">\n\n                </span><span class="s1">const personalConfigArray = configArrayFactory.loadInDirectory(</span><span class="s3">\n                    </span><span class="s1">homePath,</span><span class="s3">\n                    </span><span class="s1">{ name: </span><span class="s3">\&quot;</span><span class="s1">PersonalConfig</span><span class="s3">\&quot; </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">);</span><span class="s3">\n\n                </span><span class="s1">if (</span><span class="s3">\n                    </span><span class="s1">personalConfigArray.length &gt; 0 &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">!directoryPath.startsWith(homePath)</span><span class="s3">\n                </span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">const lastElement =</span><span class="s3">\n                        </span><span class="s1">personalConfigArray[personalConfigArray.length - 1];</span><span class="s3">\n\n                    </span><span class="s1">emitDeprecationWarning(</span><span class="s3">\n                        </span><span class="s1">lastElement.filePath,</span><span class="s3">\n                        \&quot;</span><span class="s1">ESLINT_PERSONAL_CONFIG_LOAD</span><span class="s3">\&quot;\n                    </span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">finalConfigArray = finalConfigArray.concat(personalConfigArray);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">// Apply CLI options.</span><span class="s3">\n            </span><span class="s1">if (cliConfigArray.length &gt; 0) {</span><span class="s3">\n                </span><span class="s1">finalConfigArray = finalConfigArray.concat(cliConfigArray);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">// Validate rule settings and environments.</span><span class="s3">\n            </span><span class="s1">const validator = new ConfigValidator({</span><span class="s3">\n                </span><span class="s1">builtInRules</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n\n            </span><span class="s1">validator.validateConfigArray(finalConfigArray);</span><span class="s3">\n\n            </span><span class="s1">// Cache it.</span><span class="s3">\n            </span><span class="s1">Object.freeze(finalConfigArray);</span><span class="s3">\n            </span><span class="s1">finalizeCache.set(configArray, finalConfigArray);</span><span class="s3">\n\n            </span><span class="s1">debug(</span><span class="s3">\n                \&quot;</span><span class="s1">Configuration was determined: %o on %s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                </span><span class="s1">finalConfigArray,</span><span class="s3">\n                </span><span class="s1">directoryPath</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// At least one element (the default ignore patterns) exists.</span><span class="s3">\n        </span><span class="s1">if (!ignoreNotFoundError &amp;&amp; useEslintrc &amp;&amp; finalConfigArray.length &lt;= 1) {</span><span class="s3">\n            </span><span class="s1">throw new ConfigurationNotFoundError(directoryPath);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return finalConfigArray;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Public Interface</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">export { CascadingConfigArrayFactory };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Compatibility class for flat config.</span><span class="s3">\n </span><span class="s1">* @author Nicholas C. Zakas</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import createDebug from </span><span class="s3">\&quot;</span><span class="s1">debug</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import path from </span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import environments from </span><span class="s3">\&quot;</span><span class="s1">../conf/environments.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ConfigArrayFactory } from </span><span class="s3">\&quot;</span><span class="s1">./config-array-factory.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Helpers</span><span class="s3">\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Environment} Environment */</span><span class="s3">\n</span><span class="s1">/** @typedef {import(</span><span class="s3">\&quot;</span><span class="s1">../../shared/types</span><span class="s3">\&quot;</span><span class="s1">).Processor} Processor */</span><span class="s3">\n\n</span><span class="s1">const debug = createDebug(</span><span class="s3">\&quot;</span><span class="s1">eslintrc:flat-compat</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">const cafactory = Symbol(</span><span class="s3">\&quot;</span><span class="s1">cafactory</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Translates an ESLintRC-style config object into a flag-config-style config</span><span class="s3">\n </span><span class="s1">* object.</span><span class="s3">\n </span><span class="s1">* @param {Object} eslintrcConfig An ESLintRC-style config object.</span><span class="s3">\n </span><span class="s1">* @param {Object} options Options to help translate the config.</span><span class="s3">\n </span><span class="s1">* @param {string} options.resolveConfigRelativeTo To the directory to resolve</span><span class="s3">\n </span><span class="s1">*      configs from.</span><span class="s3">\n </span><span class="s1">* @param {string} options.resolvePluginsRelativeTo The directory to resolve</span><span class="s3">\n </span><span class="s1">*      plugins from.</span><span class="s3">\n </span><span class="s1">* @param {ReadOnlyMap&lt;string,Environment&gt;} options.pluginEnvironments A map of plugin environment</span><span class="s3">\n </span><span class="s1">*      names to objects.</span><span class="s3">\n </span><span class="s1">* @param {ReadOnlyMap&lt;string,Processor&gt;} options.pluginProcessors A map of plugin processor</span><span class="s3">\n </span><span class="s1">*      names to objects.</span><span class="s3">\n </span><span class="s1">* @returns {Object} A flag-config-style config object.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function translateESLintRC(eslintrcConfig, {</span><span class="s3">\n    </span><span class="s1">resolveConfigRelativeTo,</span><span class="s3">\n    </span><span class="s1">resolvePluginsRelativeTo,</span><span class="s3">\n    </span><span class="s1">pluginEnvironments,</span><span class="s3">\n    </span><span class="s1">pluginProcessors</span><span class="s3">\n</span><span class="s1">}) {</span><span class="s3">\n\n    </span><span class="s1">const flatConfig = {};</span><span class="s3">\n    </span><span class="s1">const configs = [];</span><span class="s3">\n    </span><span class="s1">const languageOptions = {};</span><span class="s3">\n    </span><span class="s1">const linterOptions = {};</span><span class="s3">\n    </span><span class="s1">const keysToCopy = [</span><span class="s3">\&quot;</span><span class="s1">settings</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rules</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">processor</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">const languageOptionsKeysToCopy = [</span><span class="s3">\&quot;</span><span class="s1">globals</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">parser</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">parserOptions</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">const linterOptionsKeysToCopy = [</span><span class="s3">\&quot;</span><span class="s1">noInlineConfig</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">reportUnusedDisableDirectives</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n    </span><span class="s1">// copy over simple translations</span><span class="s3">\n    </span><span class="s1">for (const key of keysToCopy) {</span><span class="s3">\n        </span><span class="s1">if (key in eslintrcConfig &amp;&amp; typeof eslintrcConfig[key] !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">flatConfig[key] = eslintrcConfig[key];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// copy over languageOptions</span><span class="s3">\n    </span><span class="s1">for (const key of languageOptionsKeysToCopy) {</span><span class="s3">\n        </span><span class="s1">if (key in eslintrcConfig &amp;&amp; typeof eslintrcConfig[key] !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n\n            </span><span class="s1">// create the languageOptions key in the flat config</span><span class="s3">\n            </span><span class="s1">flatConfig.languageOptions = languageOptions;</span><span class="s3">\n\n            </span><span class="s1">if (key === </span><span class="s3">\&quot;</span><span class="s1">parser</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">debug(`Resolving parser '${languageOptions[key]}' relative to ${resolveConfigRelativeTo}`);</span><span class="s3">\n\n                </span><span class="s1">if (eslintrcConfig[key].error) {</span><span class="s3">\n                    </span><span class="s1">throw eslintrcConfig[key].error;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">languageOptions[key] = eslintrcConfig[key].definition;</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">// clone any object values that are in the eslintrc config</span><span class="s3">\n            </span><span class="s1">if (eslintrcConfig[key] &amp;&amp; typeof eslintrcConfig[key] === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">languageOptions[key] = {</span><span class="s3">\n                    </span><span class="s1">...eslintrcConfig[key]</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n                </span><span class="s1">languageOptions[key] = eslintrcConfig[key];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// copy over linterOptions</span><span class="s3">\n    </span><span class="s1">for (const key of linterOptionsKeysToCopy) {</span><span class="s3">\n        </span><span class="s1">if (key in eslintrcConfig &amp;&amp; typeof eslintrcConfig[key] !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">flatConfig.linterOptions = linterOptions;</span><span class="s3">\n            </span><span class="s1">linterOptions[key] = eslintrcConfig[key];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// move ecmaVersion a level up</span><span class="s3">\n    </span><span class="s1">if (languageOptions.parserOptions) {</span><span class="s3">\n\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">ecmaVersion</span><span class="s3">\&quot; </span><span class="s1">in languageOptions.parserOptions) {</span><span class="s3">\n            </span><span class="s1">languageOptions.ecmaVersion = languageOptions.parserOptions.ecmaVersion;</span><span class="s3">\n            </span><span class="s1">delete languageOptions.parserOptions.ecmaVersion;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">sourceType</span><span class="s3">\&quot; </span><span class="s1">in languageOptions.parserOptions) {</span><span class="s3">\n            </span><span class="s1">languageOptions.sourceType = languageOptions.parserOptions.sourceType;</span><span class="s3">\n            </span><span class="s1">delete languageOptions.parserOptions.sourceType;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">// check to see if we even need parserOptions anymore and remove it if not</span><span class="s3">\n        </span><span class="s1">if (Object.keys(languageOptions.parserOptions).length === 0) {</span><span class="s3">\n            </span><span class="s1">delete languageOptions.parserOptions;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// overrides</span><span class="s3">\n    </span><span class="s1">if (eslintrcConfig.criteria) {</span><span class="s3">\n        </span><span class="s1">flatConfig.files = [absoluteFilePath =&gt; eslintrcConfig.criteria.test(absoluteFilePath)];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// translate plugins</span><span class="s3">\n    </span><span class="s1">if (eslintrcConfig.plugins &amp;&amp; typeof eslintrcConfig.plugins === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">debug(`Translating plugins: ${eslintrcConfig.plugins}`);</span><span class="s3">\n\n        </span><span class="s1">flatConfig.plugins = {};</span><span class="s3">\n\n        </span><span class="s1">for (const pluginName of Object.keys(eslintrcConfig.plugins)) {</span><span class="s3">\n\n            </span><span class="s1">debug(`Translating plugin: ${pluginName}`);</span><span class="s3">\n            </span><span class="s1">debug(`Resolving plugin '${pluginName} relative to ${resolvePluginsRelativeTo}`);</span><span class="s3">\n\n            </span><span class="s1">const { original: plugin, error } = eslintrcConfig.plugins[pluginName];</span><span class="s3">\n\n            </span><span class="s1">if (error) {</span><span class="s3">\n                </span><span class="s1">throw error;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">flatConfig.plugins[pluginName] = plugin;</span><span class="s3">\n\n            </span><span class="s1">// create a config for any processors</span><span class="s3">\n            </span><span class="s1">if (plugin.processors) {</span><span class="s3">\n                </span><span class="s1">for (const processorName of Object.keys(plugin.processors)) {</span><span class="s3">\n                    </span><span class="s1">if (processorName.startsWith(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n                        </span><span class="s1">debug(`Assigning processor: ${pluginName}/${processorName}`);</span><span class="s3">\n\n                        </span><span class="s1">configs.unshift({</span><span class="s3">\n                            </span><span class="s1">files: [`**/*${processorName}`],</span><span class="s3">\n                            </span><span class="s1">processor: pluginProcessors.get(`${pluginName}/${processorName}`)</span><span class="s3">\n                        </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// translate env - must come after plugins</span><span class="s3">\n    </span><span class="s1">if (eslintrcConfig.env &amp;&amp; typeof eslintrcConfig.env === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">for (const envName of Object.keys(eslintrcConfig.env)) {</span><span class="s3">\n\n            </span><span class="s1">// only add environments that are true</span><span class="s3">\n            </span><span class="s1">if (eslintrcConfig.env[envName]) {</span><span class="s3">\n                </span><span class="s1">debug(`Translating environment: ${envName}`);</span><span class="s3">\n\n                </span><span class="s1">if (environments.has(envName)) {</span><span class="s3">\n\n                    </span><span class="s1">// built-in environments should be defined first</span><span class="s3">\n                    </span><span class="s1">configs.unshift(...translateESLintRC({</span><span class="s3">\n                        </span><span class="s1">criteria: eslintrcConfig.criteria,</span><span class="s3">\n                        </span><span class="s1">...environments.get(envName)</span><span class="s3">\n                    </span><span class="s1">}, {</span><span class="s3">\n                        </span><span class="s1">resolveConfigRelativeTo,</span><span class="s3">\n                        </span><span class="s1">resolvePluginsRelativeTo</span><span class="s3">\n                    </span><span class="s1">}));</span><span class="s3">\n                </span><span class="s1">} else if (pluginEnvironments.has(envName)) {</span><span class="s3">\n\n                    </span><span class="s1">// if the environment comes from a plugin, it should come after the plugin config</span><span class="s3">\n                    </span><span class="s1">configs.push(...translateESLintRC({</span><span class="s3">\n                        </span><span class="s1">criteria: eslintrcConfig.criteria,</span><span class="s3">\n                        </span><span class="s1">...pluginEnvironments.get(envName)</span><span class="s3">\n                    </span><span class="s1">}, {</span><span class="s3">\n                        </span><span class="s1">resolveConfigRelativeTo,</span><span class="s3">\n                        </span><span class="s1">resolvePluginsRelativeTo</span><span class="s3">\n                    </span><span class="s1">}));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// only add if there are actually keys in the config</span><span class="s3">\n    </span><span class="s1">if (Object.keys(flatConfig).length &gt; 0) {</span><span class="s3">\n        </span><span class="s1">configs.push(flatConfig);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return configs;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Exports</span><span class="s3">\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A compatibility class for working with configs.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class FlatCompat {</span><span class="s3">\n\n    </span><span class="s1">constructor({</span><span class="s3">\n        </span><span class="s1">baseDirectory = process.cwd(),</span><span class="s3">\n        </span><span class="s1">resolvePluginsRelativeTo = baseDirectory,</span><span class="s3">\n        </span><span class="s1">recommendedConfig,</span><span class="s3">\n        </span><span class="s1">allConfig</span><span class="s3">\n    </span><span class="s1">} = {}) {</span><span class="s3">\n        </span><span class="s1">this.baseDirectory = baseDirectory;</span><span class="s3">\n        </span><span class="s1">this.resolvePluginsRelativeTo = resolvePluginsRelativeTo;</span><span class="s3">\n        </span><span class="s1">this[cafactory] = new ConfigArrayFactory({</span><span class="s3">\n            </span><span class="s1">cwd: baseDirectory,</span><span class="s3">\n            </span><span class="s1">resolvePluginsRelativeTo,</span><span class="s3">\n            </span><span class="s1">getEslintAllConfig: () =&gt; {</span><span class="s3">\n\n                </span><span class="s1">if (!allConfig) {</span><span class="s3">\n                    </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Missing parameter 'allConfig' in FlatCompat constructor.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">return allConfig;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">getEslintRecommendedConfig: () =&gt; {</span><span class="s3">\n\n                </span><span class="s1">if (!recommendedConfig) {</span><span class="s3">\n                    </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Missing parameter 'recommendedConfig' in FlatCompat constructor.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">return recommendedConfig;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Translates an ESLintRC-style config into a flag-config-style config.</span><span class="s3">\n     </span><span class="s1">* @param {Object} eslintrcConfig The ESLintRC-style config object.</span><span class="s3">\n     </span><span class="s1">* @returns {Object} A flag-config-style config object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">config(eslintrcConfig) {</span><span class="s3">\n        </span><span class="s1">const eslintrcArray = this[cafactory].create(eslintrcConfig, {</span><span class="s3">\n            </span><span class="s1">basePath: this.baseDirectory</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n\n        </span><span class="s1">const flatArray = [];</span><span class="s3">\n        </span><span class="s1">let hasIgnorePatterns = false;</span><span class="s3">\n\n        </span><span class="s1">eslintrcArray.forEach(configData =&gt; {</span><span class="s3">\n            </span><span class="s1">if (configData.type === </span><span class="s3">\&quot;</span><span class="s1">config</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">hasIgnorePatterns = hasIgnorePatterns || configData.ignorePattern;</span><span class="s3">\n                </span><span class="s1">flatArray.push(...translateESLintRC(configData, {</span><span class="s3">\n                    </span><span class="s1">resolveConfigRelativeTo: path.join(this.baseDirectory, </span><span class="s3">\&quot;</span><span class="s1">__placeholder.js</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n                    </span><span class="s1">resolvePluginsRelativeTo: path.join(this.resolvePluginsRelativeTo, </span><span class="s3">\&quot;</span><span class="s1">__placeholder.js</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n                    </span><span class="s1">pluginEnvironments: eslintrcArray.pluginEnvironments,</span><span class="s3">\n                    </span><span class="s1">pluginProcessors: eslintrcArray.pluginProcessors</span><span class="s3">\n                </span><span class="s1">}));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n\n        </span><span class="s1">// combine ignorePatterns to emulate ESLintRC behavior better</span><span class="s3">\n        </span><span class="s1">if (hasIgnorePatterns) {</span><span class="s3">\n            </span><span class="s1">flatArray.unshift({</span><span class="s3">\n                </span><span class="s1">ignores: [filePath =&gt; {</span><span class="s3">\n\n                    </span><span class="s1">// Compute the final config for this file.</span><span class="s3">\n                    </span><span class="s1">// This filters config array elements by `files`/`excludedFiles` then merges the elements.</span><span class="s3">\n                    </span><span class="s1">const finalConfig = eslintrcArray.extractConfig(filePath);</span><span class="s3">\n\n                    </span><span class="s1">// Test the `ignorePattern` properties of the final config.</span><span class="s3">\n                    </span><span class="s1">return Boolean(finalConfig.ignores) &amp;&amp; finalConfig.ignores(filePath);</span><span class="s3">\n                </span><span class="s1">}]</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">return flatArray;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Translates the `env` section of an ESLintRC-style config.</span><span class="s3">\n     </span><span class="s1">* @param {Object} envConfig The `env` section of an ESLintRC config.</span><span class="s3">\n     </span><span class="s1">* @returns {Object[]} An array of flag-config objects representing the environments.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">env(envConfig) {</span><span class="s3">\n        </span><span class="s1">return this.config({</span><span class="s3">\n            </span><span class="s1">env: envConfig</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Translates the `extends` section of an ESLintRC-style config.</span><span class="s3">\n     </span><span class="s1">* @param {...string} configsToExtend The names of the configs to load.</span><span class="s3">\n     </span><span class="s1">* @returns {Object[]} An array of flag-config objects representing the config.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">extends(...configsToExtend) {</span><span class="s3">\n        </span><span class="s1">return this.config({</span><span class="s3">\n            </span><span class="s1">extends: configsToExtend</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Translates the `plugins` section of an ESLintRC-style config.</span><span class="s3">\n     </span><span class="s1">* @param {...string} plugins The names of the plugins to load.</span><span class="s3">\n     </span><span class="s1">* @returns {Object[]} An array of flag-config objects representing the plugins.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">plugins(...plugins) {</span><span class="s3">\n        </span><span class="s1">return this.config({</span><span class="s3">\n            </span><span class="s1">plugins</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export { FlatCompat };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @fileoverview Package exports for @eslint/eslintrc</span><span class="s3">\n </span><span class="s1">* @author Nicholas C. Zakas</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Requirements</span><span class="s3">\n</span><span class="s1">//------------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">import {</span><span class="s3">\n    </span><span class="s1">ConfigArrayFactory,</span><span class="s3">\n    </span><span class="s1">createContext as createConfigArrayFactoryContext</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./config-array-factory.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">import { CascadingConfigArrayFactory } from </span><span class="s3">\&quot;</span><span class="s1">./cascading-config-array-factory.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import * as ModuleResolver from </span><span class="s3">\&quot;</span><span class="s1">./shared/relative-module-resolver.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ConfigArray, getUsedExtractedConfigs } from </span><span class="s3">\&quot;</span><span class="s1">./config-array/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ConfigDependency } from </span><span class="s3">\&quot;</span><span class="s1">./config-array/config-dependency.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ExtractedConfig } from </span><span class="s3">\&quot;</span><span class="s1">./config-array/extracted-config.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { IgnorePattern } from </span><span class="s3">\&quot;</span><span class="s1">./config-array/ignore-pattern.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { OverrideTester } from </span><span class="s3">\&quot;</span><span class="s1">./config-array/override-tester.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import * as ConfigOps from </span><span class="s3">\&quot;</span><span class="s1">./shared/config-ops.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ConfigValidator from </span><span class="s3">\&quot;</span><span class="s1">./shared/config-validator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import * as naming from </span><span class="s3">\&quot;</span><span class="s1">./shared/naming.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FlatCompat } from </span><span class="s3">\&quot;</span><span class="s1">./flat-compat.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import environments from </span><span class="s3">\&quot;</span><span class="s1">../conf/environments.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n</span><span class="s1">// Exports</span><span class="s3">\n</span><span class="s1">//-----------------------------------------------------------------------------</span><span class="s3">\n\n</span><span class="s1">const Legacy = {</span><span class="s3">\n    </span><span class="s1">ConfigArray,</span><span class="s3">\n    </span><span class="s1">createConfigArrayFactoryContext,</span><span class="s3">\n    </span><span class="s1">CascadingConfigArrayFactory,</span><span class="s3">\n    </span><span class="s1">ConfigArrayFactory,</span><span class="s3">\n    </span><span class="s1">ConfigDependency,</span><span class="s3">\n    </span><span class="s1">ExtractedConfig,</span><span class="s3">\n    </span><span class="s1">IgnorePattern,</span><span class="s3">\n    </span><span class="s1">OverrideTester,</span><span class="s3">\n    </span><span class="s1">getUsedExtractedConfigs,</span><span class="s3">\n    </span><span class="s1">environments,</span><span class="s3">\n\n    </span><span class="s1">// shared</span><span class="s3">\n    </span><span class="s1">ConfigOps,</span><span class="s3">\n    </span><span class="s1">ConfigValidator,</span><span class="s3">\n    </span><span class="s1">ModuleResolver,</span><span class="s3">\n    </span><span class="s1">naming</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n\n    </span><span class="s1">Legacy,</span><span class="s3">\n\n    </span><span class="s1">FlatCompat</span><span class="s3">\n\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;debug&quot;</span><span class="s0">,</span><span class="s1">&quot;debugOrig&quot;</span><span class="s0">,</span><span class="s1">&quot;path&quot;</span><span class="s0">,</span><span class="s1">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">&quot;assert&quot;</span><span class="s0">,</span><span class="s1">&quot;internalSlotsMap&quot;</span><span class="s0">,</span><span class="s1">&quot;util&quot;</span><span class="s0">,</span><span class="s1">&quot;minimatch&quot;</span><span class="s0">,</span><span class="s1">&quot;Ajv&quot;</span><span class="s0">,</span><span class="s1">&quot;globals&quot;</span><span class="s0">,</span><span class="s1">&quot;BuiltInEnvironments&quot;</span><span class="s0">,</span><span class="s1">&quot;ConfigOps.normalizeConfigGlobal&quot;</span><span class="s0">,</span><span class="s1">&quot;Module&quot;</span><span class="s0">,</span><span class="s1">&quot;require&quot;</span><span class="s0">,</span><span class="s1">&quot;createRequire&quot;</span><span class="s0">,</span><span class="s1">&quot;fs&quot;</span><span class="s0">,</span><span class="s1">&quot;stripComments&quot;</span><span class="s0">,</span><span class="s1">&quot;importFresh&quot;</span><span class="s0">,</span><span class="s1">&quot;ModuleResolver.resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;naming.normalizePackageName&quot;</span><span class="s0">,</span><span class="s1">&quot;naming.getShorthandName&quot;</span><span class="s0">,</span><span class="s1">&quot;os&quot;</span><span class="s0">,</span><span class="s1">&quot;createDebug&quot;</span><span class="s0">,</span><span class="s1">&quot;createConfigArrayFactoryContext&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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,CAAC,CAAC,CAAC;AACrE,SAAS;AACT,QAAQ,MAAM,KAAK,CAAC;AACpB,KAAK;AACL;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAsBA;AACA,MAAMC,SAAO,GAAGC,oBAAa,CAAC,mDAAe,CAAC,CAAC;AAC/C;AACA,MAAMd,OAAK,GAAGC,6BAAS,CAAC,+BAA+B,CAAC,CAAC;AACzD;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe,GAAG;AACxB,IAAI,cAAc;AAClB,IAAI,eAAe;AACnB,IAAI,gBAAgB;AACpB,IAAI,eAAe;AACnB,IAAI,gBAAgB;AACpB,IAAI,WAAW;AACf,IAAI,cAAc;AAClB,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMI,kBAAgB,GAAG,IAAI,OAAO,EAAE,CAAC;AACvC;AACA;AACA,MAAM,iBAAiB,GAAG,IAAI,OAAO,EAAE,CAAC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,CAAC,UAAU,EAAE;AAChC,IAAI;AACJ,QAAQ,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC;AACzC,QAAQH,wBAAI,CAAC,UAAU,CAAC,UAAU,CAAC;AACnC,MAAM;AACN,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,QAAQ,CAAC,QAAQ,EAAE;AAC5B,IAAI,OAAOa,sBAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,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&quot;</span><span class="s0">}</span></pre>
</body>
</html>