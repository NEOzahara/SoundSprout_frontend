<html>
<head>
<title>index.min.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6aab73;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #2aacb8;}
.s5 { color: #7a7e85;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
index.min.js</font>
</center></td></tr></table>
<pre><span class="s0">&quot;use strict&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s3">G</span><span class="s1">=(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">)=&gt;{</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">t</span><span class="s1">.</span><span class="s3">has</span><span class="s1">(</span><span class="s3">l</span><span class="s1">))</span><span class="s2">throw </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;Cannot &quot;</span><span class="s1">+</span><span class="s3">e</span><span class="s1">)};</span><span class="s2">var </span><span class="s3">j</span><span class="s1">=(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">)=&gt;(</span><span class="s3">G</span><span class="s1">(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;read from private field&quot;</span><span class="s1">),</span><span class="s3">e</span><span class="s1">?</span><span class="s3">e</span><span class="s1">.</span><span class="s3">call</span><span class="s1">(</span><span class="s3">l</span><span class="s1">):</span><span class="s3">t</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">l</span><span class="s1">)),</span><span class="s3">I</span><span class="s1">=(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">)=&gt;{</span><span class="s2">if</span><span class="s1">(</span><span class="s3">t</span><span class="s1">.</span><span class="s3">has</span><span class="s1">(</span><span class="s3">l</span><span class="s1">))</span><span class="s2">throw </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;Cannot add the same private member more than once&quot;</span><span class="s1">);</span><span class="s3">t </span><span class="s2">instanceof </span><span class="s3">WeakSet</span><span class="s1">?</span><span class="s3">t</span><span class="s1">.</span><span class="s3">add</span><span class="s1">(</span><span class="s3">l</span><span class="s1">):</span><span class="s3">t</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">e</span><span class="s1">)},</span><span class="s3">x</span><span class="s1">=(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">)=&gt;(</span><span class="s3">G</span><span class="s1">(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;write to private field&quot;</span><span class="s1">),</span><span class="s3">i</span><span class="s1">?</span><span class="s3">i</span><span class="s1">.</span><span class="s3">call</span><span class="s1">(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">e</span><span class="s1">):</span><span class="s3">t</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">e</span><span class="s1">),</span><span class="s3">e</span><span class="s1">);</span><span class="s3">Object</span><span class="s1">.</span><span class="s3">defineProperty</span><span class="s1">(</span><span class="s3">exports</span><span class="s1">,</span><span class="s0">&quot;__esModule&quot;</span><span class="s1">,{</span><span class="s3">value</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">});</span><span class="s3">exports</span><span class="s1">.</span><span class="s3">LRUCache</span><span class="s1">=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">;</span><span class="s2">var </span><span class="s3">T</span><span class="s1">=</span><span class="s2">typeof </span><span class="s3">performance</span><span class="s1">==</span><span class="s0">&quot;object&quot;</span><span class="s1">&amp;&amp;</span><span class="s3">performance</span><span class="s1">&amp;&amp;</span><span class="s2">typeof </span><span class="s3">performance</span><span class="s1">.</span><span class="s3">now</span><span class="s1">==</span><span class="s0">&quot;function&quot;</span><span class="s1">?</span><span class="s3">performance</span><span class="s1">:</span><span class="s3">Date</span><span class="s1">,</span><span class="s3">P</span><span class="s1">=</span><span class="s2">new </span><span class="s3">Set</span><span class="s1">,</span><span class="s3">U</span><span class="s1">=</span><span class="s2">typeof </span><span class="s3">process</span><span class="s1">==</span><span class="s0">&quot;object&quot;</span><span class="s1">&amp;&amp;</span><span class="s3">process</span><span class="s1">?</span><span class="s3">process</span><span class="s1">:{},</span><span class="s3">H</span><span class="s1">=(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">)=&gt;{</span><span class="s2">typeof </span><span class="s3">U</span><span class="s1">.</span><span class="s3">emitWarning</span><span class="s1">==</span><span class="s0">&quot;function&quot;</span><span class="s1">?</span><span class="s3">U</span><span class="s1">.</span><span class="s3">emitWarning</span><span class="s1">(</span><span class="s3">l</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">):</span><span class="s3">console</span><span class="s1">.</span><span class="s3">error</span><span class="s1">(</span><span class="s0">`[</span><span class="s3">$</span><span class="s1">{</span><span class="s3">e</span><span class="s1">}</span><span class="s0">] </span><span class="s3">$</span><span class="s1">{</span><span class="s3">t</span><span class="s1">}</span><span class="s0">: </span><span class="s3">$</span><span class="s1">{</span><span class="s3">l</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)},</span><span class="s3">D</span><span class="s1">=</span><span class="s3">globalThis</span><span class="s1">.</span><span class="s3">AbortController</span><span class="s1">,</span><span class="s3">N</span><span class="s1">=</span><span class="s3">globalThis</span><span class="s1">.</span><span class="s3">AbortSignal</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">typeof </span><span class="s3">D</span><span class="s1">&gt;</span><span class="s0">&quot;u&quot;</span><span class="s1">){</span><span class="s3">N</span><span class="s1">=</span><span class="s2">class</span><span class="s1">{</span><span class="s3">onabort</span><span class="s1">;</span><span class="s3">_onabort</span><span class="s1">=[];</span><span class="s3">reason</span><span class="s1">;</span><span class="s3">aborted</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">){</span><span class="s2">this</span><span class="s1">.</span><span class="s3">_onabort</span><span class="s1">.</span><span class="s3">push</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)}},</span><span class="s3">D</span><span class="s1">=</span><span class="s2">class</span><span class="s1">{</span><span class="s3">constructor</span><span class="s1">(){</span><span class="s3">t</span><span class="s1">()}</span><span class="s3">signal</span><span class="s1">=</span><span class="s2">new </span><span class="s3">N</span><span class="s1">;</span><span class="s3">abort</span><span class="s1">(</span><span class="s3">i</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">aborted</span><span class="s1">){</span><span class="s2">this</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">reason</span><span class="s1">=</span><span class="s3">i</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">aborted</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">s of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">_onabort</span><span class="s1">)</span><span class="s3">s</span><span class="s1">(</span><span class="s3">i</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">onabort</span><span class="s1">?.(</span><span class="s3">i</span><span class="s1">)}}};</span><span class="s2">let </span><span class="s3">l</span><span class="s1">=</span><span class="s3">U</span><span class="s1">.</span><span class="s3">env</span><span class="s1">?.</span><span class="s3">LRU_CACHE_IGNORE_AC_WARNING</span><span class="s1">!==</span><span class="s0">&quot;1&quot;</span><span class="s1">,</span><span class="s3">t</span><span class="s1">=()=&gt;{</span><span class="s3">l</span><span class="s1">&amp;&amp;(</span><span class="s3">l</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">,</span><span class="s3">H</span><span class="s1">(</span><span class="s0">&quot;AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.&quot;</span><span class="s1">,</span><span class="s0">&quot;NO_ABORT_CONTROLLER&quot;</span><span class="s1">,</span><span class="s0">&quot;ENOTSUP&quot;</span><span class="s1">,</span><span class="s3">t</span><span class="s1">))}}</span><span class="s2">var </span><span class="s3">V</span><span class="s1">=</span><span class="s3">l</span><span class="s1">=&gt;!</span><span class="s3">P</span><span class="s1">.</span><span class="s3">has</span><span class="s1">(</span><span class="s3">l</span><span class="s1">),</span><span class="s3">Y</span><span class="s1">=</span><span class="s3">Symbol</span><span class="s1">(</span><span class="s0">&quot;type&quot;</span><span class="s1">),</span><span class="s3">A</span><span class="s1">=</span><span class="s3">l</span><span class="s1">=&gt;</span><span class="s3">l</span><span class="s1">&amp;&amp;</span><span class="s3">l</span><span class="s1">===</span><span class="s3">Math</span><span class="s1">.</span><span class="s3">floor</span><span class="s1">(</span><span class="s3">l</span><span class="s1">)&amp;&amp;</span><span class="s3">l</span><span class="s1">&gt;</span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s3">isFinite</span><span class="s1">(</span><span class="s3">l</span><span class="s1">),</span><span class="s3">k</span><span class="s1">=</span><span class="s3">l</span><span class="s1">=&gt;</span><span class="s3">A</span><span class="s1">(</span><span class="s3">l</span><span class="s1">)?</span><span class="s3">l</span><span class="s1">&lt;=</span><span class="s3">Math</span><span class="s1">.</span><span class="s3">pow</span><span class="s1">(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">8</span><span class="s1">)?</span><span class="s3">Uint8Array</span><span class="s1">:</span><span class="s3">l</span><span class="s1">&lt;=</span><span class="s3">Math</span><span class="s1">.</span><span class="s3">pow</span><span class="s1">(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">16</span><span class="s1">)?</span><span class="s3">Uint16Array</span><span class="s1">:</span><span class="s3">l</span><span class="s1">&lt;=</span><span class="s3">Math</span><span class="s1">.</span><span class="s3">pow</span><span class="s1">(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">32</span><span class="s1">)?</span><span class="s3">Uint32Array</span><span class="s1">:</span><span class="s3">l</span><span class="s1">&lt;=</span><span class="s3">Number</span><span class="s1">.</span><span class="s3">MAX_SAFE_INTEGER</span><span class="s1">?</span><span class="s3">E</span><span class="s1">:</span><span class="s2">null</span><span class="s1">:</span><span class="s2">null</span><span class="s1">,</span><span class="s3">E</span><span class="s1">=</span><span class="s2">class extends </span><span class="s3">Array</span><span class="s1">{</span><span class="s3">constructor</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">super</span><span class="s1">(</span><span class="s3">t</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">fill</span><span class="s1">(</span><span class="s4">0</span><span class="s1">)}},</span><span class="s3">v</span><span class="s1">,</span><span class="s3">O</span><span class="s1">=</span><span class="s2">class</span><span class="s1">{</span><span class="s3">heap</span><span class="s1">;</span><span class="s3">length</span><span class="s1">;</span><span class="s2">static </span><span class="s3">create</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s3">k</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">e</span><span class="s1">)</span><span class="s2">return</span><span class="s1">[];</span><span class="s3">x</span><span class="s1">(</span><span class="s3">O</span><span class="s1">,</span><span class="s3">v</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s2">new </span><span class="s3">O</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">);</span><span class="s2">return </span><span class="s3">x</span><span class="s1">(</span><span class="s3">O</span><span class="s1">,</span><span class="s3">v</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">i</span><span class="s1">}</span><span class="s3">constructor</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">j</span><span class="s1">(</span><span class="s3">O</span><span class="s1">,</span><span class="s3">v</span><span class="s1">))</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;instantiate Stack using Stack.create(n)&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.</span><span class="s3">heap</span><span class="s1">=</span><span class="s2">new </span><span class="s3">e</span><span class="s1">(</span><span class="s3">t</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">length</span><span class="s1">=</span><span class="s4">0</span><span class="s1">}</span><span class="s3">push</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">this</span><span class="s1">.</span><span class="s3">heap</span><span class="s1">[</span><span class="s2">this</span><span class="s1">.</span><span class="s3">length</span><span class="s1">++]=</span><span class="s3">t</span><span class="s1">}</span><span class="s3">pop</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">heap</span><span class="s1">[--</span><span class="s2">this</span><span class="s1">.</span><span class="s3">length</span><span class="s1">]}},</span><span class="s3">W</span><span class="s1">=</span><span class="s3">O</span><span class="s1">;</span><span class="s3">v</span><span class="s1">=</span><span class="s2">new </span><span class="s3">WeakMap</span><span class="s1">,</span><span class="s3">I</span><span class="s1">(</span><span class="s3">W</span><span class="s1">,</span><span class="s3">v</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);</span><span class="s2">var </span><span class="s3">C</span><span class="s1">=</span><span class="s2">class</span><span class="s1">{</span><span class="s3">#g</span><span class="s1">;</span><span class="s3">#f</span><span class="s1">;</span><span class="s3">#p</span><span class="s1">;</span><span class="s3">#w</span><span class="s1">;</span><span class="s3">#R</span><span class="s1">;</span><span class="s3">#W</span><span class="s1">;</span><span class="s3">ttl</span><span class="s1">;</span><span class="s3">ttlResolution</span><span class="s1">;</span><span class="s3">ttlAutopurge</span><span class="s1">;</span><span class="s3">updateAgeOnGet</span><span class="s1">;</span><span class="s3">updateAgeOnHas</span><span class="s1">;</span><span class="s3">allowStale</span><span class="s1">;</span><span class="s3">noDisposeOnSet</span><span class="s1">;</span><span class="s3">noUpdateTTL</span><span class="s1">;</span><span class="s3">maxEntrySize</span><span class="s1">;</span><span class="s3">sizeCalculation</span><span class="s1">;</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">;</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">;</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">;</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">;</span><span class="s3">ignoreFetchAbort</span><span class="s1">;</span><span class="s3">#n</span><span class="s1">;</span><span class="s3">#S</span><span class="s1">;</span><span class="s3">#s</span><span class="s1">;</span><span class="s3">#i</span><span class="s1">;</span><span class="s3">#t</span><span class="s1">;</span><span class="s3">#l</span><span class="s1">;</span><span class="s3">#c</span><span class="s1">;</span><span class="s3">#o</span><span class="s1">;</span><span class="s3">#h</span><span class="s1">;</span><span class="s3">#_</span><span class="s1">;</span><span class="s3">#r</span><span class="s1">;</span><span class="s3">#b</span><span class="s1">;</span><span class="s3">#m</span><span class="s1">;</span><span class="s3">#u</span><span class="s1">;</span><span class="s3">#y</span><span class="s1">;</span><span class="s3">#E</span><span class="s1">;</span><span class="s3">#a</span><span class="s1">;</span><span class="s2">static </span><span class="s3">unsafeExposeInternals</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">return</span><span class="s1">{</span><span class="s3">starts</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">,</span><span class="s3">ttls</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">,</span><span class="s3">sizes</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">,</span><span class="s3">keyMap</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">,</span><span class="s3">keyList</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">,</span><span class="s3">valList</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">,</span><span class="s3">next</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">,</span><span class="s3">prev</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">,</span><span class="s3">get head</span><span class="s1">(){</span><span class="s2">return </span><span class="s3">t</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">},</span><span class="s3">get tail</span><span class="s1">(){</span><span class="s2">return </span><span class="s3">t</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">},</span><span class="s3">free</span><span class="s1">:</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">,</span><span class="s3">isBackgroundFetch</span><span class="s1">:</span><span class="s3">e</span><span class="s1">=&gt;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s3">backgroundFetch</span><span class="s1">:(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">,</span><span class="s3">n</span><span class="s1">)=&gt;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#x</span><span class="s1">(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">,</span><span class="s3">n</span><span class="s1">),</span><span class="s3">moveToTail</span><span class="s1">:</span><span class="s3">e</span><span class="s1">=&gt;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#C</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s3">indexes</span><span class="s1">:</span><span class="s3">e</span><span class="s1">=&gt;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s3">rindexes</span><span class="s1">:</span><span class="s3">e</span><span class="s1">=&gt;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s3">isStale</span><span class="s1">:</span><span class="s3">e</span><span class="s1">=&gt;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">e</span><span class="s1">)}}</span><span class="s3">get max</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">}</span><span class="s3">get maxSize</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">}</span><span class="s3">get calculatedSize</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">}</span><span class="s3">get size</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">}</span><span class="s3">get fetchMethod</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#R</span><span class="s1">}</span><span class="s3">get memoMethod</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#W</span><span class="s1">}</span><span class="s3">get dispose</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">}</span><span class="s3">get disposeAfter</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">}</span><span class="s3">constructor</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">let</span><span class="s1">{</span><span class="s3">max</span><span class="s1">:</span><span class="s3">e</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s3">ttl</span><span class="s1">:</span><span class="s3">i</span><span class="s1">,</span><span class="s3">ttlResolution</span><span class="s1">:</span><span class="s3">s</span><span class="s1">=</span><span class="s4">1</span><span class="s1">,</span><span class="s3">ttlAutopurge</span><span class="s1">:</span><span class="s3">n</span><span class="s1">,</span><span class="s3">updateAgeOnGet</span><span class="s1">:</span><span class="s3">h</span><span class="s1">,</span><span class="s3">updateAgeOnHas</span><span class="s1">:</span><span class="s3">o</span><span class="s1">,</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">r</span><span class="s1">,</span><span class="s3">dispose</span><span class="s1">:</span><span class="s3">g</span><span class="s1">,</span><span class="s3">disposeAfter</span><span class="s1">:</span><span class="s3">b</span><span class="s1">,</span><span class="s3">noDisposeOnSet</span><span class="s1">:</span><span class="s3">f</span><span class="s1">,</span><span class="s3">noUpdateTTL</span><span class="s1">:</span><span class="s3">u</span><span class="s1">,</span><span class="s3">maxSize</span><span class="s1">:</span><span class="s3">c</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s3">maxEntrySize</span><span class="s1">:</span><span class="s3">F</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s3">sizeCalculation</span><span class="s1">:</span><span class="s3">d</span><span class="s1">,</span><span class="s3">fetchMethod</span><span class="s1">:</span><span class="s3">S</span><span class="s1">,</span><span class="s3">memoMethod</span><span class="s1">:</span><span class="s3">a</span><span class="s1">,</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">:</span><span class="s3">w</span><span class="s1">,</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">:</span><span class="s3">m</span><span class="s1">,</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">:</span><span class="s3">p</span><span class="s1">,</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">:</span><span class="s3">_</span><span class="s1">,</span><span class="s3">ignoreFetchAbort</span><span class="s1">:</span><span class="s3">z</span><span class="s1">}=</span><span class="s3">t</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">e</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s3">A</span><span class="s1">(</span><span class="s3">e</span><span class="s1">))</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;max option must be a nonnegative integer&quot;</span><span class="s1">);</span><span class="s2">let </span><span class="s3">y</span><span class="s1">=</span><span class="s3">e</span><span class="s1">?</span><span class="s3">k</span><span class="s1">(</span><span class="s3">e</span><span class="s1">):</span><span class="s3">Array</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">y</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;invalid max value: &quot;</span><span class="s1">+</span><span class="s3">e</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">=</span><span class="s3">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">=</span><span class="s3">c</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">maxEntrySize</span><span class="s1">=</span><span class="s3">F</span><span class="s1">||</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">sizeCalculation</span><span class="s1">=</span><span class="s3">d</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">sizeCalculation</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">maxEntrySize</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;cannot set sizeCalculation without setting maxSize or maxEntrySize&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">typeof this</span><span class="s1">.</span><span class="s3">sizeCalculation</span><span class="s1">!=</span><span class="s0">&quot;function&quot;</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;sizeCalculation set to non-function&quot;</span><span class="s1">)}</span><span class="s2">if</span><span class="s1">(</span><span class="s3">a</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">typeof </span><span class="s3">a</span><span class="s1">!=</span><span class="s0">&quot;function&quot;</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;memoMethod must be a function if defined&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#W</span><span class="s1">=</span><span class="s3">a</span><span class="s1">,</span><span class="s3">S</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">typeof </span><span class="s3">S</span><span class="s1">!=</span><span class="s0">&quot;function&quot;</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;fetchMethod must be a function if specified&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#R</span><span class="s1">=</span><span class="s3">S</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#E</span><span class="s1">=!!</span><span class="s3">S</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">=</span><span class="s2">new </span><span class="s3">Map</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">=</span><span class="s2">new </span><span class="s3">Array</span><span class="s1">(</span><span class="s3">e</span><span class="s1">).</span><span class="s3">fill</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">=</span><span class="s2">new </span><span class="s3">Array</span><span class="s1">(</span><span class="s3">e</span><span class="s1">).</span><span class="s3">fill</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">=</span><span class="s2">new </span><span class="s3">y</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">=</span><span class="s2">new </span><span class="s3">y</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">=</span><span class="s3">W</span><span class="s1">.</span><span class="s3">create</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">typeof </span><span class="s3">g</span><span class="s1">==</span><span class="s0">&quot;function&quot;</span><span class="s1">&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">=</span><span class="s3">g</span><span class="s1">),</span><span class="s2">typeof </span><span class="s3">b</span><span class="s1">==</span><span class="s0">&quot;function&quot;</span><span class="s1">?(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">=</span><span class="s3">b</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">=[]):(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">=!!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">=!!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDisposeOnSet</span><span class="s1">=!!</span><span class="s3">f</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noUpdateTTL</span><span class="s1">=!!</span><span class="s3">u</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">=!!</span><span class="s3">w</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">=!!</span><span class="s3">p</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">=!!</span><span class="s3">_</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ignoreFetchAbort</span><span class="s1">=!!</span><span class="s3">z</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">maxEntrySize</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s3">A</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">))</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;maxSize must be a positive integer if specified&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">A</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">maxEntrySize</span><span class="s1">))</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;maxEntrySize must be a positive integer if specified&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#P</span><span class="s1">()}</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStale</span><span class="s1">=!!</span><span class="s3">r</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">=!!</span><span class="s3">m</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">updateAgeOnGet</span><span class="s1">=!!</span><span class="s3">h</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">updateAgeOnHas</span><span class="s1">=!!</span><span class="s3">o</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttlResolution</span><span class="s1">=</span><span class="s3">A</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)||</span><span class="s3">s</span><span class="s1">===</span><span class="s4">0</span><span class="s1">?</span><span class="s3">s</span><span class="s1">:</span><span class="s4">1</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttlAutopurge</span><span class="s1">=!!</span><span class="s3">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">=</span><span class="s3">i</span><span class="s1">||</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">A</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">))</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;ttl must be a positive integer if specified&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#U</span><span class="s1">()}</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">===</span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">===</span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">===</span><span class="s4">0</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;At least one of max, maxSize, or ttl is required&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttlAutopurge</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">){</span><span class="s2">let </span><span class="s3">R</span><span class="s1">=</span><span class="s0">&quot;LRU_CACHE_UNBOUNDED&quot;</span><span class="s1">;</span><span class="s3">V</span><span class="s1">(</span><span class="s3">R</span><span class="s1">)&amp;&amp;(</span><span class="s3">P</span><span class="s1">.</span><span class="s3">add</span><span class="s1">(</span><span class="s3">R</span><span class="s1">),</span><span class="s3">H</span><span class="s1">(</span><span class="s0">&quot;TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.&quot;</span><span class="s1">,</span><span class="s0">&quot;UnboundedCacheWarning&quot;</span><span class="s1">,</span><span class="s3">R</span><span class="s1">,</span><span class="s3">C</span><span class="s1">))}}</span><span class="s3">getRemainingTTL</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">has</span><span class="s1">(</span><span class="s3">t</span><span class="s1">)?</span><span class="s4">1</span><span class="s1">/</span><span class="s4">0</span><span class="s1">:</span><span class="s4">0</span><span class="s1">}</span><span class="s3">#U</span><span class="s1">(){</span><span class="s2">let </span><span class="s3">t</span><span class="s1">=</span><span class="s2">new </span><span class="s3">E</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">),</span><span class="s3">e</span><span class="s1">=</span><span class="s2">new </span><span class="s3">E</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">=</span><span class="s3">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">=</span><span class="s3">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#M</span><span class="s1">=(</span><span class="s3">n</span><span class="s1">,</span><span class="s3">h</span><span class="s1">,</span><span class="s3">o</span><span class="s1">=</span><span class="s3">T</span><span class="s1">.</span><span class="s3">now</span><span class="s1">())=&gt;{</span><span class="s2">if</span><span class="s1">(</span><span class="s3">e</span><span class="s1">[</span><span class="s3">n</span><span class="s1">]=</span><span class="s3">h</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">?</span><span class="s3">o</span><span class="s1">:</span><span class="s4">0</span><span class="s1">,</span><span class="s3">t</span><span class="s1">[</span><span class="s3">n</span><span class="s1">]=</span><span class="s3">h</span><span class="s1">,</span><span class="s3">h</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttlAutopurge</span><span class="s1">){</span><span class="s2">let </span><span class="s3">r</span><span class="s1">=</span><span class="s3">setTimeout</span><span class="s1">(()=&gt;{</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">n</span><span class="s1">)&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">n</span><span class="s1">],</span><span class="s0">&quot;expire&quot;</span><span class="s1">)},</span><span class="s3">h</span><span class="s1">+</span><span class="s4">1</span><span class="s1">);</span><span class="s3">r</span><span class="s1">.</span><span class="s3">unref</span><span class="s1">&amp;&amp;</span><span class="s3">r</span><span class="s1">.</span><span class="s3">unref</span><span class="s1">()}},</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#v</span><span class="s1">=</span><span class="s3">n</span><span class="s1">=&gt;{</span><span class="s3">e</span><span class="s1">[</span><span class="s3">n</span><span class="s1">]=</span><span class="s3">t</span><span class="s1">[</span><span class="s3">n</span><span class="s1">]!==</span><span class="s4">0</span><span class="s1">?</span><span class="s3">T</span><span class="s1">.</span><span class="s3">now</span><span class="s1">():</span><span class="s4">0</span><span class="s1">},</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#O</span><span class="s1">=(</span><span class="s3">n</span><span class="s1">,</span><span class="s3">h</span><span class="s1">)=&gt;{</span><span class="s2">if</span><span class="s1">(</span><span class="s3">t</span><span class="s1">[</span><span class="s3">h</span><span class="s1">]){</span><span class="s2">let </span><span class="s3">o</span><span class="s1">=</span><span class="s3">t</span><span class="s1">[</span><span class="s3">h</span><span class="s1">],</span><span class="s3">r</span><span class="s1">=</span><span class="s3">e</span><span class="s1">[</span><span class="s3">h</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">o</span><span class="s1">||!</span><span class="s3">r</span><span class="s1">)</span><span class="s2">return</span><span class="s1">;</span><span class="s3">n</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">=</span><span class="s3">o</span><span class="s1">,</span><span class="s3">n</span><span class="s1">.</span><span class="s3">start</span><span class="s1">=</span><span class="s3">r</span><span class="s1">,</span><span class="s3">n</span><span class="s1">.</span><span class="s3">now</span><span class="s1">=</span><span class="s3">i</span><span class="s1">||</span><span class="s3">s</span><span class="s1">();</span><span class="s2">let </span><span class="s3">g</span><span class="s1">=</span><span class="s3">n</span><span class="s1">.</span><span class="s3">now</span><span class="s1">-</span><span class="s3">r</span><span class="s1">;</span><span class="s3">n</span><span class="s1">.</span><span class="s3">remainingTTL</span><span class="s1">=</span><span class="s3">o</span><span class="s1">-</span><span class="s3">g</span><span class="s1">}};</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s3">s</span><span class="s1">=()=&gt;{</span><span class="s2">let </span><span class="s3">n</span><span class="s1">=</span><span class="s3">T</span><span class="s1">.</span><span class="s3">now</span><span class="s1">();</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttlResolution</span><span class="s1">&gt;</span><span class="s4">0</span><span class="s1">){</span><span class="s3">i</span><span class="s1">=</span><span class="s3">n</span><span class="s1">;</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s3">setTimeout</span><span class="s1">(()=&gt;</span><span class="s3">i</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttlResolution</span><span class="s1">);</span><span class="s3">h</span><span class="s1">.</span><span class="s3">unref</span><span class="s1">&amp;&amp;</span><span class="s3">h</span><span class="s1">.</span><span class="s3">unref</span><span class="s1">()}</span><span class="s2">return </span><span class="s3">n</span><span class="s1">};</span><span class="s2">this</span><span class="s1">.</span><span class="s3">getRemainingTTL</span><span class="s1">=</span><span class="s3">n</span><span class="s1">=&gt;{</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">n</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">h</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return </span><span class="s4">0</span><span class="s1">;</span><span class="s2">let </span><span class="s3">o</span><span class="s1">=</span><span class="s3">t</span><span class="s1">[</span><span class="s3">h</span><span class="s1">],</span><span class="s3">r</span><span class="s1">=</span><span class="s3">e</span><span class="s1">[</span><span class="s3">h</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">o</span><span class="s1">||!</span><span class="s3">r</span><span class="s1">)</span><span class="s2">return </span><span class="s4">1</span><span class="s1">/</span><span class="s4">0</span><span class="s1">;</span><span class="s2">let </span><span class="s3">g</span><span class="s1">=(</span><span class="s3">i</span><span class="s1">||</span><span class="s3">s</span><span class="s1">())-</span><span class="s3">r</span><span class="s1">;</span><span class="s2">return </span><span class="s3">o</span><span class="s1">-</span><span class="s3">g</span><span class="s1">},</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">=</span><span class="s3">n</span><span class="s1">=&gt;{</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s3">e</span><span class="s1">[</span><span class="s3">n</span><span class="s1">],</span><span class="s3">o</span><span class="s1">=</span><span class="s3">t</span><span class="s1">[</span><span class="s3">n</span><span class="s1">];</span><span class="s2">return</span><span class="s1">!!</span><span class="s3">o</span><span class="s1">&amp;&amp;!!</span><span class="s3">h</span><span class="s1">&amp;&amp;(</span><span class="s3">i</span><span class="s1">||</span><span class="s3">s</span><span class="s1">())-</span><span class="s3">h</span><span class="s1">&gt;</span><span class="s3">o</span><span class="s1">}}</span><span class="s3">#v</span><span class="s1">=()=&gt;{};</span><span class="s3">#O</span><span class="s1">=()=&gt;{};</span><span class="s3">#M</span><span class="s1">=()=&gt;{};</span><span class="s3">#d</span><span class="s1">=()=&gt;!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">#P</span><span class="s1">(){</span><span class="s2">let </span><span class="s3">t</span><span class="s1">=</span><span class="s2">new </span><span class="s3">E</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">=</span><span class="s3">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#z</span><span class="s1">=</span><span class="s3">e</span><span class="s1">=&gt;{</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">-=</span><span class="s3">t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s4">0</span><span class="s1">},</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#G</span><span class="s1">=(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">,</span><span class="s3">n</span><span class="s1">)=&gt;{</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">i</span><span class="s1">))</span><span class="s2">return </span><span class="s4">0</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">A</span><span class="s1">(</span><span class="s3">s</span><span class="s1">))</span><span class="s2">if</span><span class="s1">(</span><span class="s3">n</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">typeof </span><span class="s3">n</span><span class="s1">!=</span><span class="s0">&quot;function&quot;</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;sizeCalculation must be a function&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">s</span><span class="s1">=</span><span class="s3">n</span><span class="s1">(</span><span class="s3">i</span><span class="s1">,</span><span class="s3">e</span><span class="s1">),!</span><span class="s3">A</span><span class="s1">(</span><span class="s3">s</span><span class="s1">))</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;sizeCalculation return invalid (expect positive integer)&quot;</span><span class="s1">)}</span><span class="s2">else throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s3">s</span><span class="s1">},</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#D</span><span class="s1">=(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">)=&gt;{</span><span class="s2">if</span><span class="s1">(</span><span class="s3">t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s3">i</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">){</span><span class="s2">let </span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#f</span><span class="s1">-</span><span class="s3">t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">for</span><span class="s1">(;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">&gt;</span><span class="s3">n</span><span class="s1">;)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#L</span><span class="s1">(!</span><span class="s4">0</span><span class="s1">)}</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">+=</span><span class="s3">t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">s</span><span class="s1">&amp;&amp;(</span><span class="s3">s</span><span class="s1">.</span><span class="s3">entrySize</span><span class="s1">=</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">.</span><span class="s3">totalCalculatedSize</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">)}}</span><span class="s3">#z</span><span class="s1">=</span><span class="s3">t</span><span class="s1">=&gt;{};</span><span class="s3">#D</span><span class="s1">=(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">)=&gt;{};</span><span class="s3">#G</span><span class="s1">=(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">)=&gt;{</span><span class="s2">if</span><span class="s1">(</span><span class="s3">i</span><span class="s1">||</span><span class="s3">s</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">TypeError</span><span class="s1">(</span><span class="s0">&quot;cannot set size without setting maxSize or maxEntrySize on cache&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s4">0</span><span class="s1">};*</span><span class="s3">#A</span><span class="s1">({</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">t</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStale</span><span class="s1">}={}){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">)</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">;!(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#j</span><span class="s1">(</span><span class="s3">e</span><span class="s1">)||((</span><span class="s3">t</span><span class="s1">||!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">e</span><span class="s1">))&amp;&amp;(</span><span class="s2">yield </span><span class="s3">e</span><span class="s1">),</span><span class="s3">e</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">));)</span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]}*</span><span class="s3">#F</span><span class="s1">({</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">t</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStale</span><span class="s1">}={}){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">)</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">;!(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#j</span><span class="s1">(</span><span class="s3">e</span><span class="s1">)||((</span><span class="s3">t</span><span class="s1">||!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">e</span><span class="s1">))&amp;&amp;(</span><span class="s2">yield </span><span class="s3">e</span><span class="s1">),</span><span class="s3">e</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">));)</span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]}</span><span class="s3">#j</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">return </span><span class="s3">t</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])===</span><span class="s3">t</span><span class="s1">}*</span><span class="s3">entries</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">t of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">())</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])&amp;&amp;(</span><span class="s2">yield</span><span class="s1">[</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">],</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]])}*</span><span class="s3">rentries</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">t of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">())</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])&amp;&amp;(</span><span class="s2">yield</span><span class="s1">[</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">],</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]])}*</span><span class="s3">keys</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">t of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">()){</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">];</span><span class="s3">e</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])&amp;&amp;(</span><span class="s2">yield </span><span class="s3">e</span><span class="s1">)}}*</span><span class="s3">rkeys</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">t of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">()){</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">t</span><span class="s1">];</span><span class="s3">e</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])&amp;&amp;(</span><span class="s2">yield </span><span class="s3">e</span><span class="s1">)}}*</span><span class="s3">values</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">t of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">())</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])&amp;&amp;(</span><span class="s2">yield this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])}*</span><span class="s3">rvalues</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">t of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">())</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])&amp;&amp;(</span><span class="s2">yield this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">t</span><span class="s1">])}[</span><span class="s3">Symbol</span><span class="s1">.</span><span class="s3">iterator</span><span class="s1">](){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">entries</span><span class="s1">()}[</span><span class="s3">Symbol</span><span class="s1">.</span><span class="s3">toStringTag</span><span class="s1">]=</span><span class="s0">&quot;LRUCache&quot;</span><span class="s1">;</span><span class="s3">find</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">i of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">()){</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)?</span><span class="s3">s</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">s</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">n</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s3">t</span><span class="s1">(</span><span class="s3">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s2">this</span><span class="s1">))</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s3">e</span><span class="s1">)}}</span><span class="s3">forEach</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">i of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">()){</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)?</span><span class="s3">s</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">s</span><span class="s1">;</span><span class="s3">n</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">call</span><span class="s1">(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s2">this</span><span class="s1">)}}</span><span class="s3">rforEach</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">i of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">()){</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)?</span><span class="s3">s</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">s</span><span class="s1">;</span><span class="s3">n</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s3">t</span><span class="s1">.</span><span class="s3">call</span><span class="s1">(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">i</span><span class="s1">],</span><span class="s2">this</span><span class="s1">)}}</span><span class="s3">purgeStale</span><span class="s1">(){</span><span class="s2">let </span><span class="s3">t</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">e of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">({</span><span class="s3">allowStale</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">}))</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">e</span><span class="s1">)&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s0">&quot;expire&quot;</span><span class="s1">),</span><span class="s3">t</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">);</span><span class="s2">return </span><span class="s3">t</span><span class="s1">}</span><span class="s3">info</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">e</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">i</span><span class="s1">)?</span><span class="s3">i</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">i</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">s</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return</span><span class="s1">;</span><span class="s2">let </span><span class="s3">n</span><span class="s1">={</span><span class="s3">value</span><span class="s1">:</span><span class="s3">s</span><span class="s1">};</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">){</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s3">h</span><span class="s1">&amp;&amp;</span><span class="s3">o</span><span class="s1">){</span><span class="s2">let </span><span class="s3">r</span><span class="s1">=</span><span class="s3">h</span><span class="s1">-(</span><span class="s3">T</span><span class="s1">.</span><span class="s3">now</span><span class="s1">()-</span><span class="s3">o</span><span class="s1">);</span><span class="s3">n</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">=</span><span class="s3">r</span><span class="s1">,</span><span class="s3">n</span><span class="s1">.</span><span class="s3">start</span><span class="s1">=</span><span class="s3">Date</span><span class="s1">.</span><span class="s3">now</span><span class="s1">()}}</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">&amp;&amp;(</span><span class="s3">n</span><span class="s1">.</span><span class="s3">size</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]),</span><span class="s3">n</span><span class="s1">}</span><span class="s3">dump</span><span class="s1">(){</span><span class="s2">let </span><span class="s3">t</span><span class="s1">=[];</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">e of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#A</span><span class="s1">({</span><span class="s3">allowStale</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">})){</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)?</span><span class="s3">s</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">s</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">n</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">||</span><span class="s3">i</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">continue</span><span class="s1">;</span><span class="s2">let </span><span class="s3">h</span><span class="s1">={</span><span class="s3">value</span><span class="s1">:</span><span class="s3">n</span><span class="s1">};</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">){</span><span class="s3">h</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">let </span><span class="s3">o</span><span class="s1">=</span><span class="s3">T</span><span class="s1">.</span><span class="s3">now</span><span class="s1">()-</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s3">h</span><span class="s1">.</span><span class="s3">start</span><span class="s1">=</span><span class="s3">Math</span><span class="s1">.</span><span class="s3">floor</span><span class="s1">(</span><span class="s3">Date</span><span class="s1">.</span><span class="s3">now</span><span class="s1">()-</span><span class="s3">o</span><span class="s1">)}</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">&amp;&amp;(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">size</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]),</span><span class="s3">t</span><span class="s1">.</span><span class="s3">unshift</span><span class="s1">([</span><span class="s3">i</span><span class="s1">,</span><span class="s3">h</span><span class="s1">])}</span><span class="s2">return </span><span class="s3">t</span><span class="s1">}</span><span class="s3">load</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">this</span><span class="s1">.</span><span class="s3">clear</span><span class="s1">();</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let</span><span class="s1">[</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">]</span><span class="s3">of t</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">start</span><span class="s1">){</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s3">Date</span><span class="s1">.</span><span class="s3">now</span><span class="s1">()-</span><span class="s3">i</span><span class="s1">.</span><span class="s3">start</span><span class="s1">;</span><span class="s3">i</span><span class="s1">.</span><span class="s3">start</span><span class="s1">=</span><span class="s3">T</span><span class="s1">.</span><span class="s3">now</span><span class="s1">()-</span><span class="s3">s</span><span class="s1">}</span><span class="s2">this</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">.</span><span class="s3">value</span><span class="s1">,</span><span class="s3">i</span><span class="s1">)}}</span><span class="s3">set</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">={}){</span><span class="s2">if</span><span class="s1">(</span><span class="s3">e</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">delete</span><span class="s1">(</span><span class="s3">t</span><span class="s1">),</span><span class="s2">this</span><span class="s1">;</span><span class="s2">let</span><span class="s1">{</span><span class="s3">ttl</span><span class="s1">:</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">,</span><span class="s3">start</span><span class="s1">:</span><span class="s3">n</span><span class="s1">,</span><span class="s3">noDisposeOnSet</span><span class="s1">:</span><span class="s3">h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDisposeOnSet</span><span class="s1">,</span><span class="s3">sizeCalculation</span><span class="s1">:</span><span class="s3">o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">sizeCalculation</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s3">r</span><span class="s1">}=</span><span class="s3">i</span><span class="s1">,{</span><span class="s3">noUpdateTTL</span><span class="s1">:</span><span class="s3">g</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noUpdateTTL</span><span class="s1">}=</span><span class="s3">i</span><span class="s1">,</span><span class="s3">b</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#G</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">.</span><span class="s3">size</span><span class="s1">||</span><span class="s4">0</span><span class="s1">,</span><span class="s3">o</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">maxEntrySize</span><span class="s1">&amp;&amp;</span><span class="s3">b</span><span class="s1">&gt;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">maxEntrySize</span><span class="s1">)</span><span class="s2">return </span><span class="s3">r</span><span class="s1">&amp;&amp;(</span><span class="s3">r</span><span class="s1">.</span><span class="s3">set</span><span class="s1">=</span><span class="s0">&quot;miss&quot;</span><span class="s1">,</span><span class="s3">r</span><span class="s1">.</span><span class="s3">maxEntrySizeExceeded</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;set&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">;</span><span class="s2">let </span><span class="s3">f</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">===</span><span class="s4">0</span><span class="s1">?</span><span class="s2">void </span><span class="s4">0</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">f</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s3">f</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">===</span><span class="s4">0</span><span class="s1">?</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">.</span><span class="s3">length</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">?</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">.</span><span class="s3">pop</span><span class="s1">():</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#g</span><span class="s1">?</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#L</span><span class="s1">(!</span><span class="s4">1</span><span class="s1">):</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">f</span><span class="s1">]=</span><span class="s3">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">f</span><span class="s1">]=</span><span class="s3">e</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">f</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">]=</span><span class="s3">f</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">f</span><span class="s1">]=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">=</span><span class="s3">f</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">++,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#D</span><span class="s1">(</span><span class="s3">f</span><span class="s1">,</span><span class="s3">b</span><span class="s1">,</span><span class="s3">r</span><span class="s1">),</span><span class="s3">r</span><span class="s1">&amp;&amp;(</span><span class="s3">r</span><span class="s1">.</span><span class="s3">set</span><span class="s1">=</span><span class="s0">&quot;add&quot;</span><span class="s1">),</span><span class="s3">g</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">else</span><span class="s1">{</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#C</span><span class="s1">(</span><span class="s3">f</span><span class="s1">);</span><span class="s2">let </span><span class="s3">u</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">f</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s3">e</span><span class="s1">!==</span><span class="s3">u</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#E</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">u</span><span class="s1">)){</span><span class="s3">u</span><span class="s1">.</span><span class="s3">__abortController</span><span class="s1">.</span><span class="s3">abort</span><span class="s1">(</span><span class="s2">new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;replaced&quot;</span><span class="s1">));</span><span class="s2">let</span><span class="s1">{</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">c</span><span class="s1">}=</span><span class="s3">u</span><span class="s1">;</span><span class="s3">c</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s3">h</span><span class="s1">&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">?.(</span><span class="s3">c</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;set&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">?.</span><span class="s3">push</span><span class="s1">([</span><span class="s3">c</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;set&quot;</span><span class="s1">]))}</span><span class="s2">else </span><span class="s3">h</span><span class="s1">||(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">?.(</span><span class="s3">u</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;set&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">?.</span><span class="s3">push</span><span class="s1">([</span><span class="s3">u</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;set&quot;</span><span class="s1">]));</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#z</span><span class="s1">(</span><span class="s3">f</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#D</span><span class="s1">(</span><span class="s3">f</span><span class="s1">,</span><span class="s3">b</span><span class="s1">,</span><span class="s3">r</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">f</span><span class="s1">]=</span><span class="s3">e</span><span class="s1">,</span><span class="s3">r</span><span class="s1">){</span><span class="s3">r</span><span class="s1">.</span><span class="s3">set</span><span class="s1">=</span><span class="s0">&quot;replace&quot;</span><span class="s1">;</span><span class="s2">let </span><span class="s3">c</span><span class="s1">=</span><span class="s3">u</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">u</span><span class="s1">)?</span><span class="s3">u</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">u</span><span class="s1">;</span><span class="s3">c</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;(</span><span class="s3">r</span><span class="s1">.</span><span class="s3">oldValue</span><span class="s1">=</span><span class="s3">c</span><span class="s1">)}}</span><span class="s2">else </span><span class="s3">r</span><span class="s1">&amp;&amp;(</span><span class="s3">r</span><span class="s1">.</span><span class="s3">set</span><span class="s1">=</span><span class="s0">&quot;update&quot;</span><span class="s1">)}</span><span class="s2">if</span><span class="s1">(</span><span class="s3">s</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">&amp;&amp;!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#U</span><span class="s1">(),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">&amp;&amp;(</span><span class="s3">g</span><span class="s1">||</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#M</span><span class="s1">(</span><span class="s3">f</span><span class="s1">,</span><span class="s3">s</span><span class="s1">,</span><span class="s3">n</span><span class="s1">),</span><span class="s3">r</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#O</span><span class="s1">(</span><span class="s3">r</span><span class="s1">,</span><span class="s3">f</span><span class="s1">)),!</span><span class="s3">h</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">){</span><span class="s2">let </span><span class="s3">u</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">,</span><span class="s3">c</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(;</span><span class="s3">c</span><span class="s1">=</span><span class="s3">u</span><span class="s1">?.</span><span class="s3">shift</span><span class="s1">();)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">?.(</span><span class="s3">...c</span><span class="s1">)}</span><span class="s2">return this</span><span class="s1">}</span><span class="s3">pop</span><span class="s1">(){</span><span class="s2">try</span><span class="s1">{</span><span class="s2">for</span><span class="s1">(;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">;){</span><span class="s2">let </span><span class="s3">t</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#L</span><span class="s1">(!</span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">t</span><span class="s1">)){</span><span class="s2">if</span><span class="s1">(</span><span class="s3">t</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">)</span><span class="s2">return </span><span class="s3">t</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">}</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">t</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return </span><span class="s3">t</span><span class="s1">}}</span><span class="s2">finally</span><span class="s1">{</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">){</span><span class="s2">let </span><span class="s3">t</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">,</span><span class="s3">e</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(;</span><span class="s3">e</span><span class="s1">=</span><span class="s3">t</span><span class="s1">?.</span><span class="s3">shift</span><span class="s1">();)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">?.(</span><span class="s3">...e</span><span class="s1">)}}}</span><span class="s3">#L</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">,</span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#E</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)?</span><span class="s3">s</span><span class="s1">.</span><span class="s3">__abortController</span><span class="s1">.</span><span class="s3">abort</span><span class="s1">(</span><span class="s2">new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;evicted&quot;</span><span class="s1">)):(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">||</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">)&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">?.(</span><span class="s3">s</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s0">&quot;evict&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">?.</span><span class="s3">push</span><span class="s1">([</span><span class="s3">s</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s0">&quot;evict&quot;</span><span class="s1">])),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#z</span><span class="s1">(</span><span class="s3">e</span><span class="s1">),</span><span class="s3">t</span><span class="s1">&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">.</span><span class="s3">push</span><span class="s1">(</span><span class="s3">e</span><span class="s1">)),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">===</span><span class="s4">1</span><span class="s1">?(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">.</span><span class="s3">length</span><span class="s1">=</span><span class="s4">0</span><span class="s1">):</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">e</span><span class="s1">],</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">delete</span><span class="s1">(</span><span class="s3">i</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">--,</span><span class="s3">e</span><span class="s1">}</span><span class="s3">has</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">let</span><span class="s1">{</span><span class="s3">updateAgeOnHas</span><span class="s1">:</span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">updateAgeOnHas</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s3">s</span><span class="s1">}=</span><span class="s3">e</span><span class="s1">,</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">n</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">){</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">n</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">h</span><span class="s1">)&amp;&amp;</span><span class="s3">h</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">n</span><span class="s1">))</span><span class="s3">s</span><span class="s1">&amp;&amp;(</span><span class="s3">s</span><span class="s1">.</span><span class="s3">has</span><span class="s1">=</span><span class="s0">&quot;stale&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#O</span><span class="s1">(</span><span class="s3">s</span><span class="s1">,</span><span class="s3">n</span><span class="s1">));</span><span class="s2">else return </span><span class="s3">i</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#v</span><span class="s1">(</span><span class="s3">n</span><span class="s1">),</span><span class="s3">s</span><span class="s1">&amp;&amp;(</span><span class="s3">s</span><span class="s1">.</span><span class="s3">has</span><span class="s1">=</span><span class="s0">&quot;hit&quot;</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#O</span><span class="s1">(</span><span class="s3">s</span><span class="s1">,</span><span class="s3">n</span><span class="s1">)),!</span><span class="s4">0</span><span class="s1">}</span><span class="s2">else </span><span class="s3">s</span><span class="s1">&amp;&amp;(</span><span class="s3">s</span><span class="s1">.</span><span class="s3">has</span><span class="s1">=</span><span class="s0">&quot;miss&quot;</span><span class="s1">);</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">peek</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">let</span><span class="s1">{</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStale</span><span class="s1">}=</span><span class="s3">e</span><span class="s1">,</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">s</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">||!</span><span class="s3">i</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">s</span><span class="s1">))</span><span class="s2">return</span><span class="s1">;</span><span class="s2">let </span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">n</span><span class="s1">)?</span><span class="s3">n</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">n</span><span class="s1">}</span><span class="s3">#x</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">,</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">){</span><span class="s2">let </span><span class="s3">n</span><span class="s1">=</span><span class="s3">e</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">?</span><span class="s2">void </span><span class="s4">0</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">n</span><span class="s1">))</span><span class="s2">return </span><span class="s3">n</span><span class="s1">;</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s2">new </span><span class="s3">D</span><span class="s1">,{</span><span class="s3">signal</span><span class="s1">:</span><span class="s3">o</span><span class="s1">}=</span><span class="s3">i</span><span class="s1">;</span><span class="s3">o</span><span class="s1">?.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s0">&quot;abort&quot;</span><span class="s1">,()=&gt;</span><span class="s3">h</span><span class="s1">.</span><span class="s3">abort</span><span class="s1">(</span><span class="s3">o</span><span class="s1">.</span><span class="s3">reason</span><span class="s1">),{</span><span class="s3">signal</span><span class="s1">:</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">});</span><span class="s2">let </span><span class="s3">r</span><span class="s1">={</span><span class="s3">signal</span><span class="s1">:</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">,</span><span class="s3">options</span><span class="s1">:</span><span class="s3">i</span><span class="s1">,</span><span class="s3">context</span><span class="s1">:</span><span class="s3">s</span><span class="s1">},</span><span class="s3">g</span><span class="s1">=(</span><span class="s3">d</span><span class="s1">,</span><span class="s3">S</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">)=&gt;{</span><span class="s2">let</span><span class="s1">{</span><span class="s3">aborted</span><span class="s1">:</span><span class="s3">a</span><span class="s1">}=</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">,</span><span class="s3">w</span><span class="s1">=</span><span class="s3">i</span><span class="s1">.</span><span class="s3">ignoreFetchAbort</span><span class="s1">&amp;&amp;</span><span class="s3">d</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">&amp;&amp;!</span><span class="s3">S</span><span class="s1">?(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchAborted</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchError</span><span class="s1">=</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">reason</span><span class="s1">,</span><span class="s3">w</span><span class="s1">&amp;&amp;(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchAbortIgnored</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">)):</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchResolved</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">a</span><span class="s1">&amp;&amp;!</span><span class="s3">w</span><span class="s1">&amp;&amp;!</span><span class="s3">S</span><span class="s1">)</span><span class="s2">return </span><span class="s3">f</span><span class="s1">(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">reason</span><span class="s1">);</span><span class="s2">let </span><span class="s3">m</span><span class="s1">=</span><span class="s3">c</span><span class="s1">;</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]===</span><span class="s3">c</span><span class="s1">&amp;&amp;(</span><span class="s3">d</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">?</span><span class="s3">m</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">?</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s3">m</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;fetch&quot;</span><span class="s1">):(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">&amp;&amp;(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchUpdated</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">d</span><span class="s1">,</span><span class="s3">r</span><span class="s1">.</span><span class="s3">options</span><span class="s1">))),</span><span class="s3">d</span><span class="s1">},</span><span class="s3">b</span><span class="s1">=</span><span class="s3">d</span><span class="s1">=&gt;(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">&amp;&amp;(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchRejected</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchError</span><span class="s1">=</span><span class="s3">d</span><span class="s1">),</span><span class="s3">f</span><span class="s1">(</span><span class="s3">d</span><span class="s1">)),</span><span class="s3">f</span><span class="s1">=</span><span class="s3">d</span><span class="s1">=&gt;{</span><span class="s2">let</span><span class="s1">{</span><span class="s3">aborted</span><span class="s1">:</span><span class="s3">S</span><span class="s1">}=</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">,</span><span class="s3">a</span><span class="s1">=</span><span class="s3">S</span><span class="s1">&amp;&amp;</span><span class="s3">i</span><span class="s1">.</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">,</span><span class="s3">w</span><span class="s1">=</span><span class="s3">a</span><span class="s1">||</span><span class="s3">i</span><span class="s1">.</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">,</span><span class="s3">m</span><span class="s1">=</span><span class="s3">w</span><span class="s1">||</span><span class="s3">i</span><span class="s1">.</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">,</span><span class="s3">p</span><span class="s1">=</span><span class="s3">c</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]===</span><span class="s3">c</span><span class="s1">&amp;&amp;(!</span><span class="s3">m</span><span class="s1">||</span><span class="s3">p</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">?</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;fetch&quot;</span><span class="s1">):</span><span class="s3">a</span><span class="s1">||(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s3">p</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">)),</span><span class="s3">w</span><span class="s1">)</span><span class="s2">return </span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">&amp;&amp;</span><span class="s3">p</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">returnedStale</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">p</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">p</span><span class="s1">.</span><span class="s3">__returned</span><span class="s1">===</span><span class="s3">p</span><span class="s1">)</span><span class="s2">throw </span><span class="s3">d</span><span class="s1">},</span><span class="s3">u</span><span class="s1">=(</span><span class="s3">d</span><span class="s1">,</span><span class="s3">S</span><span class="s1">)=&gt;{</span><span class="s2">let </span><span class="s3">a</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#R</span><span class="s1">?.(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">n</span><span class="s1">,</span><span class="s3">r</span><span class="s1">);</span><span class="s3">a</span><span class="s1">&amp;&amp;</span><span class="s3">a </span><span class="s2">instanceof </span><span class="s3">Promise</span><span class="s1">&amp;&amp;</span><span class="s3">a</span><span class="s1">.</span><span class="s3">then</span><span class="s1">(</span><span class="s3">w</span><span class="s1">=&gt;</span><span class="s3">d</span><span class="s1">(</span><span class="s3">w</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">?</span><span class="s2">void </span><span class="s4">0</span><span class="s1">:</span><span class="s3">w</span><span class="s1">),</span><span class="s3">S</span><span class="s1">),</span><span class="s3">h</span><span class="s1">.</span><span class="s3">signal</span><span class="s1">.</span><span class="s3">addEventListener</span><span class="s1">(</span><span class="s0">&quot;abort&quot;</span><span class="s1">,()=&gt;{(!</span><span class="s3">i</span><span class="s1">.</span><span class="s3">ignoreFetchAbort</span><span class="s1">||</span><span class="s3">i</span><span class="s1">.</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">)&amp;&amp;(</span><span class="s3">d</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">),</span><span class="s3">i</span><span class="s1">.</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">&amp;&amp;(</span><span class="s3">d</span><span class="s1">=</span><span class="s3">w</span><span class="s1">=&gt;</span><span class="s3">g</span><span class="s1">(</span><span class="s3">w</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">)))})};</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">&amp;&amp;(</span><span class="s3">i</span><span class="s1">.</span><span class="s3">status</span><span class="s1">.</span><span class="s3">fetchDispatched</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">);</span><span class="s2">let </span><span class="s3">c</span><span class="s1">=</span><span class="s2">new </span><span class="s3">Promise</span><span class="s1">(</span><span class="s3">u</span><span class="s1">).</span><span class="s3">then</span><span class="s1">(</span><span class="s3">g</span><span class="s1">,</span><span class="s3">b</span><span class="s1">),</span><span class="s3">F</span><span class="s1">=</span><span class="s3">Object</span><span class="s1">.</span><span class="s3">assign</span><span class="s1">(</span><span class="s3">c</span><span class="s1">,{</span><span class="s3">__abortController</span><span class="s1">:</span><span class="s3">h</span><span class="s1">,</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">n</span><span class="s1">,</span><span class="s3">__returned</span><span class="s1">:</span><span class="s2">void </span><span class="s4">0</span><span class="s1">});</span><span class="s2">return </span><span class="s3">e</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">?(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">F</span><span class="s1">,{</span><span class="s3">...r</span><span class="s1">.</span><span class="s3">options</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s2">void </span><span class="s4">0</span><span class="s1">}),</span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">)):</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s3">F</span><span class="s1">,</span><span class="s3">F</span><span class="s1">}</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#E</span><span class="s1">)</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s3">t</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!!</span><span class="s3">e</span><span class="s1">&amp;&amp;</span><span class="s3">e </span><span class="s2">instanceof </span><span class="s3">Promise</span><span class="s1">&amp;&amp;</span><span class="s3">e</span><span class="s1">.</span><span class="s3">hasOwnProperty</span><span class="s1">(</span><span class="s0">&quot;__staleWhileFetching&quot;</span><span class="s1">)&amp;&amp;</span><span class="s3">e</span><span class="s1">.</span><span class="s3">__abortController </span><span class="s2">instanceof </span><span class="s3">D</span><span class="s1">}</span><span class="s3">async fetch</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">let</span><span class="s1">{</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStale</span><span class="s1">,</span><span class="s3">updateAgeOnGet</span><span class="s1">:</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">updateAgeOnGet</span><span class="s1">,</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">:</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">,</span><span class="s3">ttl</span><span class="s1">:</span><span class="s3">h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ttl</span><span class="s1">,</span><span class="s3">noDisposeOnSet</span><span class="s1">:</span><span class="s3">o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDisposeOnSet</span><span class="s1">,</span><span class="s3">size</span><span class="s1">:</span><span class="s3">r</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s3">sizeCalculation</span><span class="s1">:</span><span class="s3">g</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">sizeCalculation</span><span class="s1">,</span><span class="s3">noUpdateTTL</span><span class="s1">:</span><span class="s3">b</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noUpdateTTL</span><span class="s1">,</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">:</span><span class="s3">f</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">,</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">:</span><span class="s3">u</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">,</span><span class="s3">ignoreFetchAbort</span><span class="s1">:</span><span class="s3">c</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">ignoreFetchAbort</span><span class="s1">,</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">:</span><span class="s3">F</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">,</span><span class="s3">context</span><span class="s1">:</span><span class="s3">d</span><span class="s1">,</span><span class="s3">forceRefresh</span><span class="s1">:</span><span class="s3">S</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s3">a</span><span class="s1">,</span><span class="s3">signal</span><span class="s1">:</span><span class="s3">w</span><span class="s1">}=</span><span class="s3">e</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#E</span><span class="s1">)</span><span class="s2">return </span><span class="s3">a</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">fetch</span><span class="s1">=</span><span class="s0">&quot;get&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,{</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">i</span><span class="s1">,</span><span class="s3">updateAgeOnGet</span><span class="s1">:</span><span class="s3">s</span><span class="s1">,</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">:</span><span class="s3">n</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s3">a</span><span class="s1">});</span><span class="s2">let </span><span class="s3">m</span><span class="s1">={</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">i</span><span class="s1">,</span><span class="s3">updateAgeOnGet</span><span class="s1">:</span><span class="s3">s</span><span class="s1">,</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">:</span><span class="s3">n</span><span class="s1">,</span><span class="s3">ttl</span><span class="s1">:</span><span class="s3">h</span><span class="s1">,</span><span class="s3">noDisposeOnSet</span><span class="s1">:</span><span class="s3">o</span><span class="s1">,</span><span class="s3">size</span><span class="s1">:</span><span class="s3">r</span><span class="s1">,</span><span class="s3">sizeCalculation</span><span class="s1">:</span><span class="s3">g</span><span class="s1">,</span><span class="s3">noUpdateTTL</span><span class="s1">:</span><span class="s3">b</span><span class="s1">,</span><span class="s3">noDeleteOnFetchRejection</span><span class="s1">:</span><span class="s3">f</span><span class="s1">,</span><span class="s3">allowStaleOnFetchRejection</span><span class="s1">:</span><span class="s3">u</span><span class="s1">,</span><span class="s3">allowStaleOnFetchAbort</span><span class="s1">:</span><span class="s3">F</span><span class="s1">,</span><span class="s3">ignoreFetchAbort</span><span class="s1">:</span><span class="s3">c</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s3">a</span><span class="s1">,</span><span class="s3">signal</span><span class="s1">:</span><span class="s3">w</span><span class="s1">},</span><span class="s3">p</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">p</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">){</span><span class="s3">a</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">fetch</span><span class="s1">=</span><span class="s0">&quot;miss&quot;</span><span class="s1">);</span><span class="s2">let </span><span class="s3">_</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#x</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">p</span><span class="s1">,</span><span class="s3">m</span><span class="s1">,</span><span class="s3">d</span><span class="s1">);</span><span class="s2">return </span><span class="s3">_</span><span class="s1">.</span><span class="s3">__returned</span><span class="s1">=</span><span class="s3">_</span><span class="s1">}</span><span class="s2">else</span><span class="s1">{</span><span class="s2">let </span><span class="s3">_</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">p</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">_</span><span class="s1">)){</span><span class="s2">let </span><span class="s3">M</span><span class="s1">=</span><span class="s3">i</span><span class="s1">&amp;&amp;</span><span class="s3">_</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">;</span><span class="s2">return </span><span class="s3">a</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">fetch</span><span class="s1">=</span><span class="s0">&quot;inflight&quot;</span><span class="s1">,</span><span class="s3">M</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">returnedStale</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">)),</span><span class="s3">M</span><span class="s1">?</span><span class="s3">_</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">_</span><span class="s1">.</span><span class="s3">__returned</span><span class="s1">=</span><span class="s3">_</span><span class="s1">}</span><span class="s2">let </span><span class="s3">z</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">p</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">S</span><span class="s1">&amp;&amp;!</span><span class="s3">z</span><span class="s1">)</span><span class="s2">return </span><span class="s3">a</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">fetch</span><span class="s1">=</span><span class="s0">&quot;hit&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#C</span><span class="s1">(</span><span class="s3">p</span><span class="s1">),</span><span class="s3">s</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#v</span><span class="s1">(</span><span class="s3">p</span><span class="s1">),</span><span class="s3">a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#O</span><span class="s1">(</span><span class="s3">a</span><span class="s1">,</span><span class="s3">p</span><span class="s1">),</span><span class="s3">_</span><span class="s1">;</span><span class="s2">let </span><span class="s3">y</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#x</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">p</span><span class="s1">,</span><span class="s3">m</span><span class="s1">,</span><span class="s3">d</span><span class="s1">),</span><span class="s3">L</span><span class="s1">=</span><span class="s3">y</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;</span><span class="s3">i</span><span class="s1">;</span><span class="s2">return </span><span class="s3">a</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">fetch</span><span class="s1">=</span><span class="s3">z</span><span class="s1">?</span><span class="s0">&quot;stale&quot;</span><span class="s1">:</span><span class="s0">&quot;refresh&quot;</span><span class="s1">,</span><span class="s3">L</span><span class="s1">&amp;&amp;</span><span class="s3">z</span><span class="s1">&amp;&amp;(</span><span class="s3">a</span><span class="s1">.</span><span class="s3">returnedStale</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">)),</span><span class="s3">L</span><span class="s1">?</span><span class="s3">y</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s3">y</span><span class="s1">.</span><span class="s3">__returned</span><span class="s1">=</span><span class="s3">y</span><span class="s1">}}</span><span class="s3">async forceFetch</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s2">await this</span><span class="s1">.</span><span class="s3">fetch</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">i</span><span class="s1">===</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;fetch() returned undefined&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s3">i</span><span class="s1">}</span><span class="s3">memo</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#W</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">i</span><span class="s1">)</span><span class="s2">throw new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;no memoMethod provided to constructor&quot;</span><span class="s1">);</span><span class="s2">let</span><span class="s1">{</span><span class="s3">context</span><span class="s1">:</span><span class="s3">s</span><span class="s1">,</span><span class="s3">forceRefresh</span><span class="s1">:</span><span class="s3">n</span><span class="s1">,</span><span class="s3">...h</span><span class="s1">}=</span><span class="s3">e</span><span class="s1">,</span><span class="s3">o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">h</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!</span><span class="s3">n</span><span class="s1">&amp;&amp;</span><span class="s3">o</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">return </span><span class="s3">o</span><span class="s1">;</span><span class="s2">let </span><span class="s3">r</span><span class="s1">=</span><span class="s3">i</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">o</span><span class="s1">,{</span><span class="s3">options</span><span class="s1">:</span><span class="s3">h</span><span class="s1">,</span><span class="s3">context</span><span class="s1">:</span><span class="s3">s</span><span class="s1">});</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">set</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">r</span><span class="s1">,</span><span class="s3">h</span><span class="s1">),</span><span class="s3">r</span><span class="s1">}</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">={}){</span><span class="s2">let</span><span class="s1">{</span><span class="s3">allowStale</span><span class="s1">:</span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">allowStale</span><span class="s1">,</span><span class="s3">updateAgeOnGet</span><span class="s1">:</span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">updateAgeOnGet</span><span class="s1">,</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">:</span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">noDeleteOnStaleGet</span><span class="s1">,</span><span class="s3">status</span><span class="s1">:</span><span class="s3">h</span><span class="s1">}=</span><span class="s3">e</span><span class="s1">,</span><span class="s3">o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">o</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">){</span><span class="s2">let </span><span class="s3">r</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">o</span><span class="s1">],</span><span class="s3">g</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">r</span><span class="s1">);</span><span class="s2">return </span><span class="s3">h</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#O</span><span class="s1">(</span><span class="s3">h</span><span class="s1">,</span><span class="s3">o</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#d</span><span class="s1">(</span><span class="s3">o</span><span class="s1">)?(</span><span class="s3">h</span><span class="s1">&amp;&amp;(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">get</span><span class="s1">=</span><span class="s0">&quot;stale&quot;</span><span class="s1">),</span><span class="s3">g</span><span class="s1">?(</span><span class="s3">h</span><span class="s1">&amp;&amp;</span><span class="s3">i</span><span class="s1">&amp;&amp;</span><span class="s3">r</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">&amp;&amp;(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">returnedStale</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">i</span><span class="s1">?</span><span class="s3">r</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:</span><span class="s2">void </span><span class="s4">0</span><span class="s1">):(</span><span class="s3">n</span><span class="s1">||</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;expire&quot;</span><span class="s1">),</span><span class="s3">h</span><span class="s1">&amp;&amp;</span><span class="s3">i</span><span class="s1">&amp;&amp;(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">returnedStale</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">i</span><span class="s1">?</span><span class="s3">r</span><span class="s1">:</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)):(</span><span class="s3">h</span><span class="s1">&amp;&amp;(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">get</span><span class="s1">=</span><span class="s0">&quot;hit&quot;</span><span class="s1">),</span><span class="s3">g</span><span class="s1">?</span><span class="s3">r</span><span class="s1">.</span><span class="s3">__staleWhileFetching</span><span class="s1">:(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#C</span><span class="s1">(</span><span class="s3">o</span><span class="s1">),</span><span class="s3">s</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#v</span><span class="s1">(</span><span class="s3">o</span><span class="s1">),</span><span class="s3">r</span><span class="s1">))}</span><span class="s2">else </span><span class="s3">h</span><span class="s1">&amp;&amp;(</span><span class="s3">h</span><span class="s1">.</span><span class="s3">get</span><span class="s1">=</span><span class="s0">&quot;miss&quot;</span><span class="s1">)}</span><span class="s3">#I</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">){</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">e</span><span class="s1">]=</span><span class="s3">t</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]=</span><span class="s3">e</span><span class="s1">}</span><span class="s3">#C</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s3">t</span><span class="s1">!==</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">&amp;&amp;(</span><span class="s3">t</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">?</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]:</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#I</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">t</span><span class="s1">],</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">t</span><span class="s1">]),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#I</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">,</span><span class="s3">t</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">=</span><span class="s3">t</span><span class="s1">)}</span><span class="s2">delete</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#T</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s0">&quot;delete&quot;</span><span class="s1">)}</span><span class="s3">#T</span><span class="s1">(</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">){</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">!==</span><span class="s4">0</span><span class="s1">){</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">get</span><span class="s1">(</span><span class="s3">t</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">s</span><span class="s1">!==</span><span class="s2">void </span><span class="s4">0</span><span class="s1">)</span><span class="s2">if</span><span class="s1">(</span><span class="s3">i</span><span class="s1">=!</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">===</span><span class="s4">1</span><span class="s1">)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#N</span><span class="s1">(</span><span class="s3">e</span><span class="s1">);</span><span class="s2">else</span><span class="s1">{</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#z</span><span class="s1">(</span><span class="s3">s</span><span class="s1">);</span><span class="s2">let </span><span class="s3">n</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">n</span><span class="s1">)?</span><span class="s3">n</span><span class="s1">.</span><span class="s3">__abortController</span><span class="s1">.</span><span class="s3">abort</span><span class="s1">(</span><span class="s2">new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;deleted&quot;</span><span class="s1">)):(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">||</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">)&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">?.(</span><span class="s3">n</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">?.</span><span class="s3">push</span><span class="s1">([</span><span class="s3">n</span><span class="s1">,</span><span class="s3">t</span><span class="s1">,</span><span class="s3">e</span><span class="s1">])),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">delete</span><span class="s1">(</span><span class="s3">t</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">s</span><span class="s1">]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">s</span><span class="s1">]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,</span><span class="s3">s</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">s</span><span class="s1">===</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">else</span><span class="s1">{</span><span class="s2">let </span><span class="s3">h</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">h</span><span class="s1">]=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">let </span><span class="s3">o</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#l</span><span class="s1">[</span><span class="s3">s</span><span class="s1">];</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">o</span><span class="s1">]=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#c</span><span class="s1">[</span><span class="s3">s</span><span class="s1">]}</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">--,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">.</span><span class="s3">push</span><span class="s1">(</span><span class="s3">s</span><span class="s1">)}}</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">?.</span><span class="s3">length</span><span class="s1">){</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">,</span><span class="s3">n</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(;</span><span class="s3">n</span><span class="s1">=</span><span class="s3">s</span><span class="s1">?.</span><span class="s3">shift</span><span class="s1">();)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">?.(</span><span class="s3">...n</span><span class="s1">)}</span><span class="s2">return </span><span class="s3">i</span><span class="s1">}</span><span class="s3">clear</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.</span><span class="s3">#N</span><span class="s1">(</span><span class="s0">&quot;delete&quot;</span><span class="s1">)}</span><span class="s3">#N</span><span class="s1">(</span><span class="s3">t</span><span class="s1">){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">let </span><span class="s3">e of </span><span class="s2">this</span><span class="s1">.</span><span class="s3">#F</span><span class="s1">({</span><span class="s3">allowStale</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">})){</span><span class="s2">let </span><span class="s3">i</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#e</span><span class="s1">(</span><span class="s3">i</span><span class="s1">))</span><span class="s3">i</span><span class="s1">.</span><span class="s3">__abortController</span><span class="s1">.</span><span class="s3">abort</span><span class="s1">(</span><span class="s2">new </span><span class="s3">Error</span><span class="s1">(</span><span class="s0">&quot;deleted&quot;</span><span class="s1">));</span><span class="s2">else</span><span class="s1">{</span><span class="s2">let </span><span class="s3">s</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">[</span><span class="s3">e</span><span class="s1">];</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#y</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#p</span><span class="s1">?.(</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">,</span><span class="s3">t</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">?.</span><span class="s3">push</span><span class="s1">([</span><span class="s3">i</span><span class="s1">,</span><span class="s3">s</span><span class="s1">,</span><span class="s3">t</span><span class="s1">])}}</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#s</span><span class="s1">.</span><span class="s3">clear</span><span class="s1">(),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#t</span><span class="s1">.</span><span class="s3">fill</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#i</span><span class="s1">.</span><span class="s3">fill</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">&amp;&amp;(</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#u</span><span class="s1">.</span><span class="s3">fill</span><span class="s1">(</span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#m</span><span class="s1">.</span><span class="s3">fill</span><span class="s1">(</span><span class="s4">0</span><span class="s1">)),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#b</span><span class="s1">.</span><span class="s3">fill</span><span class="s1">(</span><span class="s4">0</span><span class="s1">),</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#o</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#h</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#_</span><span class="s1">.</span><span class="s3">length</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#S</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#n</span><span class="s1">=</span><span class="s4">0</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#a</span><span class="s1">&amp;&amp;</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">){</span><span class="s2">let </span><span class="s3">e</span><span class="s1">=</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#r</span><span class="s1">,</span><span class="s3">i</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(;</span><span class="s3">i</span><span class="s1">=</span><span class="s3">e</span><span class="s1">?.</span><span class="s3">shift</span><span class="s1">();)</span><span class="s2">this</span><span class="s1">.</span><span class="s3">#w</span><span class="s1">?.(</span><span class="s3">...i</span><span class="s1">)}}};</span><span class="s3">exports</span><span class="s1">.</span><span class="s3">LRUCache</span><span class="s1">=</span><span class="s3">C</span><span class="s1">;</span>
<span class="s5">//# sourceMappingURL=index.min.js.map</span>
</pre>
</body>
</html>