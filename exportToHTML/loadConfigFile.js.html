<html>
<head>
<title>loadConfigFile.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #7a7e85;}
.s1 { color: #bcbec4;}
.s2 { color: #6aab73;}
.s3 { color: #bcbec4;}
.s4 { color: #cf8e6d;}
.s5 { color: #2aacb8;}
.s6 { color: #42c3d4;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
loadConfigFile.js</font>
</center></td></tr></table>
<pre><span class="s0">/* 
  @license 
    Rollup.js v2.79.2 
    Thu, 26 Sep 2024 18:44:14 GMT - commit 48aef33cf2f2a6dfb175afb3bcd6a977c81f1d5c 
 
    https://github.com/rollup/rollup 
 
    Released under the MIT License. 
*/</span>
<span class="s2">'use strict'</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">require$$0 </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">'path'</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">process$1 </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">'process'</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">url </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">'url'</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">tty </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">'tty'</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">rollup </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">'./rollup.js'</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">mergeOptions </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s2">'./mergeOptions.js'</span><span class="s3">);</span>

<span class="s4">function </span><span class="s1">_interopNamespaceDefault</span><span class="s3">(</span><span class="s1">e</span><span class="s3">) {</span>
  <span class="s4">const </span><span class="s1">n </span><span class="s3">= </span><span class="s1">Object</span><span class="s3">.</span><span class="s1">create</span><span class="s3">(</span><span class="s4">null</span><span class="s3">, { [</span><span class="s1">Symbol</span><span class="s3">.</span><span class="s1">toStringTag</span><span class="s3">]: { </span><span class="s1">value</span><span class="s3">: </span><span class="s2">'Module' </span><span class="s3">} });</span>
  <span class="s4">if </span><span class="s3">(</span><span class="s1">e</span><span class="s3">) {</span>
    <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">k </span><span class="s4">in </span><span class="s1">e</span><span class="s3">) {</span>
      <span class="s1">n</span><span class="s3">[</span><span class="s1">k</span><span class="s3">] = </span><span class="s1">e</span><span class="s3">[</span><span class="s1">k</span><span class="s3">];</span>
    <span class="s3">}</span>
  <span class="s3">}</span>
  <span class="s1">n</span><span class="s3">.</span><span class="s1">default </span><span class="s3">= </span><span class="s1">e</span><span class="s3">;</span>
  <span class="s4">return </span><span class="s1">n</span><span class="s3">;</span>
<span class="s3">}</span>

<span class="s4">const </span><span class="s1">tty__namespace </span><span class="s3">= </span><span class="s0">/*#__PURE__*/</span><span class="s1">_interopNamespaceDefault</span><span class="s3">(</span><span class="s1">tty</span><span class="s3">);</span>

<span class="s4">const </span><span class="s3">{</span>
  <span class="s1">env </span><span class="s3">= {},</span>
  <span class="s1">argv </span><span class="s3">= [],</span>
  <span class="s1">platform </span><span class="s3">= </span><span class="s2">&quot;&quot;</span><span class="s3">,</span>
<span class="s3">} = </span><span class="s4">typeof </span><span class="s1">process </span><span class="s3">=== </span><span class="s2">&quot;undefined&quot; </span><span class="s3">? {} : </span><span class="s1">process</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">isDisabled </span><span class="s3">= </span><span class="s2">&quot;NO_COLOR&quot; </span><span class="s4">in </span><span class="s1">env </span><span class="s3">|| </span><span class="s1">argv</span><span class="s3">.</span><span class="s1">includes</span><span class="s3">(</span><span class="s2">&quot;--no-color&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">isForced </span><span class="s3">= </span><span class="s2">&quot;FORCE_COLOR&quot; </span><span class="s4">in </span><span class="s1">env </span><span class="s3">|| </span><span class="s1">argv</span><span class="s3">.</span><span class="s1">includes</span><span class="s3">(</span><span class="s2">&quot;--color&quot;</span><span class="s3">);</span>
<span class="s4">const </span><span class="s1">isWindows </span><span class="s3">= </span><span class="s1">platform </span><span class="s3">=== </span><span class="s2">&quot;win32&quot;</span><span class="s3">;</span>
<span class="s4">const </span><span class="s1">isDumbTerminal </span><span class="s3">= </span><span class="s1">env</span><span class="s3">.</span><span class="s1">TERM </span><span class="s3">=== </span><span class="s2">&quot;dumb&quot;</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">isCompatibleTerminal </span><span class="s3">=</span>
  <span class="s1">tty__namespace </span><span class="s3">&amp;&amp; </span><span class="s1">tty__namespace</span><span class="s3">.</span><span class="s1">isatty </span><span class="s3">&amp;&amp; </span><span class="s1">tty__namespace</span><span class="s3">.</span><span class="s1">isatty</span><span class="s3">(</span><span class="s5">1</span><span class="s3">) &amp;&amp; </span><span class="s1">env</span><span class="s3">.</span><span class="s1">TERM </span><span class="s3">&amp;&amp; !</span><span class="s1">isDumbTerminal</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">isCI </span><span class="s3">=</span>
  <span class="s2">&quot;CI&quot; </span><span class="s4">in </span><span class="s1">env </span><span class="s3">&amp;&amp;</span>
  <span class="s3">(</span><span class="s2">&quot;GITHUB_ACTIONS&quot; </span><span class="s4">in </span><span class="s1">env </span><span class="s3">|| </span><span class="s2">&quot;GITLAB_CI&quot; </span><span class="s4">in </span><span class="s1">env </span><span class="s3">|| </span><span class="s2">&quot;CIRCLECI&quot; </span><span class="s4">in </span><span class="s1">env</span><span class="s3">);</span>

<span class="s4">const </span><span class="s1">isColorSupported </span><span class="s3">=</span>
  <span class="s3">!</span><span class="s1">isDisabled </span><span class="s3">&amp;&amp;</span>
  <span class="s3">(</span><span class="s1">isForced </span><span class="s3">|| (</span><span class="s1">isWindows </span><span class="s3">&amp;&amp; !</span><span class="s1">isDumbTerminal</span><span class="s3">) || </span><span class="s1">isCompatibleTerminal </span><span class="s3">|| </span><span class="s1">isCI</span><span class="s3">);</span>

<span class="s4">const </span><span class="s1">replaceClose </span><span class="s3">= (</span>
  <span class="s1">index</span><span class="s3">,</span>
  <span class="s1">string</span><span class="s3">,</span>
  <span class="s1">close</span><span class="s3">,</span>
  <span class="s1">replace</span><span class="s3">,</span>
  <span class="s1">head </span><span class="s3">= </span><span class="s1">string</span><span class="s3">.</span><span class="s1">substring</span><span class="s3">(</span><span class="s5">0</span><span class="s3">, </span><span class="s1">index</span><span class="s3">) + </span><span class="s1">replace</span><span class="s3">,</span>
  <span class="s1">tail </span><span class="s3">= </span><span class="s1">string</span><span class="s3">.</span><span class="s1">substring</span><span class="s3">(</span><span class="s1">index </span><span class="s3">+ </span><span class="s1">close</span><span class="s3">.</span><span class="s1">length</span><span class="s3">),</span>
  <span class="s1">next </span><span class="s3">= </span><span class="s1">tail</span><span class="s3">.</span><span class="s1">indexOf</span><span class="s3">(</span><span class="s1">close</span><span class="s3">)</span>
<span class="s3">) =&gt; </span><span class="s1">head </span><span class="s3">+ (</span><span class="s1">next </span><span class="s3">&lt; </span><span class="s5">0 </span><span class="s3">? </span><span class="s1">tail </span><span class="s3">: </span><span class="s1">replaceClose</span><span class="s3">(</span><span class="s1">next</span><span class="s3">, </span><span class="s1">tail</span><span class="s3">, </span><span class="s1">close</span><span class="s3">, </span><span class="s1">replace</span><span class="s3">));</span>

<span class="s4">const </span><span class="s1">clearBleed </span><span class="s3">= (</span><span class="s1">index</span><span class="s3">, </span><span class="s1">string</span><span class="s3">, </span><span class="s1">open</span><span class="s3">, </span><span class="s1">close</span><span class="s3">, </span><span class="s1">replace</span><span class="s3">) =&gt;</span>
  <span class="s1">index </span><span class="s3">&lt; </span><span class="s5">0</span>
    <span class="s3">? </span><span class="s1">open </span><span class="s3">+ </span><span class="s1">string </span><span class="s3">+ </span><span class="s1">close</span>
    <span class="s3">: </span><span class="s1">open </span><span class="s3">+ </span><span class="s1">replaceClose</span><span class="s3">(</span><span class="s1">index</span><span class="s3">, </span><span class="s1">string</span><span class="s3">, </span><span class="s1">close</span><span class="s3">, </span><span class="s1">replace</span><span class="s3">) + </span><span class="s1">close</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">filterEmpty </span><span class="s3">=</span>
  <span class="s3">(</span><span class="s1">open</span><span class="s3">, </span><span class="s1">close</span><span class="s3">, </span><span class="s1">replace </span><span class="s3">= </span><span class="s1">open</span><span class="s3">, </span><span class="s1">at </span><span class="s3">= </span><span class="s1">open</span><span class="s3">.</span><span class="s1">length </span><span class="s3">+ </span><span class="s5">1</span><span class="s3">) =&gt;</span>
  <span class="s3">(</span><span class="s1">string</span><span class="s3">) =&gt;</span>
    <span class="s1">string </span><span class="s3">|| !(</span><span class="s1">string </span><span class="s3">=== </span><span class="s2">&quot;&quot; </span><span class="s3">|| </span><span class="s1">string </span><span class="s3">=== </span><span class="s1">undefined</span><span class="s3">)</span>
      <span class="s3">? </span><span class="s1">clearBleed</span><span class="s3">(</span>
          <span class="s3">(</span><span class="s2">&quot;&quot; </span><span class="s3">+ </span><span class="s1">string</span><span class="s3">).</span><span class="s1">indexOf</span><span class="s3">(</span><span class="s1">close</span><span class="s3">, </span><span class="s1">at</span><span class="s3">),</span>
          <span class="s1">string</span><span class="s3">,</span>
          <span class="s1">open</span><span class="s3">,</span>
          <span class="s1">close</span><span class="s3">,</span>
          <span class="s1">replace</span>
        <span class="s3">)</span>
      <span class="s3">: </span><span class="s2">&quot;&quot;</span><span class="s3">;</span>

<span class="s4">const </span><span class="s1">init </span><span class="s3">= (</span><span class="s1">open</span><span class="s3">, </span><span class="s1">close</span><span class="s3">, </span><span class="s1">replace</span><span class="s3">) =&gt;</span>
  <span class="s1">filterEmpty</span><span class="s3">(</span><span class="s2">`</span><span class="s4">\x1b</span><span class="s2">[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">open</span><span class="s3">}</span><span class="s2">m`</span><span class="s3">, </span><span class="s2">`</span><span class="s4">\x1b</span><span class="s2">[</span><span class="s1">$</span><span class="s3">{</span><span class="s1">close</span><span class="s3">}</span><span class="s2">m`</span><span class="s3">, </span><span class="s1">replace</span><span class="s3">);</span>

<span class="s4">const </span><span class="s1">colors </span><span class="s3">= {</span>
  <span class="s1">reset</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">0</span><span class="s3">, </span><span class="s5">0</span><span class="s3">),</span>
  <span class="s1">bold</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">1</span><span class="s3">, </span><span class="s5">22</span><span class="s3">, </span><span class="s2">&quot;</span><span class="s4">\x1b</span><span class="s2">[22m</span><span class="s4">\x1b</span><span class="s2">[1m&quot;</span><span class="s3">),</span>
  <span class="s1">dim</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">2</span><span class="s3">, </span><span class="s5">22</span><span class="s3">, </span><span class="s2">&quot;</span><span class="s4">\x1b</span><span class="s2">[22m</span><span class="s4">\x1b</span><span class="s2">[2m&quot;</span><span class="s3">),</span>
  <span class="s1">italic</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">3</span><span class="s3">, </span><span class="s5">23</span><span class="s3">),</span>
  <span class="s1">underline</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">4</span><span class="s3">, </span><span class="s5">24</span><span class="s3">),</span>
  <span class="s1">inverse</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">7</span><span class="s3">, </span><span class="s5">27</span><span class="s3">),</span>
  <span class="s1">hidden</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">8</span><span class="s3">, </span><span class="s5">28</span><span class="s3">),</span>
  <span class="s1">strikethrough</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">9</span><span class="s3">, </span><span class="s5">29</span><span class="s3">),</span>
  <span class="s1">black</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">30</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">red</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">31</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">green</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">32</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">yellow</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">33</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">blue</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">34</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">magenta</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">35</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">cyan</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">36</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">white</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">37</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">gray</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">90</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">bgBlack</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">40</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgRed</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">41</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgGreen</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">42</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgYellow</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">43</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgBlue</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">44</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgMagenta</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">45</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgCyan</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">46</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgWhite</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">47</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">blackBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">90</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">redBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">91</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">greenBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">92</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">yellowBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">93</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">blueBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">94</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">magentaBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">95</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">cyanBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">96</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">whiteBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">97</span><span class="s3">, </span><span class="s5">39</span><span class="s3">),</span>
  <span class="s1">bgBlackBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">100</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgRedBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">101</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgGreenBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">102</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgYellowBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">103</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgBlueBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">104</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgMagentaBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">105</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgCyanBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">106</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
  <span class="s1">bgWhiteBright</span><span class="s3">: </span><span class="s1">init</span><span class="s3">(</span><span class="s5">107</span><span class="s3">, </span><span class="s5">49</span><span class="s3">),</span>
<span class="s3">};</span>

<span class="s4">const </span><span class="s1">createColors </span><span class="s3">= ({ </span><span class="s1">useColor </span><span class="s3">= </span><span class="s1">isColorSupported </span><span class="s3">} = {}) =&gt;</span>
  <span class="s1">useColor</span>
    <span class="s3">? </span><span class="s1">colors</span>
    <span class="s3">: </span><span class="s1">Object</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">(</span><span class="s1">colors</span><span class="s3">).</span><span class="s1">reduce</span><span class="s3">(</span>
        <span class="s3">(</span><span class="s1">colors</span><span class="s3">, </span><span class="s1">key</span><span class="s3">) =&gt; ({ </span><span class="s1">...colors</span><span class="s3">, [</span><span class="s1">key</span><span class="s3">]: </span><span class="s1">String </span><span class="s3">}),</span>
        <span class="s3">{}</span>
      <span class="s3">);</span>

<span class="s1">createColors</span><span class="s3">();</span>

<span class="s0">// @see https://no-color.org</span>
<span class="s0">// @see https://www.npmjs.com/package/chalk</span>
<span class="s4">const </span><span class="s3">{ </span><span class="s1">bold</span><span class="s3">, </span><span class="s1">cyan</span><span class="s3">, </span><span class="s1">dim</span><span class="s3">, </span><span class="s1">gray</span><span class="s3">, </span><span class="s1">green</span><span class="s3">, </span><span class="s1">red</span><span class="s3">, </span><span class="s1">underline</span><span class="s3">, </span><span class="s1">yellow </span><span class="s3">} = </span><span class="s1">createColors</span><span class="s3">({</span>
    <span class="s1">useColor</span><span class="s3">: </span><span class="s1">process$1</span><span class="s3">.</span><span class="s1">env</span><span class="s3">.</span><span class="s1">FORCE_COLOR </span><span class="s3">!== </span><span class="s2">'0' </span><span class="s3">&amp;&amp; !</span><span class="s1">process$1</span><span class="s3">.</span><span class="s1">env</span><span class="s3">.</span><span class="s1">NO_COLOR</span>
<span class="s3">});</span>

<span class="s0">// log to stderr to keep `rollup main.js &gt; bundle.js` from breaking</span>
<span class="s4">const </span><span class="s1">stderr </span><span class="s3">= (</span><span class="s1">...args</span><span class="s3">) =&gt; </span><span class="s1">process$1</span><span class="s3">.</span><span class="s1">stderr</span><span class="s3">.</span><span class="s1">write</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">args</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">''</span><span class="s3">)}</span><span class="s4">\n</span><span class="s2">`</span><span class="s3">);</span>
<span class="s4">function </span><span class="s1">handleError</span><span class="s3">(</span><span class="s1">err</span><span class="s3">, </span><span class="s1">recover </span><span class="s3">= </span><span class="s4">false</span><span class="s3">) {</span>
    <span class="s4">let </span><span class="s1">description </span><span class="s3">= </span><span class="s1">err</span><span class="s3">.</span><span class="s1">message </span><span class="s3">|| </span><span class="s1">err</span><span class="s3">;</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">name</span><span class="s3">)</span>
        <span class="s1">description </span><span class="s3">= </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">err</span><span class="s3">.</span><span class="s1">name</span><span class="s3">}</span><span class="s2">: </span><span class="s1">$</span><span class="s3">{</span><span class="s1">description</span><span class="s3">}</span><span class="s2">`</span><span class="s3">;</span>
    <span class="s4">const </span><span class="s1">message </span><span class="s3">= (</span><span class="s1">err</span><span class="s3">.</span><span class="s1">plugin </span><span class="s3">? </span><span class="s2">`(plugin </span><span class="s1">$</span><span class="s3">{</span><span class="s1">err</span><span class="s3">.</span><span class="s1">plugin</span><span class="s3">}</span><span class="s2">) </span><span class="s1">$</span><span class="s3">{</span><span class="s1">description</span><span class="s3">}</span><span class="s2">` </span><span class="s3">: </span><span class="s1">description</span><span class="s3">) || </span><span class="s1">err</span><span class="s3">;</span>
    <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">red</span><span class="s3">(</span><span class="s2">`[!] </span><span class="s1">$</span><span class="s3">{</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">message</span><span class="s3">.</span><span class="s1">toString</span><span class="s3">())}</span><span class="s2">`</span><span class="s3">)));</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">url</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">cyan</span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">url</span><span class="s3">));</span>
    <span class="s3">}</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">((</span><span class="s1">err</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">file </span><span class="s3">|| </span><span class="s1">err</span><span class="s3">.</span><span class="s1">id</span><span class="s3">))} </span><span class="s2">(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">err</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">line</span><span class="s3">}</span><span class="s2">:</span><span class="s1">$</span><span class="s3">{</span><span class="s1">err</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">column</span><span class="s3">}</span><span class="s2">)`</span><span class="s3">);</span>
    <span class="s3">}</span>
    <span class="s4">else if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">id</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">id</span><span class="s3">));</span>
    <span class="s3">}</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">dim</span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">));</span>
    <span class="s3">}</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">stack</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">dim</span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">stack</span><span class="s3">));</span>
    <span class="s3">}</span>
    <span class="s1">stderr</span><span class="s3">(</span><span class="s2">''</span><span class="s3">);</span>
    <span class="s4">if </span><span class="s3">(!</span><span class="s1">recover</span><span class="s3">)</span>
        <span class="s1">process$1</span><span class="s3">.</span><span class="s1">exit</span><span class="s3">(</span><span class="s5">1</span><span class="s3">);</span>
<span class="s3">}</span>

<span class="s4">function </span><span class="s1">batchWarnings</span><span class="s3">() {</span>
    <span class="s4">let </span><span class="s1">count </span><span class="s3">= </span><span class="s5">0</span><span class="s3">;</span>
    <span class="s4">const </span><span class="s1">deferredWarnings </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Map</span><span class="s3">();</span>
    <span class="s4">let </span><span class="s1">warningOccurred </span><span class="s3">= </span><span class="s4">false</span><span class="s3">;</span>
    <span class="s4">return </span><span class="s3">{</span>
        <span class="s1">add</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">) {</span>
            <span class="s1">count </span><span class="s3">+= </span><span class="s5">1</span><span class="s3">;</span>
            <span class="s1">warningOccurred </span><span class="s3">= </span><span class="s4">true</span><span class="s3">;</span>
            <span class="s4">if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">code </span><span class="s4">in </span><span class="s1">deferredHandlers</span><span class="s3">) {</span>
                <span class="s1">rollup</span><span class="s3">.</span><span class="s1">getOrCreate</span><span class="s3">(</span><span class="s1">deferredWarnings</span><span class="s3">, </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">code</span><span class="s3">, () =&gt; []).</span><span class="s1">push</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">);</span>
            <span class="s3">}</span>
            <span class="s4">else if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">code </span><span class="s4">in </span><span class="s1">immediateHandlers</span><span class="s3">) {</span>
                <span class="s1">immediateHandlers</span><span class="s3">[</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">code</span><span class="s3">](</span><span class="s1">warning</span><span class="s3">);</span>
            <span class="s3">}</span>
            <span class="s4">else </span><span class="s3">{</span>
                <span class="s1">title</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">message</span><span class="s3">);</span>
                <span class="s4">if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">url</span><span class="s3">)</span>
                    <span class="s1">info</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">url</span><span class="s3">);</span>
                <span class="s4">const </span><span class="s1">id </span><span class="s3">= (</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc </span><span class="s3">&amp;&amp; </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">file</span><span class="s3">) || </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">id</span><span class="s3">;</span>
                <span class="s4">if </span><span class="s3">(</span><span class="s1">id</span><span class="s3">) {</span>
                    <span class="s4">const </span><span class="s1">loc </span><span class="s3">= </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span>
                        <span class="s3">? </span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">)} </span><span class="s2">(</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">line</span><span class="s3">}</span><span class="s2">:</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">column</span><span class="s3">}</span><span class="s2">)`</span>
                        <span class="s3">: </span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">);</span>
                    <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">loc</span><span class="s3">)));</span>
                <span class="s3">}</span>
                <span class="s4">if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">)</span>
                    <span class="s1">info</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">);</span>
            <span class="s3">}</span>
        <span class="s3">},</span>
        <span class="s1">get count</span><span class="s3">() {</span>
            <span class="s4">return </span><span class="s1">count</span><span class="s3">;</span>
        <span class="s3">},</span>
        <span class="s1">flush</span><span class="s3">() {</span>
            <span class="s4">if </span><span class="s3">(</span><span class="s1">count </span><span class="s3">=== </span><span class="s5">0</span><span class="s3">)</span>
                <span class="s4">return</span><span class="s3">;</span>
            <span class="s4">const </span><span class="s1">codes </span><span class="s3">= </span><span class="s1">Array</span><span class="s3">.</span><span class="s1">from</span><span class="s3">(</span><span class="s1">deferredWarnings</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">()).</span><span class="s1">sort</span><span class="s3">((</span><span class="s1">a</span><span class="s3">, </span><span class="s1">b</span><span class="s3">) =&gt; </span><span class="s1">deferredWarnings</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">b</span><span class="s3">).</span><span class="s1">length </span><span class="s3">- </span><span class="s1">deferredWarnings</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">a</span><span class="s3">).</span><span class="s1">length</span><span class="s3">);</span>
            <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">code of codes</span><span class="s3">) {</span>
                <span class="s1">deferredHandlers</span><span class="s3">[</span><span class="s1">code</span><span class="s3">](</span><span class="s1">deferredWarnings</span><span class="s3">.</span><span class="s1">get</span><span class="s3">(</span><span class="s1">code</span><span class="s3">));</span>
            <span class="s3">}</span>
            <span class="s1">deferredWarnings</span><span class="s3">.</span><span class="s1">clear</span><span class="s3">();</span>
            <span class="s1">count </span><span class="s3">= </span><span class="s5">0</span><span class="s3">;</span>
        <span class="s3">},</span>
        <span class="s1">get warningOccurred</span><span class="s3">() {</span>
            <span class="s4">return </span><span class="s1">warningOccurred</span><span class="s3">;</span>
        <span class="s3">}</span>
    <span class="s3">};</span>
<span class="s3">}</span>
<span class="s4">const </span><span class="s1">immediateHandlers </span><span class="s3">= {</span>
    <span class="s1">MISSING_NODE_BUILTINS</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Missing shims for Node.js built-ins`</span><span class="s3">);</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`Creating a browser bundle that depends on </span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">printQuotedStringList</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">modules</span><span class="s3">)}</span><span class="s2">. You might need to include https://github.com/FredKSchott/rollup-plugin-polyfill-node`</span><span class="s3">);</span>
    <span class="s3">},</span>
    <span class="s1">UNKNOWN_OPTION</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`You have passed an unrecognized option`</span><span class="s3">);</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">message</span><span class="s3">);</span>
    <span class="s3">}</span>
<span class="s3">};</span>
<span class="s4">const </span><span class="s1">deferredHandlers </span><span class="s3">= {</span>
    <span class="s1">CIRCULAR_DEPENDENCY</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Circular dependenc</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">1 </span><span class="s3">? </span><span class="s2">'ies' </span><span class="s3">: </span><span class="s2">'y'</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
        <span class="s4">const </span><span class="s1">displayed </span><span class="s3">= </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">5 </span><span class="s3">? </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s3">, </span><span class="s5">3</span><span class="s3">) : </span><span class="s1">warnings</span><span class="s3">;</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of displayed</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">cycle</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">' -&gt; '</span><span class="s3">));</span>
        <span class="s3">}</span>
        <span class="s4">if </span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s1">displayed</span><span class="s3">.</span><span class="s1">length</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`...and </span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">- </span><span class="s1">displayed</span><span class="s3">.</span><span class="s1">length</span><span class="s3">} </span><span class="s2">more`</span><span class="s3">);</span>
        <span class="s3">}</span>
    <span class="s3">},</span>
    <span class="s1">EMPTY_BUNDLE</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Generated</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">=== </span><span class="s5">1 </span><span class="s3">? </span><span class="s2">' an' </span><span class="s3">: </span><span class="s2">''</span><span class="s3">} </span><span class="s2">empty </span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">1 </span><span class="s3">? </span><span class="s2">'chunks' </span><span class="s3">: </span><span class="s2">'chunk'</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">map</span><span class="s3">(</span><span class="s1">warning </span><span class="s3">=&gt; </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">chunkName</span><span class="s3">).</span><span class="s1">join</span><span class="s3">(</span><span class="s2">', '</span><span class="s3">));</span>
    <span class="s3">},</span>
    <span class="s1">EVAL</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">'Use of eval is strongly discouraged'</span><span class="s3">);</span>
        <span class="s1">info</span><span class="s3">(</span><span class="s2">'https://rollupjs.org/guide/en/#avoiding-eval'</span><span class="s3">);</span>
        <span class="s1">showTruncatedWarnings</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">);</span>
    <span class="s3">},</span>
    <span class="s1">MISSING_EXPORT</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">'Missing exports'</span><span class="s3">);</span>
        <span class="s1">info</span><span class="s3">(</span><span class="s2">'https://rollupjs.org/guide/en/#error-name-is-not-exported-by-module'</span><span class="s3">);</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of warnings</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">importer</span><span class="s3">));</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">missing</span><span class="s3">} </span><span class="s2">is not exported by </span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">exporter</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s1">gray</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">));</span>
        <span class="s3">}</span>
    <span class="s3">},</span>
    <span class="s1">MISSING_GLOBAL_NAME</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Missing global variable </span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">1 </span><span class="s3">? </span><span class="s2">'names' </span><span class="s3">: </span><span class="s2">'name'</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`Use output.globals to specify browser global variable names corresponding to external modules`</span><span class="s3">);</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of warnings</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">source</span><span class="s3">)} </span><span class="s2">(guessing '</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">guess</span><span class="s3">}</span><span class="s2">')`</span><span class="s3">);</span>
        <span class="s3">}</span>
    <span class="s3">},</span>
    <span class="s1">MIXED_EXPORTS</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">'Mixing named and default exports'</span><span class="s3">);</span>
        <span class="s1">info</span><span class="s3">(</span><span class="s2">`https://rollupjs.org/guide/en/#outputexports`</span><span class="s3">);</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s2">'The following entry modules are using named and default exports together:'</span><span class="s3">));</span>
        <span class="s1">warnings</span><span class="s3">.</span><span class="s1">sort</span><span class="s3">((</span><span class="s1">a</span><span class="s3">, </span><span class="s1">b</span><span class="s3">) =&gt; (</span><span class="s1">a</span><span class="s3">.</span><span class="s1">id </span><span class="s3">&lt; </span><span class="s1">b</span><span class="s3">.</span><span class="s1">id </span><span class="s3">? -</span><span class="s5">1 </span><span class="s3">: </span><span class="s5">1</span><span class="s3">));</span>
        <span class="s4">const </span><span class="s1">displayedWarnings </span><span class="s3">= </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">5 </span><span class="s3">? </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s3">, </span><span class="s5">3</span><span class="s3">) : </span><span class="s1">warnings</span><span class="s3">;</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of displayedWarnings</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">id</span><span class="s3">));</span>
        <span class="s3">}</span>
        <span class="s4">if </span><span class="s3">(</span><span class="s1">displayedWarnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&lt; </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`...and </span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">- </span><span class="s1">displayedWarnings</span><span class="s3">.</span><span class="s1">length</span><span class="s3">} </span><span class="s2">other entry modules`</span><span class="s3">);</span>
        <span class="s3">}</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`</span><span class="s4">\n</span><span class="s2">Consumers of your bundle will have to use chunk['default'] to access their default export, which may not be what you want. Use </span><span class="s4">\`</span><span class="s2">output.exports: 'named'</span><span class="s4">\` </span><span class="s2">to disable this warning`</span><span class="s3">);</span>
    <span class="s3">},</span>
    <span class="s1">NAMESPACE_CONFLICT</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Conflicting re-exports`</span><span class="s3">);</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of warnings</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`&quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">reexporter</span><span class="s3">))}</span><span class="s2">&quot; re-exports &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">name</span><span class="s3">}</span><span class="s2">&quot; from both &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">sources</span><span class="s3">[</span><span class="s5">0</span><span class="s3">])}</span><span class="s2">&quot; and &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">sources</span><span class="s3">[</span><span class="s5">1</span><span class="s3">])}</span><span class="s2">&quot; (will be ignored)`</span><span class="s3">);</span>
        <span class="s3">}</span>
    <span class="s3">},</span>
    <span class="s1">NON_EXISTENT_EXPORT</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Import of non-existent </span><span class="s1">$</span><span class="s3">{</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">1 </span><span class="s3">? </span><span class="s2">'exports' </span><span class="s3">: </span><span class="s2">'export'</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
        <span class="s1">showTruncatedWarnings</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">);</span>
    <span class="s3">},</span>
    <span class="s1">PLUGIN_WARNING</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s4">var </span><span class="s1">_a</span><span class="s3">;</span>
        <span class="s4">const </span><span class="s1">nestedByPlugin </span><span class="s3">= </span><span class="s1">nest</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">, </span><span class="s2">'plugin'</span><span class="s3">);</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">{ </span><span class="s1">key</span><span class="s3">: </span><span class="s1">plugin</span><span class="s3">, </span><span class="s1">items </span><span class="s3">} </span><span class="s1">of nestedByPlugin</span><span class="s3">) {</span>
            <span class="s4">const </span><span class="s1">nestedByMessage </span><span class="s3">= </span><span class="s1">nest</span><span class="s3">(</span><span class="s1">items</span><span class="s3">, </span><span class="s2">'message'</span><span class="s3">);</span>
            <span class="s4">let </span><span class="s1">lastUrl </span><span class="s3">= </span><span class="s2">''</span><span class="s3">;</span>
            <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">{ </span><span class="s1">key</span><span class="s3">: </span><span class="s1">message</span><span class="s3">, </span><span class="s1">items </span><span class="s3">} </span><span class="s1">of nestedByMessage</span><span class="s3">) {</span>
                <span class="s1">title</span><span class="s3">(</span><span class="s2">`Plugin </span><span class="s1">$</span><span class="s3">{</span><span class="s1">plugin</span><span class="s3">}</span><span class="s2">: </span><span class="s1">$</span><span class="s3">{</span><span class="s1">message</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
                <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of items</span><span class="s3">) {</span>
                    <span class="s4">if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">url </span><span class="s3">&amp;&amp; </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">url </span><span class="s3">!== </span><span class="s1">lastUrl</span><span class="s3">)</span>
                        <span class="s1">info</span><span class="s3">((</span><span class="s1">lastUrl </span><span class="s3">= </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">url</span><span class="s3">));</span>
                    <span class="s4">const </span><span class="s1">id </span><span class="s3">= </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">id </span><span class="s3">|| ((</span><span class="s1">_a </span><span class="s3">= </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">) === </span><span class="s4">null </span><span class="s3">|| </span><span class="s1">_a </span><span class="s3">=== </span><span class="s4">void </span><span class="s5">0 </span><span class="s3">? </span><span class="s4">void </span><span class="s5">0 </span><span class="s3">: </span><span class="s1">_a</span><span class="s3">.</span><span class="s1">file</span><span class="s3">);</span>
                    <span class="s4">if </span><span class="s3">(</span><span class="s1">id</span><span class="s3">) {</span>
                        <span class="s4">let </span><span class="s1">loc </span><span class="s3">= </span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">);</span>
                        <span class="s4">if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">) {</span>
                            <span class="s1">loc </span><span class="s3">+= </span><span class="s2">`: (</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">line</span><span class="s3">}</span><span class="s2">:</span><span class="s1">$</span><span class="s3">{</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">loc</span><span class="s3">.</span><span class="s1">column</span><span class="s3">}</span><span class="s2">)`</span><span class="s3">;</span>
                        <span class="s3">}</span>
                        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">loc</span><span class="s3">));</span>
                    <span class="s3">}</span>
                    <span class="s4">if </span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">)</span>
                        <span class="s1">info</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">frame</span><span class="s3">);</span>
                <span class="s3">}</span>
            <span class="s3">}</span>
        <span class="s3">}</span>
    <span class="s3">},</span>
    <span class="s1">SOURCEMAP_BROKEN</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">`Broken sourcemap`</span><span class="s3">);</span>
        <span class="s1">info</span><span class="s3">(</span><span class="s2">'https://rollupjs.org/guide/en/#warning-sourcemap-is-likely-to-be-incorrect'</span><span class="s3">);</span>
        <span class="s4">const </span><span class="s1">plugins </span><span class="s3">= [</span><span class="s1">...</span><span class="s4">new </span><span class="s1">Set</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">map</span><span class="s3">(({ </span><span class="s1">plugin </span><span class="s3">}) =&gt; </span><span class="s1">plugin</span><span class="s3">).</span><span class="s1">filter</span><span class="s3">(</span><span class="s1">Boolean</span><span class="s3">))];</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`Plugins that transform code (such as </span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">printQuotedStringList</span><span class="s3">(</span><span class="s1">plugins</span><span class="s3">)}</span><span class="s2">) should generate accompanying sourcemaps`</span><span class="s3">);</span>
    <span class="s3">},</span>
    <span class="s1">THIS_IS_UNDEFINED</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">'`this` has been rewritten to `undefined`'</span><span class="s3">);</span>
        <span class="s1">info</span><span class="s3">(</span><span class="s2">'https://rollupjs.org/guide/en/#error-this-is-undefined'</span><span class="s3">);</span>
        <span class="s1">showTruncatedWarnings</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">);</span>
    <span class="s3">},</span>
    <span class="s1">UNRESOLVED_IMPORT</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">'Unresolved dependencies'</span><span class="s3">);</span>
        <span class="s1">info</span><span class="s3">(</span><span class="s2">'https://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency'</span><span class="s3">);</span>
        <span class="s4">const </span><span class="s1">dependencies </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Map</span><span class="s3">();</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of warnings</span><span class="s3">) {</span>
            <span class="s1">rollup</span><span class="s3">.</span><span class="s1">getOrCreate</span><span class="s3">(</span><span class="s1">dependencies</span><span class="s3">, </span><span class="s1">warning</span><span class="s3">.</span><span class="s1">source</span><span class="s3">, () =&gt; []).</span><span class="s1">push</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">importer</span><span class="s3">);</span>
        <span class="s3">}</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">[</span><span class="s1">dependency</span><span class="s3">, </span><span class="s1">importers</span><span class="s3">] </span><span class="s1">of dependencies</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`</span><span class="s1">$</span><span class="s3">{</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">dependency</span><span class="s3">)} </span><span class="s2">(imported by </span><span class="s1">$</span><span class="s3">{</span><span class="s1">importers</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">', '</span><span class="s3">)}</span><span class="s2">)`</span><span class="s3">);</span>
        <span class="s3">}</span>
    <span class="s3">},</span>
    <span class="s1">UNUSED_EXTERNAL_IMPORT</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
        <span class="s1">title</span><span class="s3">(</span><span class="s2">'Unused external imports'</span><span class="s3">);</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">warning of warnings</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">names </span><span class="s3">+</span>
                <span class="s2">' imported from external module &quot;' </span><span class="s3">+</span>
                <span class="s1">warning</span><span class="s3">.</span><span class="s1">source </span><span class="s3">+</span>
                <span class="s2">'&quot; but never used in ' </span><span class="s3">+</span>
                <span class="s1">rollup</span><span class="s3">.</span><span class="s1">printQuotedStringList</span><span class="s3">(</span><span class="s1">warning</span><span class="s3">.</span><span class="s1">sources</span><span class="s3">.</span><span class="s1">map</span><span class="s3">(</span><span class="s1">id </span><span class="s3">=&gt; </span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">))));</span>
        <span class="s3">}</span>
    <span class="s3">}</span>
<span class="s3">};</span>
<span class="s4">function </span><span class="s1">title</span><span class="s3">(</span><span class="s1">str</span><span class="s3">) {</span>
    <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">yellow</span><span class="s3">(</span><span class="s2">`(!) </span><span class="s1">$</span><span class="s3">{</span><span class="s1">str</span><span class="s3">}</span><span class="s2">`</span><span class="s3">)));</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">info</span><span class="s3">(</span><span class="s1">url</span><span class="s3">) {</span>
    <span class="s1">stderr</span><span class="s3">(</span><span class="s1">gray</span><span class="s3">(</span><span class="s1">url</span><span class="s3">));</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">nest</span><span class="s3">(</span><span class="s1">array</span><span class="s3">, </span><span class="s1">prop</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">nested </span><span class="s3">= [];</span>
    <span class="s4">const </span><span class="s1">lookup </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Map</span><span class="s3">();</span>
    <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">item of array</span><span class="s3">) {</span>
        <span class="s4">const </span><span class="s1">key </span><span class="s3">= </span><span class="s1">item</span><span class="s3">[</span><span class="s1">prop</span><span class="s3">];</span>
        <span class="s1">rollup</span><span class="s3">.</span><span class="s1">getOrCreate</span><span class="s3">(</span><span class="s1">lookup</span><span class="s3">, </span><span class="s1">key</span><span class="s3">, () =&gt; {</span>
            <span class="s4">const </span><span class="s1">items </span><span class="s3">= {</span>
                <span class="s1">items</span><span class="s3">: [],</span>
                <span class="s1">key</span>
            <span class="s3">};</span>
            <span class="s1">nested</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">items</span><span class="s3">);</span>
            <span class="s4">return </span><span class="s1">items</span><span class="s3">;</span>
        <span class="s3">}).</span><span class="s1">items</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">item</span><span class="s3">);</span>
    <span class="s3">}</span>
    <span class="s4">return </span><span class="s1">nested</span><span class="s3">;</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">showTruncatedWarnings</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">nestedByModule </span><span class="s3">= </span><span class="s1">nest</span><span class="s3">(</span><span class="s1">warnings</span><span class="s3">, </span><span class="s2">'id'</span><span class="s3">);</span>
    <span class="s4">const </span><span class="s1">displayedByModule </span><span class="s3">= </span><span class="s1">nestedByModule</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">5 </span><span class="s3">? </span><span class="s1">nestedByModule</span><span class="s3">.</span><span class="s1">slice</span><span class="s3">(</span><span class="s5">0</span><span class="s3">, </span><span class="s5">3</span><span class="s3">) : </span><span class="s1">nestedByModule</span><span class="s3">;</span>
    <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s3">{ </span><span class="s1">key</span><span class="s3">: </span><span class="s1">id</span><span class="s3">, </span><span class="s1">items </span><span class="s3">} </span><span class="s1">of displayedByModule</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">)));</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">gray</span><span class="s3">(</span><span class="s1">items</span><span class="s3">[</span><span class="s5">0</span><span class="s3">].</span><span class="s1">frame</span><span class="s3">));</span>
        <span class="s4">if </span><span class="s3">(</span><span class="s1">items</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">1</span><span class="s3">) {</span>
            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`...and </span><span class="s1">$</span><span class="s3">{</span><span class="s1">items</span><span class="s3">.</span><span class="s1">length </span><span class="s3">- </span><span class="s5">1</span><span class="s3">} </span><span class="s2">other </span><span class="s1">$</span><span class="s3">{</span><span class="s1">items</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s5">2 </span><span class="s3">? </span><span class="s2">'occurrences' </span><span class="s3">: </span><span class="s2">'occurrence'</span><span class="s3">}</span><span class="s2">`</span><span class="s3">);</span>
        <span class="s3">}</span>
    <span class="s3">}</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">nestedByModule</span><span class="s3">.</span><span class="s1">length </span><span class="s3">&gt; </span><span class="s1">displayedByModule</span><span class="s3">.</span><span class="s1">length</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`</span><span class="s4">\n</span><span class="s2">...and </span><span class="s1">$</span><span class="s3">{</span><span class="s1">nestedByModule</span><span class="s3">.</span><span class="s1">length </span><span class="s3">- </span><span class="s1">displayedByModule</span><span class="s3">.</span><span class="s1">length</span><span class="s3">} </span><span class="s2">other files`</span><span class="s3">);</span>
    <span class="s3">}</span>
<span class="s3">}</span>

<span class="s4">const </span><span class="s1">stdinName </span><span class="s3">= </span><span class="s2">'-'</span><span class="s3">;</span>
<span class="s4">let </span><span class="s1">stdinResult </span><span class="s3">= </span><span class="s4">null</span><span class="s3">;</span>
<span class="s4">function </span><span class="s1">stdinPlugin</span><span class="s3">(</span><span class="s1">arg</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">suffix </span><span class="s3">= </span><span class="s4">typeof </span><span class="s1">arg </span><span class="s3">== </span><span class="s2">'string' </span><span class="s3">&amp;&amp; </span><span class="s1">arg</span><span class="s3">.</span><span class="s1">length </span><span class="s3">? </span><span class="s2">'.' </span><span class="s3">+ </span><span class="s1">arg </span><span class="s3">: </span><span class="s2">''</span><span class="s3">;</span>
    <span class="s4">return </span><span class="s3">{</span>
        <span class="s1">load</span><span class="s3">(</span><span class="s1">id</span><span class="s3">) {</span>
            <span class="s4">if </span><span class="s3">(</span><span class="s1">id </span><span class="s3">=== </span><span class="s1">stdinName </span><span class="s3">|| </span><span class="s1">id</span><span class="s3">.</span><span class="s1">startsWith</span><span class="s3">(</span><span class="s1">stdinName </span><span class="s3">+ </span><span class="s2">'.'</span><span class="s3">)) {</span>
                <span class="s4">return </span><span class="s1">stdinResult </span><span class="s3">|| (</span><span class="s1">stdinResult </span><span class="s3">= </span><span class="s1">readStdin</span><span class="s3">());</span>
            <span class="s3">}</span>
        <span class="s3">},</span>
        <span class="s1">name</span><span class="s3">: </span><span class="s2">'stdin'</span><span class="s3">,</span>
        <span class="s1">resolveId</span><span class="s3">(</span><span class="s1">id</span><span class="s3">) {</span>
            <span class="s4">if </span><span class="s3">(</span><span class="s1">id </span><span class="s3">=== </span><span class="s1">stdinName</span><span class="s3">) {</span>
                <span class="s4">return </span><span class="s1">id </span><span class="s3">+ </span><span class="s1">suffix</span><span class="s3">;</span>
            <span class="s3">}</span>
        <span class="s3">}</span>
    <span class="s3">};</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">readStdin</span><span class="s3">() {</span>
    <span class="s4">return new </span><span class="s1">Promise</span><span class="s3">((</span><span class="s1">resolve</span><span class="s3">, </span><span class="s1">reject</span><span class="s3">) =&gt; {</span>
        <span class="s4">const </span><span class="s1">chunks </span><span class="s3">= [];</span>
        <span class="s1">process$1</span><span class="s3">.</span><span class="s1">stdin</span><span class="s3">.</span><span class="s1">setEncoding</span><span class="s3">(</span><span class="s2">'utf8'</span><span class="s3">);</span>
        <span class="s1">process$1</span><span class="s3">.</span><span class="s1">stdin</span>
            <span class="s3">.</span><span class="s1">on</span><span class="s3">(</span><span class="s2">'data'</span><span class="s3">, </span><span class="s1">chunk </span><span class="s3">=&gt; </span><span class="s1">chunks</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">chunk</span><span class="s3">))</span>
            <span class="s3">.</span><span class="s1">on</span><span class="s3">(</span><span class="s2">'end'</span><span class="s3">, () =&gt; {</span>
            <span class="s4">const </span><span class="s1">result </span><span class="s3">= </span><span class="s1">chunks</span><span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">''</span><span class="s3">);</span>
            <span class="s1">resolve</span><span class="s3">(</span><span class="s1">result</span><span class="s3">);</span>
        <span class="s3">})</span>
            <span class="s3">.</span><span class="s1">on</span><span class="s3">(</span><span class="s2">'error'</span><span class="s3">, </span><span class="s1">err </span><span class="s3">=&gt; {</span>
            <span class="s1">reject</span><span class="s3">(</span><span class="s1">err</span><span class="s3">);</span>
        <span class="s3">});</span>
    <span class="s3">});</span>
<span class="s3">}</span>

<span class="s4">function </span><span class="s1">waitForInputPlugin</span><span class="s3">() {</span>
    <span class="s4">return </span><span class="s3">{</span>
        <span class="s1">async buildStart</span><span class="s3">(</span><span class="s1">options</span><span class="s3">) {</span>
            <span class="s4">const </span><span class="s1">inputSpecifiers </span><span class="s3">= </span><span class="s1">Array</span><span class="s3">.</span><span class="s1">isArray</span><span class="s3">(</span><span class="s1">options</span><span class="s3">.</span><span class="s1">input</span><span class="s3">)</span>
                <span class="s3">? </span><span class="s1">options</span><span class="s3">.</span><span class="s1">input</span>
                <span class="s3">: </span><span class="s1">Object</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">(</span><span class="s1">options</span><span class="s3">.</span><span class="s1">input</span><span class="s3">);</span>
            <span class="s4">let </span><span class="s1">lastAwaitedSpecifier </span><span class="s3">= </span><span class="s4">null</span><span class="s3">;</span>
            <span class="s1">checkSpecifiers</span><span class="s3">: </span><span class="s4">while </span><span class="s3">(</span><span class="s4">true</span><span class="s3">) {</span>
                <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">specifier of inputSpecifiers</span><span class="s3">) {</span>
                    <span class="s4">if </span><span class="s3">((</span><span class="s4">await this</span><span class="s3">.</span><span class="s1">resolve</span><span class="s3">(</span><span class="s1">specifier</span><span class="s3">)) === </span><span class="s4">null</span><span class="s3">) {</span>
                        <span class="s4">if </span><span class="s3">(</span><span class="s1">lastAwaitedSpecifier </span><span class="s3">!== </span><span class="s1">specifier</span><span class="s3">) {</span>
                            <span class="s1">stderr</span><span class="s3">(</span><span class="s2">`waiting for input </span><span class="s1">$</span><span class="s3">{</span><span class="s1">bold</span><span class="s3">(</span><span class="s1">specifier</span><span class="s3">)}</span><span class="s2">...`</span><span class="s3">);</span>
                            <span class="s1">lastAwaitedSpecifier </span><span class="s3">= </span><span class="s1">specifier</span><span class="s3">;</span>
                        <span class="s3">}</span>
                        <span class="s4">await new </span><span class="s1">Promise</span><span class="s3">(</span><span class="s1">resolve </span><span class="s3">=&gt; </span><span class="s1">setTimeout</span><span class="s3">(</span><span class="s1">resolve</span><span class="s3">, </span><span class="s5">500</span><span class="s3">));</span>
                        <span class="s4">continue </span><span class="s1">checkSpecifiers</span><span class="s3">;</span>
                    <span class="s3">}</span>
                <span class="s3">}</span>
                <span class="s4">break</span><span class="s3">;</span>
            <span class="s3">}</span>
        <span class="s3">},</span>
        <span class="s1">name</span><span class="s3">: </span><span class="s2">'wait-for-input'</span>
    <span class="s3">};</span>
<span class="s3">}</span>

<span class="s1">async </span><span class="s4">function </span><span class="s1">addCommandPluginsToInputOptions</span><span class="s3">(</span><span class="s1">inputOptions</span><span class="s3">, </span><span class="s1">command</span><span class="s3">) {</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">command</span><span class="s3">.</span><span class="s1">stdin </span><span class="s3">!== </span><span class="s4">false</span><span class="s3">) {</span>
        <span class="s1">inputOptions</span><span class="s3">.</span><span class="s1">plugins</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">stdinPlugin</span><span class="s3">(</span><span class="s1">command</span><span class="s3">.</span><span class="s1">stdin</span><span class="s3">));</span>
    <span class="s3">}</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">command</span><span class="s3">.</span><span class="s1">waitForBundleInput </span><span class="s3">=== </span><span class="s4">true</span><span class="s3">) {</span>
        <span class="s1">inputOptions</span><span class="s3">.</span><span class="s1">plugins</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">waitForInputPlugin</span><span class="s3">());</span>
    <span class="s3">}</span>
    <span class="s4">await </span><span class="s1">addPluginsFromCommandOption</span><span class="s3">(</span><span class="s1">command</span><span class="s3">.</span><span class="s1">plugin</span><span class="s3">, </span><span class="s1">inputOptions</span><span class="s3">);</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">addPluginsFromCommandOption</span><span class="s3">(</span><span class="s1">commandPlugin</span><span class="s3">, </span><span class="s1">inputOptions</span><span class="s3">) {</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">commandPlugin</span><span class="s3">) {</span>
        <span class="s4">const </span><span class="s1">plugins </span><span class="s3">= </span><span class="s1">Array</span><span class="s3">.</span><span class="s1">isArray</span><span class="s3">(</span><span class="s1">commandPlugin</span><span class="s3">) ? </span><span class="s1">commandPlugin </span><span class="s3">: [</span><span class="s1">commandPlugin</span><span class="s3">];</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">plugin of plugins</span><span class="s3">) {</span>
            <span class="s4">if </span><span class="s3">(</span><span class="s6">/[={}]/</span><span class="s3">.</span><span class="s1">test</span><span class="s3">(</span><span class="s1">plugin</span><span class="s3">)) {</span>
                <span class="s0">// -p plugin=value</span>
                <span class="s0">// -p &quot;{transform(c,i){...}}&quot;</span>
                <span class="s4">await </span><span class="s1">loadAndRegisterPlugin</span><span class="s3">(</span><span class="s1">inputOptions</span><span class="s3">, </span><span class="s1">plugin</span><span class="s3">);</span>
            <span class="s3">}</span>
            <span class="s4">else </span><span class="s3">{</span>
                <span class="s0">// split out plugins joined by commas</span>
                <span class="s0">// -p node-resolve,commonjs,buble</span>
                <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">p of plugin</span><span class="s3">.</span><span class="s1">split</span><span class="s3">(</span><span class="s2">','</span><span class="s3">)) {</span>
                    <span class="s4">await </span><span class="s1">loadAndRegisterPlugin</span><span class="s3">(</span><span class="s1">inputOptions</span><span class="s3">, </span><span class="s1">p</span><span class="s3">);</span>
                <span class="s3">}</span>
            <span class="s3">}</span>
        <span class="s3">}</span>
    <span class="s3">}</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">loadAndRegisterPlugin</span><span class="s3">(</span><span class="s1">inputOptions</span><span class="s3">, </span><span class="s1">pluginText</span><span class="s3">) {</span>
    <span class="s4">let </span><span class="s1">plugin </span><span class="s3">= </span><span class="s4">null</span><span class="s3">;</span>
    <span class="s4">let </span><span class="s1">pluginArg </span><span class="s3">= </span><span class="s1">undefined</span><span class="s3">;</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">[</span><span class="s5">0</span><span class="s3">] === </span><span class="s2">'{'</span><span class="s3">) {</span>
        <span class="s0">// -p &quot;{transform(c,i){...}}&quot;</span>
        <span class="s1">plugin </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Function</span><span class="s3">(</span><span class="s2">'return ' </span><span class="s3">+ </span><span class="s1">pluginText</span><span class="s3">);</span>
    <span class="s3">}</span>
    <span class="s4">else </span><span class="s3">{</span>
        <span class="s4">const </span><span class="s1">match </span><span class="s3">= </span><span class="s1">pluginText</span><span class="s3">.</span><span class="s1">match</span><span class="s3">(</span><span class="s6">/^([@.:/\\\w|^{}-]+)(=(.*))?$/</span><span class="s3">);</span>
        <span class="s4">if </span><span class="s3">(</span><span class="s1">match</span><span class="s3">) {</span>
            <span class="s0">// -p plugin</span>
            <span class="s0">// -p plugin=arg</span>
            <span class="s1">pluginText </span><span class="s3">= </span><span class="s1">match</span><span class="s3">[</span><span class="s5">1</span><span class="s3">];</span>
            <span class="s1">pluginArg </span><span class="s3">= </span><span class="s4">new </span><span class="s1">Function</span><span class="s3">(</span><span class="s2">'return ' </span><span class="s3">+ </span><span class="s1">match</span><span class="s3">[</span><span class="s5">3</span><span class="s3">])();</span>
        <span class="s3">}</span>
        <span class="s4">else </span><span class="s3">{</span>
            <span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span><span class="s2">`Invalid --plugin argument format: </span><span class="s1">$</span><span class="s3">{</span><span class="s1">JSON</span><span class="s3">.</span><span class="s1">stringify</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">)}</span><span class="s2">`</span><span class="s3">);</span>
        <span class="s3">}</span>
        <span class="s4">if </span><span class="s3">(!</span><span class="s6">/^\.|^rollup-plugin-|[@/\\]/</span><span class="s3">.</span><span class="s1">test</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">)) {</span>
            <span class="s0">// Try using plugin prefix variations first if applicable.</span>
            <span class="s0">// Prefix order is significant - left has higher precedence.</span>
            <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">prefix of </span><span class="s3">[</span><span class="s2">'@rollup/plugin-'</span><span class="s3">, </span><span class="s2">'rollup-plugin-'</span><span class="s3">]) {</span>
                <span class="s4">try </span><span class="s3">{</span>
                    <span class="s1">plugin </span><span class="s3">= </span><span class="s4">await </span><span class="s1">requireOrImport</span><span class="s3">(</span><span class="s1">prefix </span><span class="s3">+ </span><span class="s1">pluginText</span><span class="s3">);</span>
                    <span class="s4">break</span><span class="s3">;</span>
                <span class="s3">}</span>
                <span class="s4">catch </span><span class="s3">(</span><span class="s1">_a</span><span class="s3">) {</span>
                    <span class="s0">// if this does not work, we try requiring the actual name below</span>
                <span class="s3">}</span>
            <span class="s3">}</span>
        <span class="s3">}</span>
        <span class="s4">if </span><span class="s3">(!</span><span class="s1">plugin</span><span class="s3">) {</span>
            <span class="s4">try </span><span class="s3">{</span>
                <span class="s4">if </span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">[</span><span class="s5">0</span><span class="s3">] == </span><span class="s2">'.'</span><span class="s3">)</span>
                    <span class="s1">pluginText </span><span class="s3">= </span><span class="s1">require$$0</span><span class="s3">.</span><span class="s1">resolve</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">);</span>
                <span class="s0">// Windows absolute paths must be specified as file:// protocol URL</span>
                <span class="s0">// Note that we do not have coverage for Windows-only code paths</span>
                <span class="s4">else if </span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">.</span><span class="s1">match</span><span class="s3">(</span><span class="s6">/^[A-Za-z]:\\/</span><span class="s3">)) {</span>
                    <span class="s1">pluginText </span><span class="s3">= </span><span class="s1">url</span><span class="s3">.</span><span class="s1">pathToFileURL</span><span class="s3">(</span><span class="s1">require$$0</span><span class="s3">.</span><span class="s1">resolve</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">)).</span><span class="s1">href</span><span class="s3">;</span>
                <span class="s3">}</span>
                <span class="s1">plugin </span><span class="s3">= </span><span class="s4">await </span><span class="s1">requireOrImport</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">);</span>
            <span class="s3">}</span>
            <span class="s4">catch </span><span class="s3">(</span><span class="s1">err</span><span class="s3">) {</span>
                <span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span><span class="s2">`Cannot load plugin &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">pluginText</span><span class="s3">}</span><span class="s2">&quot;: </span><span class="s1">$</span><span class="s3">{</span><span class="s1">err</span><span class="s3">.</span><span class="s1">message</span><span class="s3">}</span><span class="s2">.`</span><span class="s3">);</span>
            <span class="s3">}</span>
        <span class="s3">}</span>
    <span class="s3">}</span>
    <span class="s0">// some plugins do not use `module.exports` for their entry point,</span>
    <span class="s0">// in which case we try the named default export and the plugin name</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s4">typeof </span><span class="s1">plugin </span><span class="s3">=== </span><span class="s2">'object'</span><span class="s3">) {</span>
        <span class="s1">plugin </span><span class="s3">= </span><span class="s1">plugin</span><span class="s3">.</span><span class="s1">default </span><span class="s3">|| </span><span class="s1">plugin</span><span class="s3">[</span><span class="s1">getCamelizedPluginBaseName</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">)];</span>
    <span class="s3">}</span>
    <span class="s4">if </span><span class="s3">(!</span><span class="s1">plugin</span><span class="s3">) {</span>
        <span class="s4">throw new </span><span class="s1">Error</span><span class="s3">(</span><span class="s2">`Cannot find entry for plugin &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">pluginText</span><span class="s3">}</span><span class="s2">&quot;. The plugin needs to export a function either as &quot;default&quot; or &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">getCamelizedPluginBaseName</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">)}</span><span class="s2">&quot; for Rollup to recognize it.`</span><span class="s3">);</span>
    <span class="s3">}</span>
    <span class="s1">inputOptions</span><span class="s3">.</span><span class="s1">plugins</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s4">typeof </span><span class="s1">plugin </span><span class="s3">=== </span><span class="s2">'function' </span><span class="s3">? </span><span class="s1">plugin</span><span class="s3">.</span><span class="s1">call</span><span class="s3">(</span><span class="s1">plugin</span><span class="s3">, </span><span class="s1">pluginArg</span><span class="s3">) : </span><span class="s1">plugin</span><span class="s3">);</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">getCamelizedPluginBaseName</span><span class="s3">(</span><span class="s1">pluginText</span><span class="s3">) {</span>
    <span class="s4">var </span><span class="s1">_a</span><span class="s3">;</span>
    <span class="s4">return </span><span class="s3">(((</span><span class="s1">_a </span><span class="s3">= </span><span class="s1">pluginText</span><span class="s3">.</span><span class="s1">match</span><span class="s3">(</span><span class="s6">/(@rollup\/plugin-|rollup-plugin-)(.+)$/</span><span class="s3">)) === </span><span class="s4">null </span><span class="s3">|| </span><span class="s1">_a </span><span class="s3">=== </span><span class="s4">void </span><span class="s5">0 </span><span class="s3">? </span><span class="s4">void </span><span class="s5">0 </span><span class="s3">: </span><span class="s1">_a</span><span class="s3">[</span><span class="s5">2</span><span class="s3">]) || </span><span class="s1">pluginText</span><span class="s3">)</span>
        <span class="s3">.</span><span class="s1">split</span><span class="s3">(</span><span class="s6">/[\\/]/</span><span class="s3">)</span>
        <span class="s3">.</span><span class="s1">slice</span><span class="s3">(-</span><span class="s5">1</span><span class="s3">)[</span><span class="s5">0</span><span class="s3">]</span>
        <span class="s3">.</span><span class="s1">split</span><span class="s3">(</span><span class="s2">'.'</span><span class="s3">)[</span><span class="s5">0</span><span class="s3">]</span>
        <span class="s3">.</span><span class="s1">split</span><span class="s3">(</span><span class="s2">'-'</span><span class="s3">)</span>
        <span class="s3">.</span><span class="s1">map</span><span class="s3">((</span><span class="s1">part</span><span class="s3">, </span><span class="s1">index</span><span class="s3">) =&gt; (</span><span class="s1">index </span><span class="s3">=== </span><span class="s5">0 </span><span class="s3">|| !</span><span class="s1">part </span><span class="s3">? </span><span class="s1">part </span><span class="s3">: </span><span class="s1">part</span><span class="s3">[</span><span class="s5">0</span><span class="s3">].</span><span class="s1">toUpperCase</span><span class="s3">() + </span><span class="s1">part</span><span class="s3">.</span><span class="s1">slice</span><span class="s3">(</span><span class="s5">1</span><span class="s3">)))</span>
        <span class="s3">.</span><span class="s1">join</span><span class="s3">(</span><span class="s2">''</span><span class="s3">);</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">requireOrImport</span><span class="s3">(</span><span class="s1">pluginPath</span><span class="s3">) {</span>
    <span class="s4">try </span><span class="s3">{</span>
        <span class="s4">return </span><span class="s1">require</span><span class="s3">(</span><span class="s1">pluginPath</span><span class="s3">);</span>
    <span class="s3">}</span>
    <span class="s4">catch </span><span class="s3">(</span><span class="s1">_a</span><span class="s3">) {</span>
        <span class="s4">return import</span><span class="s3">(</span><span class="s1">pluginPath</span><span class="s3">);</span>
    <span class="s3">}</span>
<span class="s3">}</span>

<span class="s4">function </span><span class="s1">supportsNativeESM</span><span class="s3">() {</span>
    <span class="s4">return </span><span class="s1">Number</span><span class="s3">(</span><span class="s6">/^v(\d+)/</span><span class="s3">.</span><span class="s1">exec</span><span class="s3">(</span><span class="s1">process$1</span><span class="s3">.</span><span class="s1">version</span><span class="s3">)[</span><span class="s5">1</span><span class="s3">]) &gt;= </span><span class="s5">13</span><span class="s3">;</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">loadAndParseConfigFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">commandOptions </span><span class="s3">= {}) {</span>
    <span class="s4">const </span><span class="s1">configs </span><span class="s3">= </span><span class="s4">await </span><span class="s1">loadConfigFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">);</span>
    <span class="s4">const </span><span class="s1">warnings </span><span class="s3">= </span><span class="s1">batchWarnings</span><span class="s3">();</span>
    <span class="s4">try </span><span class="s3">{</span>
        <span class="s4">const </span><span class="s1">normalizedConfigs </span><span class="s3">= [];</span>
        <span class="s4">for </span><span class="s3">(</span><span class="s4">const </span><span class="s1">config of configs</span><span class="s3">) {</span>
            <span class="s4">const </span><span class="s1">options </span><span class="s3">= </span><span class="s1">mergeOptions</span><span class="s3">.</span><span class="s1">mergeOptions</span><span class="s3">(</span><span class="s1">config</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">, </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">add</span><span class="s3">);</span>
            <span class="s4">await </span><span class="s1">addCommandPluginsToInputOptions</span><span class="s3">(</span><span class="s1">options</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">);</span>
            <span class="s1">normalizedConfigs</span><span class="s3">.</span><span class="s1">push</span><span class="s3">(</span><span class="s1">options</span><span class="s3">);</span>
        <span class="s3">}</span>
        <span class="s4">return </span><span class="s3">{ </span><span class="s1">options</span><span class="s3">: </span><span class="s1">normalizedConfigs</span><span class="s3">, </span><span class="s1">warnings </span><span class="s3">};</span>
    <span class="s3">}</span>
    <span class="s4">catch </span><span class="s3">(</span><span class="s1">err</span><span class="s3">) {</span>
        <span class="s1">warnings</span><span class="s3">.</span><span class="s1">flush</span><span class="s3">();</span>
        <span class="s4">throw </span><span class="s1">err</span><span class="s3">;</span>
    <span class="s3">}</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">loadConfigFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">extension </span><span class="s3">= </span><span class="s1">require$$0</span><span class="s3">.</span><span class="s1">extname</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">);</span>
    <span class="s4">const </span><span class="s1">configFileExport </span><span class="s3">= </span><span class="s1">commandOptions</span><span class="s3">.</span><span class="s1">configPlugin </span><span class="s3">||</span>
        <span class="s3">!(</span><span class="s1">extension </span><span class="s3">=== </span><span class="s2">'.cjs' </span><span class="s3">|| (</span><span class="s1">extension </span><span class="s3">=== </span><span class="s2">'.mjs' </span><span class="s3">&amp;&amp; </span><span class="s1">supportsNativeESM</span><span class="s3">()))</span>
        <span class="s3">? </span><span class="s4">await </span><span class="s1">getDefaultFromTranspiledConfigFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">)</span>
        <span class="s3">: </span><span class="s1">extension </span><span class="s3">=== </span><span class="s2">'.cjs'</span>
            <span class="s3">? </span><span class="s1">getDefaultFromCjs</span><span class="s3">(</span><span class="s1">require</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">))</span>
            <span class="s3">: (</span><span class="s4">await import</span><span class="s3">(</span><span class="s1">url</span><span class="s3">.</span><span class="s1">pathToFileURL</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">).</span><span class="s1">href</span><span class="s3">)).</span><span class="s1">default</span><span class="s3">;</span>
    <span class="s4">return </span><span class="s1">getConfigList</span><span class="s3">(</span><span class="s1">configFileExport</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">);</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">getDefaultFromCjs</span><span class="s3">(</span><span class="s1">namespace</span><span class="s3">) {</span>
    <span class="s4">return </span><span class="s1">namespace</span><span class="s3">.</span><span class="s1">__esModule </span><span class="s3">? </span><span class="s1">namespace</span><span class="s3">.</span><span class="s1">default </span><span class="s3">: </span><span class="s1">namespace</span><span class="s3">;</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">getDefaultFromTranspiledConfigFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">warnings </span><span class="s3">= </span><span class="s1">batchWarnings</span><span class="s3">();</span>
    <span class="s4">const </span><span class="s1">inputOptions </span><span class="s3">= {</span>
        <span class="s1">external</span><span class="s3">: (</span><span class="s1">id</span><span class="s3">) =&gt; (</span><span class="s1">id</span><span class="s3">[</span><span class="s5">0</span><span class="s3">] !== </span><span class="s2">'.' </span><span class="s3">&amp;&amp; !</span><span class="s1">require$$0</span><span class="s3">.</span><span class="s1">isAbsolute</span><span class="s3">(</span><span class="s1">id</span><span class="s3">)) || </span><span class="s1">id</span><span class="s3">.</span><span class="s1">slice</span><span class="s3">(-</span><span class="s5">5</span><span class="s3">, </span><span class="s1">id</span><span class="s3">.</span><span class="s1">length</span><span class="s3">) === </span><span class="s2">'.json'</span><span class="s3">,</span>
        <span class="s1">input</span><span class="s3">: </span><span class="s1">fileName</span><span class="s3">,</span>
        <span class="s1">onwarn</span><span class="s3">: </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">add</span><span class="s3">,</span>
        <span class="s1">plugins</span><span class="s3">: [],</span>
        <span class="s1">treeshake</span><span class="s3">: </span><span class="s4">false</span>
    <span class="s3">};</span>
    <span class="s4">await </span><span class="s1">addPluginsFromCommandOption</span><span class="s3">(</span><span class="s1">commandOptions</span><span class="s3">.</span><span class="s1">configPlugin</span><span class="s3">, </span><span class="s1">inputOptions</span><span class="s3">);</span>
    <span class="s4">const </span><span class="s1">bundle </span><span class="s3">= </span><span class="s4">await </span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">rollup</span><span class="s3">(</span><span class="s1">inputOptions</span><span class="s3">);</span>
    <span class="s4">if </span><span class="s3">(!</span><span class="s1">commandOptions</span><span class="s3">.</span><span class="s1">silent </span><span class="s3">&amp;&amp; </span><span class="s1">warnings</span><span class="s3">.</span><span class="s1">count </span><span class="s3">&gt; </span><span class="s5">0</span><span class="s3">) {</span>
        <span class="s1">stderr</span><span class="s3">(</span><span class="s1">bold</span><span class="s3">(</span><span class="s2">`loaded </span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">)} </span><span class="s2">with warnings`</span><span class="s3">));</span>
        <span class="s1">warnings</span><span class="s3">.</span><span class="s1">flush</span><span class="s3">();</span>
    <span class="s3">}</span>
    <span class="s4">const </span><span class="s3">{ </span><span class="s1">output</span><span class="s3">: [{ </span><span class="s1">code </span><span class="s3">}] } = </span><span class="s4">await </span><span class="s1">bundle</span><span class="s3">.</span><span class="s1">generate</span><span class="s3">({</span>
        <span class="s1">exports</span><span class="s3">: </span><span class="s2">'named'</span><span class="s3">,</span>
        <span class="s1">format</span><span class="s3">: </span><span class="s2">'cjs'</span><span class="s3">,</span>
        <span class="s1">plugins</span><span class="s3">: [</span>
            <span class="s3">{</span>
                <span class="s1">name</span><span class="s3">: </span><span class="s2">'transpile-import-meta'</span><span class="s3">,</span>
                <span class="s1">resolveImportMeta</span><span class="s3">(</span><span class="s1">property</span><span class="s3">, { </span><span class="s1">moduleId </span><span class="s3">}) {</span>
                    <span class="s4">if </span><span class="s3">(</span><span class="s1">property </span><span class="s3">=== </span><span class="s2">'url'</span><span class="s3">) {</span>
                        <span class="s4">return </span><span class="s2">`'</span><span class="s1">$</span><span class="s3">{</span><span class="s1">url</span><span class="s3">.</span><span class="s1">pathToFileURL</span><span class="s3">(</span><span class="s1">moduleId</span><span class="s3">).</span><span class="s1">href</span><span class="s3">}</span><span class="s2">'`</span><span class="s3">;</span>
                    <span class="s3">}</span>
                    <span class="s4">if </span><span class="s3">(</span><span class="s1">property </span><span class="s3">== </span><span class="s4">null</span><span class="s3">) {</span>
                        <span class="s4">return </span><span class="s2">`{url:'</span><span class="s1">$</span><span class="s3">{</span><span class="s1">url</span><span class="s3">.</span><span class="s1">pathToFileURL</span><span class="s3">(</span><span class="s1">moduleId</span><span class="s3">).</span><span class="s1">href</span><span class="s3">}</span><span class="s2">'}`</span><span class="s3">;</span>
                    <span class="s3">}</span>
                <span class="s3">}</span>
            <span class="s3">}</span>
        <span class="s3">]</span>
    <span class="s3">});</span>
    <span class="s4">return </span><span class="s1">loadConfigFromBundledFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">code</span><span class="s3">);</span>
<span class="s3">}</span>
<span class="s4">function </span><span class="s1">loadConfigFromBundledFile</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">, </span><span class="s1">bundledCode</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">resolvedFileName </span><span class="s3">= </span><span class="s1">require</span><span class="s3">.</span><span class="s1">resolve</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">);</span>
    <span class="s4">const </span><span class="s1">extension </span><span class="s3">= </span><span class="s1">require$$0</span><span class="s3">.</span><span class="s1">extname</span><span class="s3">(</span><span class="s1">resolvedFileName</span><span class="s3">);</span>
    <span class="s4">const </span><span class="s1">defaultLoader </span><span class="s3">= </span><span class="s1">require</span><span class="s3">.</span><span class="s1">extensions</span><span class="s3">[</span><span class="s1">extension</span><span class="s3">];</span>
    <span class="s1">require</span><span class="s3">.</span><span class="s1">extensions</span><span class="s3">[</span><span class="s1">extension</span><span class="s3">] = (</span><span class="s1">module</span><span class="s3">, </span><span class="s1">requiredFileName</span><span class="s3">) =&gt; {</span>
        <span class="s4">if </span><span class="s3">(</span><span class="s1">requiredFileName </span><span class="s3">=== </span><span class="s1">resolvedFileName</span><span class="s3">) {</span>
            <span class="s1">module</span><span class="s3">.</span><span class="s1">_compile</span><span class="s3">(</span><span class="s1">bundledCode</span><span class="s3">, </span><span class="s1">requiredFileName</span><span class="s3">);</span>
        <span class="s3">}</span>
        <span class="s4">else </span><span class="s3">{</span>
            <span class="s4">if </span><span class="s3">(</span><span class="s1">defaultLoader</span><span class="s3">) {</span>
                <span class="s1">defaultLoader</span><span class="s3">(</span><span class="s1">module</span><span class="s3">, </span><span class="s1">requiredFileName</span><span class="s3">);</span>
            <span class="s3">}</span>
        <span class="s3">}</span>
    <span class="s3">};</span>
    <span class="s4">delete </span><span class="s1">require</span><span class="s3">.</span><span class="s1">cache</span><span class="s3">[</span><span class="s1">resolvedFileName</span><span class="s3">];</span>
    <span class="s4">try </span><span class="s3">{</span>
        <span class="s4">const </span><span class="s1">config </span><span class="s3">= </span><span class="s1">getDefaultFromCjs</span><span class="s3">(</span><span class="s1">require</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">));</span>
        <span class="s1">require</span><span class="s3">.</span><span class="s1">extensions</span><span class="s3">[</span><span class="s1">extension</span><span class="s3">] = </span><span class="s1">defaultLoader</span><span class="s3">;</span>
        <span class="s4">return </span><span class="s1">config</span><span class="s3">;</span>
    <span class="s3">}</span>
    <span class="s4">catch </span><span class="s3">(</span><span class="s1">err</span><span class="s3">) {</span>
        <span class="s4">if </span><span class="s3">(</span><span class="s1">err</span><span class="s3">.</span><span class="s1">code </span><span class="s3">=== </span><span class="s2">'ERR_REQUIRE_ESM'</span><span class="s3">) {</span>
            <span class="s4">return </span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">error</span><span class="s3">({</span>
                <span class="s1">code</span><span class="s3">: </span><span class="s2">'TRANSPILED_ESM_CONFIG'</span><span class="s3">,</span>
                <span class="s1">message</span><span class="s3">: </span><span class="s2">`While loading the Rollup configuration from &quot;</span><span class="s1">$</span><span class="s3">{</span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">relativeId</span><span class="s3">(</span><span class="s1">fileName</span><span class="s3">)}</span><span class="s2">&quot;, Node tried to require an ES module from a CommonJS file, which is not supported. A common cause is if there is a package.json file with &quot;type&quot;: &quot;module&quot; in the same folder. You can try to fix this by changing the extension of your configuration file to &quot;.cjs&quot; or &quot;.mjs&quot; depending on the content, which will prevent Rollup from trying to preprocess the file but rather hand it to Node directly.`</span><span class="s3">,</span>
                <span class="s1">url</span><span class="s3">: </span><span class="s2">'https://rollupjs.org/guide/en/#using-untranspiled-config-files'</span>
            <span class="s3">});</span>
        <span class="s3">}</span>
        <span class="s4">throw </span><span class="s1">err</span><span class="s3">;</span>
    <span class="s3">}</span>
<span class="s3">}</span>
<span class="s1">async </span><span class="s4">function </span><span class="s1">getConfigList</span><span class="s3">(</span><span class="s1">configFileExport</span><span class="s3">, </span><span class="s1">commandOptions</span><span class="s3">) {</span>
    <span class="s4">const </span><span class="s1">config </span><span class="s3">= </span><span class="s4">await </span><span class="s3">(</span><span class="s4">typeof </span><span class="s1">configFileExport </span><span class="s3">=== </span><span class="s2">'function'</span>
        <span class="s3">? </span><span class="s1">configFileExport</span><span class="s3">(</span><span class="s1">commandOptions</span><span class="s3">)</span>
        <span class="s3">: </span><span class="s1">configFileExport</span><span class="s3">);</span>
    <span class="s4">if </span><span class="s3">(</span><span class="s1">Object</span><span class="s3">.</span><span class="s1">keys</span><span class="s3">(</span><span class="s1">config</span><span class="s3">).</span><span class="s1">length </span><span class="s3">=== </span><span class="s5">0</span><span class="s3">) {</span>
        <span class="s4">return </span><span class="s1">rollup</span><span class="s3">.</span><span class="s1">error</span><span class="s3">({</span>
            <span class="s1">code</span><span class="s3">: </span><span class="s2">'MISSING_CONFIG'</span><span class="s3">,</span>
            <span class="s1">message</span><span class="s3">: </span><span class="s2">'Config file must export an options object, or an array of options objects'</span><span class="s3">,</span>
            <span class="s1">url</span><span class="s3">: </span><span class="s2">'https://rollupjs.org/guide/en/#configuration-files'</span>
        <span class="s3">});</span>
    <span class="s3">}</span>
    <span class="s4">return </span><span class="s1">Array</span><span class="s3">.</span><span class="s1">isArray</span><span class="s3">(</span><span class="s1">config</span><span class="s3">) ? </span><span class="s1">config </span><span class="s3">: [</span><span class="s1">config</span><span class="s3">];</span>
<span class="s3">}</span>

<span class="s1">exports</span><span class="s3">.</span><span class="s1">addCommandPluginsToInputOptions </span><span class="s3">= </span><span class="s1">addCommandPluginsToInputOptions</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">batchWarnings </span><span class="s3">= </span><span class="s1">batchWarnings</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">bold </span><span class="s3">= </span><span class="s1">bold</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">cyan </span><span class="s3">= </span><span class="s1">cyan</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">green </span><span class="s3">= </span><span class="s1">green</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">handleError </span><span class="s3">= </span><span class="s1">handleError</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">loadAndParseConfigFile </span><span class="s3">= </span><span class="s1">loadAndParseConfigFile</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">stderr </span><span class="s3">= </span><span class="s1">stderr</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">stdinName </span><span class="s3">= </span><span class="s1">stdinName</span><span class="s3">;</span>
<span class="s1">exports</span><span class="s3">.</span><span class="s1">underline </span><span class="s3">= </span><span class="s1">underline</span><span class="s3">;</span>
<span class="s0">//# sourceMappingURL=loadConfigFile.js.map</span>
</pre>
</body>
</html>