<html>
<head>
<title>parse.test.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6aab73;}
.s1 { color: #bcbec4;}
.s2 { color: #cf8e6d;}
.s3 { color: #bcbec4;}
.s4 { color: #7a7e85;}
.s5 { color: #2aacb8;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
parse.test.js</font>
</center></td></tr></table>
<pre><span class="s0">'use strict'</span>

<span class="s2">const </span><span class="s1">test </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s0">'tape'</span><span class="s3">)</span>
<span class="s2">const </span><span class="s1">URI </span><span class="s3">= </span><span class="s1">require</span><span class="s3">(</span><span class="s0">'../'</span><span class="s3">)</span>

<span class="s1">test</span><span class="s3">(</span><span class="s0">'URI parse'</span><span class="s3">, (</span><span class="s1">t</span><span class="s3">) =&gt; {</span>
  <span class="s2">let </span><span class="s1">components</span>

  <span class="s4">// scheme</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'uri:'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s0">'uri'</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// userinfo</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//@'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, &quot;@&quot;, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// host</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, &quot;&quot;, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// port</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//:'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, &quot;:&quot;, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// path</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">''</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// query</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'?'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// fragment</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'#'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// fragment with character tabulation</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'#</span><span class="s2">\t</span><span class="s0">'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">'%09'</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// fragment with line feed</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'#</span><span class="s2">\n</span><span class="s0">'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">'%0A'</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// fragment with line tabulation</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'#</span><span class="s2">\v</span><span class="s0">'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">'%0B'</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// fragment with form feed</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'#</span><span class="s2">\f</span><span class="s0">'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">'%0C'</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// fragment with carriage return</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'#</span><span class="s2">\r</span><span class="s0">'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">'%0D'</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// all</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'uri://user:pass@example.com:123/one/two.three?q1=a1&amp;q2=a2#body'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'all errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s0">'uri'</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, &quot;user:pass@example.com:123&quot;, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s0">'user:pass'</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'example.com'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s5">123</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">'/one/two.three'</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s0">'q1=a1&amp;q2=a2'</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s0">'body'</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv4address</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//10.10.10.10'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv4address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'10.10.10.10'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv4address with unformated 0 stay as-is</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//10.10.000.10'</span><span class="s3">) </span><span class="s4">// not valid as per https://datatracker.ietf.org/doc/html/rfc5954#section-4.1</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv4address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'10.10.000.10'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//01.01.01.01'</span><span class="s3">) </span><span class="s4">// not valid in URIs: https://datatracker.ietf.org/doc/html/rfc3986#section-7.4</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv4address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'01.01.01.01'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv6address</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[2001:db8::7]'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv4address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'2001:db8::7'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// invalid IPv6</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[2001:dbZ::7]'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'[2001:dbz::7]'</span><span class="s3">)</span>

  <span class="s4">// mixed IPv4address &amp; IPv6address</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[::ffff:129.144.52.38]'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv4address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'::ffff:129.144.52.38'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// mixed IPv4address &amp; reg-name, example from terion-name (https://github.com/garycourt/uri-js/issues/4)</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'uri://10.10.10.10.example.com/en/process'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'mixed errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s0">'uri'</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'10.10.10.10.example.com'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">'/en/process'</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv6address, example from bkw (https://github.com/garycourt/uri-js/pull/16)</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[2606:2800:220:1:248:1893:25c8:1946]/test'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv6address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'2606:2800:220:1:248:1893:25c8:1946'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">'/test'</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv6address, example from RFC 5952</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[2001:db8::1]:80'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv6address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'2001:db8::1'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s5">80</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv6address with zone identifier, RFC 6874</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[fe80::a%25en1]'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv4address errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'fe80::a%en1'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// IPv6address with an unescaped interface specifier, example from pekkanikander (https://github.com/garycourt/uri-js/pull/22)</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[2001:db8::7%en0]'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'IPv6address interface errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'2001:db8::7%en0'</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s0">''</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>

  <span class="s4">// UUID V1</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'urn:uuid:b571b0bc-4713-11ec-81d3-0242ac130003'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s0">'urn'</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">nid</span><span class="s3">, </span><span class="s0">'uuid'</span><span class="s3">, </span><span class="s0">'nid'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">nss</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'nss'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">uuid</span><span class="s3">, </span><span class="s0">'b571b0bc-4713-11ec-81d3-0242ac130003'</span><span class="s3">, </span><span class="s0">'uuid'</span><span class="s3">)</span>

  <span class="s4">// UUID v4</span>
  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'urn:uuid:97a32222-89b7-420e-8507-4360723e2c2a'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">uuid</span><span class="s3">, </span><span class="s0">'97a32222-89b7-420e-8507-4360723e2c2a'</span><span class="s3">, </span><span class="s0">'uuid'</span><span class="s3">)</span>

  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'urn:uuid:notauuid-7dec-11d0-a765-00a0c91e6bf6'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">notSame</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'errors'</span><span class="s3">)</span>

  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'urn:foo:a123,456'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'errors'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">scheme</span><span class="s3">, </span><span class="s0">'urn'</span><span class="s3">, </span><span class="s0">'scheme'</span><span class="s3">)</span>
  <span class="s4">// t.equal(components.authority, undefined, &quot;authority&quot;);</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">userinfo</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'userinfo'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'host'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">port</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'port'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">path</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'path'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">query</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'query'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">fragment</span><span class="s3">, </span><span class="s1">undefined</span><span class="s3">, </span><span class="s0">'fragment'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">nid</span><span class="s3">, </span><span class="s0">'foo'</span><span class="s3">, </span><span class="s0">'nid'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">nss</span><span class="s3">, </span><span class="s0">'a123,456'</span><span class="s3">, </span><span class="s0">'nss'</span><span class="s3">)</span>

  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'//[2606:2800:220:1:248:1893:25c8:1946:43209]'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">host</span><span class="s3">, </span><span class="s0">'[2606:2800:220:1:248:1893:25c8:1946:43209]'</span><span class="s3">)</span>

  <span class="s1">components </span><span class="s3">= </span><span class="s1">URI</span><span class="s3">.</span><span class="s1">parse</span><span class="s3">(</span><span class="s0">'urn:foo:|</span><span class="s2">\\</span><span class="s0">24fpl'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">equal</span><span class="s3">(</span><span class="s1">components</span><span class="s3">.</span><span class="s1">error</span><span class="s3">, </span><span class="s0">'URN can not be parsed.'</span><span class="s3">)</span>
  <span class="s1">t</span><span class="s3">.</span><span class="s1">end</span><span class="s3">()</span>
<span class="s3">})</span>
</pre>
</body>
</html>