<html>
<head>
<title>usingCtx.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
usingCtx.js.map</font>
</center></td></tr></table>
<pre><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;names&quot;</span><span class="s0">:[</span><span class="s1">&quot;_usingCtx&quot;</span><span class="s0">,</span><span class="s1">&quot;_disposeSuppressedError&quot;</span><span class="s0">,</span><span class="s1">&quot;SuppressedError&quot;</span><span class="s0">,</span><span class="s1">&quot;error&quot;</span><span class="s0">,</span><span class="s1">&quot;suppressed&quot;</span><span class="s0">,</span><span class="s1">&quot;err&quot;</span><span class="s0">,</span><span class="s1">&quot;Error&quot;</span><span class="s0">,</span><span class="s1">&quot;name&quot;</span><span class="s0">,</span><span class="s1">&quot;empty&quot;</span><span class="s0">,</span><span class="s1">&quot;stack&quot;</span><span class="s0">,</span><span class="s1">&quot;using&quot;</span><span class="s0">,</span><span class="s1">&quot;isAwait&quot;</span><span class="s0">,</span><span class="s1">&quot;value&quot;</span><span class="s0">,</span><span class="s1">&quot;Object&quot;</span><span class="s0">,</span><span class="s1">&quot;TypeError&quot;</span><span class="s0">,</span><span class="s1">&quot;dispose&quot;</span><span class="s0">,</span><span class="s1">&quot;Symbol&quot;</span><span class="s0">,</span><span class="s1">&quot;asyncDispose&quot;</span><span class="s0">,</span><span class="s1">&quot;for&quot;</span><span class="s0">,</span><span class="s1">&quot;undefined&quot;</span><span class="s0">,</span><span class="s1">&quot;inner&quot;</span><span class="s0">,</span><span class="s1">&quot;call&quot;</span><span class="s0">,</span><span class="s1">&quot;e&quot;</span><span class="s0">,</span><span class="s1">&quot;Promise&quot;</span><span class="s0">,</span><span class="s1">&quot;reject&quot;</span><span class="s0">,</span><span class="s1">&quot;push&quot;</span><span class="s0">,</span><span class="s1">&quot;v&quot;</span><span class="s0">,</span><span class="s1">&quot;d&quot;</span><span class="s0">,</span><span class="s1">&quot;a&quot;</span><span class="s0">,</span><span class="s1">&quot;u&quot;</span><span class="s0">,</span><span class="s1">&quot;bind&quot;</span><span class="s0">,</span><span class="s1">&quot;state&quot;</span><span class="s0">,</span><span class="s1">&quot;resource&quot;</span><span class="s0">,</span><span class="s1">&quot;next&quot;</span><span class="s0">,</span><span class="s1">&quot;pop&quot;</span><span class="s0">,</span><span class="s1">&quot;resolve&quot;</span><span class="s0">,</span><span class="s1">&quot;then&quot;</span><span class="s0">,</span><span class="s1">&quot;disposalResult&quot;</span><span class="s0">],</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;../../src/helpers/usingCtx.ts&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/* @minVersion 7.23.9 */</span><span class="s3">\n\n</span><span class="s1">type Stack =</span><span class="s3">\n  </span><span class="s1">| {</span><span class="s3">\n      </span><span class="s1">v: Disposable | AsyncDisposable;</span><span class="s3">\n      </span><span class="s1">d: null | undefined | DisposeLike;</span><span class="s3">\n      </span><span class="s1">a: boolean;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">| {</span><span class="s3">\n      </span><span class="s1">d: null | undefined;</span><span class="s3">\n      </span><span class="s1">a: true;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">type DisposeLike = () =&gt; void | PromiseLike&lt;void&gt;;</span><span class="s3">\n\n</span><span class="s1">interface UsingCtxReturn {</span><span class="s3">\n  </span><span class="s1">e: object;</span><span class="s3">\n  </span><span class="s1">u: (value: Disposable | null | undefined) =&gt; Disposable | null | undefined;</span><span class="s3">\n  </span><span class="s1">a: (</span><span class="s3">\n    </span><span class="s1">value: AsyncDisposable | Disposable | null | undefined,</span><span class="s3">\n  </span><span class="s1">) =&gt; AsyncDisposable | Disposable | null | undefined;</span><span class="s3">\n  </span><span class="s1">d: DisposeLike;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const enum StateFlag {</span><span class="s3">\n  </span><span class="s1">NONE = 0,</span><span class="s3">\n  </span><span class="s1">NEEDS_AWAIT = 1,</span><span class="s3">\n  </span><span class="s1">HAS_AWAITED = 2,</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function _usingCtx(): UsingCtxReturn {</span><span class="s3">\n  </span><span class="s1">var _disposeSuppressedError =</span><span class="s3">\n      </span><span class="s1">typeof SuppressedError === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n        </span><span class="s1">? SuppressedError</span><span class="s3">\n        </span><span class="s1">: (function (error: Error, suppressed: Error) {</span><span class="s3">\n            </span><span class="s1">var err = new Error() as SuppressedError;</span><span class="s3">\n            </span><span class="s1">err.name = </span><span class="s3">\&quot;</span><span class="s1">SuppressedError</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">err.error = error;</span><span class="s3">\n            </span><span class="s1">err.suppressed = suppressed;</span><span class="s3">\n            </span><span class="s1">return err;</span><span class="s3">\n          </span><span class="s1">} as SuppressedErrorConstructor),</span><span class="s3">\n    </span><span class="s1">empty = {},</span><span class="s3">\n    </span><span class="s1">stack: Stack[] = [];</span><span class="s3">\n  </span><span class="s1">function using(</span><span class="s3">\n    </span><span class="s1">isAwait: true,</span><span class="s3">\n    </span><span class="s1">value: AsyncDisposable | Disposable | null | undefined,</span><span class="s3">\n  </span><span class="s1">): AsyncDisposable | Disposable | null | undefined;</span><span class="s3">\n  </span><span class="s1">function using(</span><span class="s3">\n    </span><span class="s1">isAwait: false,</span><span class="s3">\n    </span><span class="s1">value: Disposable | null | undefined,</span><span class="s3">\n  </span><span class="s1">): Disposable | null | undefined;</span><span class="s3">\n  </span><span class="s1">function using(</span><span class="s3">\n    </span><span class="s1">isAwait: boolean,</span><span class="s3">\n    </span><span class="s1">value: AsyncDisposable | Disposable | null | undefined,</span><span class="s3">\n  </span><span class="s1">): AsyncDisposable | Disposable | null | undefined {</span><span class="s3">\n    </span><span class="s1">if (value != null) {</span><span class="s3">\n      </span><span class="s1">if (Object(value) !== value) {</span><span class="s3">\n        </span><span class="s1">throw new TypeError(</span><span class="s3">\n          \&quot;</span><span class="s1">using declarations can only be used with objects, functions, null, or undefined.</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// core-js-pure uses Symbol.for for polyfilling well-known symbols</span><span class="s3">\n      </span><span class="s1">if (isAwait) {</span><span class="s3">\n        </span><span class="s1">// value can either be an AsyncDisposable or a Disposable</span><span class="s3">\n        </span><span class="s1">// Try AsyncDisposable first</span><span class="s3">\n        </span><span class="s1">var dispose: DisposeLike | null | undefined = (</span><span class="s3">\n          </span><span class="s1">value as AsyncDisposable</span><span class="s3">\n        </span><span class="s1">)[Symbol.asyncDispose || Symbol.for(</span><span class="s3">\&quot;</span><span class="s1">Symbol.asyncDispose</span><span class="s3">\&quot;</span><span class="s1">)];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (dispose === undefined) {</span><span class="s3">\n        </span><span class="s1">dispose = (value as Disposable)[</span><span class="s3">\n          </span><span class="s1">Symbol.dispose || Symbol.for(</span><span class="s3">\&quot;</span><span class="s1">Symbol.dispose</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">if (isAwait) {</span><span class="s3">\n          </span><span class="s1">var inner = dispose;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (typeof dispose !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Object is not disposable.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">// @ts-expect-error use before assignment</span><span class="s3">\n      </span><span class="s1">if (inner) {</span><span class="s3">\n        </span><span class="s1">dispose = function () {</span><span class="s3">\n          </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">inner.call(value);</span><span class="s3">\n          </span><span class="s1">} catch (e) {</span><span class="s3">\n            </span><span class="s1">// eslint-disable-next-line @typescript-eslint/prefer-promise-reject-errors</span><span class="s3">\n            </span><span class="s1">return Promise.reject(e);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">stack.push({ v: value, d: dispose, a: isAwait });</span><span class="s3">\n    </span><span class="s1">} else if (isAwait) {</span><span class="s3">\n      </span><span class="s1">// provide the nullish `value` as `d` for minification gain</span><span class="s3">\n      </span><span class="s1">stack.push({ d: value, a: isAwait });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return value;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">// error</span><span class="s3">\n    </span><span class="s1">e: empty,</span><span class="s3">\n    </span><span class="s1">// using</span><span class="s3">\n    </span><span class="s1">u: using.bind(null, false),</span><span class="s3">\n    </span><span class="s1">// await using</span><span class="s3">\n    </span><span class="s1">// full generic signature to avoid type widening</span><span class="s3">\n    </span><span class="s1">a: using.bind&lt;</span><span class="s3">\n      </span><span class="s1">null,</span><span class="s3">\n      </span><span class="s1">[true],</span><span class="s3">\n      </span><span class="s1">[AsyncDisposable | Disposable | null | undefined],</span><span class="s3">\n      </span><span class="s1">AsyncDisposable | Disposable | null | undefined</span><span class="s3">\n    </span><span class="s1">&gt;(null, true),</span><span class="s3">\n    </span><span class="s1">// dispose</span><span class="s3">\n    </span><span class="s1">d: function () {</span><span class="s3">\n      </span><span class="s1">var error = this.e,</span><span class="s3">\n        </span><span class="s1">state: StateFlag = StateFlag.NONE,</span><span class="s3">\n        </span><span class="s1">resource;</span><span class="s3">\n\n      </span><span class="s1">function next(): Promise&lt;void&gt; | void {</span><span class="s3">\n        </span><span class="s1">while ((resource = stack.pop())) {</span><span class="s3">\n          </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">if (!resource.a &amp;&amp; state === StateFlag.NEEDS_AWAIT) {</span><span class="s3">\n              </span><span class="s1">state = StateFlag.NONE;</span><span class="s3">\n              </span><span class="s1">stack.push(resource);</span><span class="s3">\n              </span><span class="s1">return Promise.resolve().then(next);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (resource.d) {</span><span class="s3">\n              </span><span class="s1">var disposalResult = resource.d.call(resource.v);</span><span class="s3">\n              </span><span class="s1">if (resource.a) {</span><span class="s3">\n                </span><span class="s1">state |= StateFlag.HAS_AWAITED;</span><span class="s3">\n                </span><span class="s1">return Promise.resolve(disposalResult).then(next, err);</span><span class="s3">\n              </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n              </span><span class="s1">state |= StateFlag.NEEDS_AWAIT;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">} catch (e) {</span><span class="s3">\n            </span><span class="s1">return err(e as Error);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (state === StateFlag.NEEDS_AWAIT) {</span><span class="s3">\n          </span><span class="s1">if (error !== empty) {</span><span class="s3">\n            </span><span class="s1">// eslint-disable-next-line @typescript-eslint/prefer-promise-reject-errors</span><span class="s3">\n            </span><span class="s1">return Promise.reject(error);</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">return Promise.resolve();</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">if (error !== empty) throw error as Error;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">function err(e: Error): Promise&lt;void&gt; | void {</span><span class="s3">\n        </span><span class="s1">error = error !== empty ? new _disposeSuppressedError(e, error) : e;</span><span class="s3">\n\n        </span><span class="s1">return next();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return next();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">} satisfies UsingCtxReturn;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;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&quot;</span><span class="s0">,</span><span class="s1">&quot;ignoreList&quot;</span><span class="s0">:[]}</span></pre>
</body>
</html>